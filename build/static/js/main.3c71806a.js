/*! For license information please see main.3c71806a.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},467:function(e){"use strict";var t=function(){};e.exports=t},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},309:function(e){"use strict";var t=function(){};e.exports=t},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,_=60107,S=60108,I=60114,T=60109,C=60110,N=60112,A=60113,O=60120,P=60115,D=60116,R=60121,L=60128,j=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),E=U("react.portal"),_=U("react.fragment"),S=U("react.strict_mode"),I=U("react.profiler"),T=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),O=U("react.suspense_list"),P=U("react.memo"),D=U("react.lazy"),R=U("react.block"),U("react.scope"),L=U("react.opaque.id"),j=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function H(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case I:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case R:return G(e._render);case D:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function De(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var je=De,Me=!1,Fe=!1;function Ue(){null===Ce&&null===Ne||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Be=!1}function ze(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,He=null,We=!1,Ge=null,Qe={onError:function(e){Ke=!0,He=e}};function Ye(e,t,n,r,i,a,o,s,u){Ke=!1,He=null,ze.apply(Qe,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Je(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},St={},It={};function Tt(e){if(St[e])return St[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return St[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Ct=Tt("animationend"),Nt=Tt("animationiteration"),At=Tt("animationstart"),Ot=Tt("transitionend"),Pt=new Map,Dt=new Map,Rt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var jt=8;function Mt(e){if(0!==(1&e))return jt=15,1;if(0!==(2&e))return jt=14,2;if(0!==(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!==(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!==(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!==(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!==(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!==(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=jt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Mt(u),i=jt):0!==(s&=a)&&(r=Mt(s),i=jt)}else 0!==(a=n&~o)?(r=Mt(a),i=jt):0!==s&&(r=Mt(s),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Wt|0)|0},Ht=Math.log,Wt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function Jt(e,t,n,r){Me||Le();var i=Xt,a=Me;Me=!0;try{Re(i,e,t,n,r)}finally{(Me=a)||Ue()}}function $t(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var a=Je(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=$e(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(wn),En=un(i({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return Tn}var Nn=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),On=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Rn),jn=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!Mn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Jn=null;function $n(e){Nr(e,0)}function Xn(e){if($(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Jn=Yn=null)}function ar(e){if("value"===e.propertyName&&Xn(Jn)){var t=[];if(Qn(t,Jn,e,Ie(e)),e=$n,Me)e(t);else{Me=!0;try{De(e,t)}finally{Me=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Jn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Jn)}function ur(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Rt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<_r.length;Sr++)Dt.set(_r[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=He;Ke=!1,He=null,We||(We=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Tr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Rr(a,e,i,t),o.add(s))}function Rr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=$t;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{je(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Ie(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case Nt:case At:u=bn;break;case Ot:u=Dn;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(jr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=Mr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Mn&&zn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(jr(e,a,i)),null!=(a=Ve(e,t))&&r.push(jr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(jr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(jr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var $r=Math.random().toString(36).slice(2),Xr="__reactFiber$"+$r,Zr="__reactProps$"+$r,ei="__reactContainer$"+$r,ti="__reactEvents$"+$r;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Xr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,_i=null,Si=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Li=a.unstable_LowPriority,ji=a.unstable_IdlePriority,Mi={},Fi=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,Bi=!1,qi=Ai(),zi=1e4>qi?Ai:function(){return Ai()-qi};function Ki(){switch(Oi()){case Pi:return 99;case Di:return 98;case Ri:return 97;case Li:return 96;case ji:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Di;case 97:return Ri;case 96:return Li;case 95:return ji;default:throw Error(o(332))}}function Wi(e,t){return e=Hi(e),Si(e,t)}function Gi(e,t,n){return e=Hi(e),Ii(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Yi()}function Yi(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ii(Pi,Qi),n}finally{Bi=!1}}}var Ji=w.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=$u(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Qu(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===_&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===_){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=Ea(e,r,a),u.return=e,e=u)}return s(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$u(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ju(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(q(a))return m(e,r,a,u);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ia=Sa(!0),Ta=Sa(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Oa=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Da(e,t){switch(fi(Oa,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Ra(){li(Na),li(Aa),li(Oa)}function La(e){Pa(Oa.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function ja(e){Aa.current===e&&(li(Na),li(Aa))}var Ma=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,Ba=!1;function qa(e,t){var n=Ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(Ba){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Ua=e);qa(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Wa(e){if(e!==Ua)return!1;if(!Ba)return Ha(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,Ba=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ja=w.ReactCurrentDispatcher,$a=w.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=null===e||null===e.memoizedState?Do:Ro,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ja.current=Lo,e=n(r,i)}while(ro)}if(Ja.current=Po,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ds;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ja.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Kt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function _o(e,t){return wo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)}function To(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Ki();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=$a.transition;$a.transition=1;try{e(!1),t()}finally{$a.transition=n}}))}function Oo(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:Io,useLayoutEffect:_o,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:Io,useLayoutEffect:_o,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},jo=w.ReactCurrentOwner,Mo=!1;function Fo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ia(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Wu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Ko(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:$i(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,jo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Da(e,t.containerInfo)}var Qo,Yo,Jo,$o={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ma,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(o,s),null!==e?r=Wu(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Ra(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:ja(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Wa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Ar(Ir[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in _e(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Ar(Ir[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}_e(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Jo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Oa.current),Pa(Na.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ds||0===(134217727&Bs)&&0===(134217727&qs)||gu(Ds,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ma),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ws&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Ma.current,fi(Ma,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return ja(e),null;case 13:return li(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ma),null;case 4:return Ra(),null;case 10:return ra(e),null;case 23:case 24:return Eu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Js||(Js=!0,$s=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Ss(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):_s(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=zi(),gs(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=w.ReactCurrentDispatcher,Os=w.ReactCurrentOwner,Ps=0,Ds=null,Rs=null,Ls=0,js=0,Ms=ci(0),Fs=0,Us=null,Vs=0,Bs=0,qs=0,zs=0,Ks=null,Hs=0,Ws=1/0;function Gs(){Ws=zi()+500}var Qs,Ys=null,Js=!1,$s=null,Xs=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===uu&&(uu=Vs),0!==Ji.transition){0!==cu&&(cu=null!==Ks?Ks.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Ps)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Ds&&(qs|=t,4===Fs&&gu(e,Ls));var r=Ki();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(mu(e,n),0===Ps&&(Gs(),Qi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ks=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Kt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=jt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Ds?Ls:0),t=jt,0===r)null!==n&&(n!==Mi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ti(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Ii(Pi,Yi)):Ui.push(n),n=Mi):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ds?Ls:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Iu();for(Ds===e&&Ls===r||(Gs(),_u(e,r));;)try{Nu();break}catch(u){Su(e,u)}if(na(),As.current=a,Ps=i,null!==Rs?r=0:(Ds=null,Ls=0,r=Fs),0!==(Vs&qs))_u(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Tu(e,n))),1===r)throw t=Us,_u(e,0),gu(e,n),mu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Hs+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Kt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Hr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,zi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~zs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Lu(),e===Ds&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Tu(e,t);0!==(Vs&qs)&&(n=Tu(e,t=Ft(e,t)))}else n=Tu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Tu(e,t))),1===n)throw n=Us,_u(e,0),gu(e,t),mu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,zi()),null}function bu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function wu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function xu(e,t){fi(Ms,js),js|=t,Vs|=t}function Eu(){js=Ms.current,li(Ms)}function _u(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ra(),li(pi),li(di),Ya();break;case 5:ja(r);break;case 4:Ra();break;case 13:case 19:li(Ma);break;case 10:ra(r);break;case 23:case 24:Eu()}n=n.return}Ds=e,Rs=Wu(e.current,null),Ls=js=Vs=t,Fs=0,Us=null,zs=qs=Bs=0}function Su(e,t){for(;;){var n=Rs;try{if(na(),Ja.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Os.current=null,null===n||null===n.return){Fs=1,Us=t,Rs=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=Bu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xs||!Xs.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ou(n)}catch(E){t=E,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Iu(){var e=As.current;return As.current=Po,null===e?Po:e}function Tu(e,t){var n=Ps;Ps|=16;var r=Iu();for(Ds===e&&Ls===t||_u(e,t);;)try{Cu();break}catch(i){Su(e,i)}if(na(),Ps=n,As.current=r,null!==Rs)throw Error(o(261));return Ds=null,Ls=0,Fs}function Cu(){for(;null!==Rs;)Au(Rs)}function Nu(){for(;null!==Rs&&!Ci();)Au(Rs)}function Au(e){var t=Qs(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?Ou(e):Rs=t,Os.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,js)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Fs&&(Fs=5)}function Pu(e){var t=Ki();return Wi(99,Du.bind(null,e,t)),null}function Du(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ds&&(Rs=Ds=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Os.current=null,Br=Yt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(I){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=r;do{try{Ru()}catch(I){if(null===Ys)throw Error(o(330));Vu(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ge(Ys.stateNode,""),128&k){var b=Ys.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Is(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Is(Ys.alternate,Ys);break;case 4:Is(Ys.alternate,Ys);break;case 8:Ss(s,u=Ys);var x=u.alternate;bs(u),null!==x&&bs(x)}Ys=Ys.nextEffect}}catch(I){if(null===Ys)throw Error(o(330));Vu(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);if(w=qr,b=mr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Br,qr=Br=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var E=Ys.flags;if(36&E&&ys(k,Ys.alternate,Ys),128&E){b=void 0;var _=Ys.ref;if(null!==_){var S=Ys.stateNode;Ys.tag,b=S,"function"===typeof _?_(b):_.current=b}}Ys=Ys.nextEffect}}catch(I){if(null===Ys)throw Error(o(330));Vu(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Fi(),Ps=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((E=Ys).sibling=null,E.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(I){}if(mu(e,zi()),Js)throw Js=!1,e=$s,$s=null,e;return 0!==(8&Ps)||Qi(),null}function Ru(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Cs(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),Ys=Ys.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,Fu)}return!1}function ju(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Mu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qi(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(zt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))zt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Ls&n)===n&&(4===Fs||3===Fs&&(62914560&Ls)===Ls&&500>zi()-Hs?_u(e,0):zs|=n),mu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===uu&&(uu=Vs),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(zt(e,t,n),mu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ku(e,t,n,r){return new zu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Qu(n.children,i,a,t);case j:s=8,i|=16;break;case S:s=8,i|=1;break;case I:return(e=Ku(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case A:return(e=Ku(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case O:return(e=Ku(19,n,t,i)).elementType=O,e.lanes=a,e;case M:return Yu(n,i,a,t);case F:return(e=Ku(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case N:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e;case R:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ku(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Ku(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Ku(23,e,r,t)).elementType=M,e.lanes=n,e}function Ju(e,t,n){return(e=Ku(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=Ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=Ku(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Ma,1&Ma.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return as(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=$i(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,$i(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Kr(r,i)?s=null:null!==a&&Kr(r,a)&&(t.flags|=16),zo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Xo(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=$i(i=t.type,t.pendingProps),Vo(e,t,i,a=$i(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=bu,Re=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Qi())}},Le=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,zi())}))}Qi()}(),Lu())},je=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Oe,Pe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),_i=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Ps=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+I(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(s=e[c],c);u+=T(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+I(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function O(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(O){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(_.prototype),u(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],T=[],C=1,N=null,A=3,O=!1,P=!1,D=!1;function R(e){for(var t=E(T);null!==t;){if(null===t.callback)_(T);else{if(!(t.startTime<=e))break;_(T),t.sortIndex=t.expirationTime,x(I,t)}t=E(T)}}function L(e){if(D=!1,R(e),!P)if(null!==E(I))P=!0,n(j);else{var t=E(T);null!==t&&r(L,t.startTime-e)}}function j(e,n){P=!1,D&&(D=!1,i()),O=!0;var a=A;try{for(R(n),N=E(I);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===E(I)&&_(I),R(n)}else _(I);N=E(I)}if(null!==N)var u=!0;else{var c=E(T);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,A=a,O=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return E(I)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(T,e),null===E(I)&&e===E(T)&&(D?i():D=!0,r(L,o-s))):(e.sortIndex=u,x(I,e),P||O||(P=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ys},SDK_VERSION:function(){return pu},_DEFAULT_ENTRY_NAME:function(){return Zs},_addComponent:function(){return ru},_addOrOverwriteComponent:function(){return iu},_apps:function(){return tu},_clearComponents:function(){return uu},_components:function(){return nu},_getProvider:function(){return ou},_registerComponent:function(){return au},_removeServiceInstance:function(){return su},deleteApp:function(){return gu},getApp:function(){return mu},getApps:function(){return yu},initializeApp:function(){return vu},onLog:function(){return wu},registerVersion:function(){return bu},setLogLevel:function(){return xu}});var t=n(791),r=n(164);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var u,c=u||(u={});c.Pop="POP",c.Push="PUSH",c.Replace="REPLACE";var l=function(e){return e};function f(e){e.preventDefault(),e.returnValue=""}function h(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function d(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function v(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function m(e,t){if(!e)throw new Error(t)}var y=(0,t.createContext)(null);var g=(0,t.createContext)(null);var k=(0,t.createContext)({outlet:null,matches:[]});function b(e){return function(e){var n=(0,t.useContext)(k).outlet;if(n)return(0,t.createElement)(I.Provider,{value:e},n);return n}(e.context)}function w(e){m(!1)}function x(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,c=void 0===s?u.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;_()&&m(!1);var d=M(r),p=(0,t.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof o&&(o=v(o));var k=o,b=k.pathname,w=void 0===b?"/":b,x=k.search,E=void 0===x?"":x,S=k.hash,I=void 0===S?"":S,T=k.state,C=void 0===T?null:T,N=k.key,A=void 0===N?"default":N,O=(0,t.useMemo)((function(){var e=L(w,d);return null==e?null:{pathname:e,search:E,hash:I,state:C,key:A}}),[d,w,E,I,C,A]);return null==O?null:(0,t.createElement)(y.Provider,{value:p},(0,t.createElement)(g.Provider,{children:a,value:{location:O,navigationType:c}}))}function E(e){var n=e.children,r=e.location;return function(e,n){_()||m(!1);var r=(0,t.useContext)(k).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=S();if(n){var c,l="string"===typeof n?v(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||m(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=L(("string"===typeof t?v(t):t).pathname||"/",n);if(null==r)return null;var i=C(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=P(i[o],r);return a}(e,{pathname:h});0;return D(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:j([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:j([o,e.pathnameBase])})})),r)}(T(n),r)}function _(){return null!=(0,t.useContext)(g)}function S(){return _()||m(!1),(0,t.useContext)(g).location}var I=(0,t.createContext)(null);function T(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==w&&m(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=T(e.props.children)),n.push(r)}else n.push.apply(n,T(e.props.children))})),n}function C(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||m(!1),a.relativePath=a.relativePath.slice(r.length));var o=j([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&m(!1),C(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:O(o,e.index),routesMeta:s})})),t}var N=/^:\w+$/,A=function(e){return"*"===e};function O(e,t){var n=e.split("/"),r=n.length;return n.some(A)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!A(e)})).reduce((function(e,t){return e+(N.test(t)?3:""===t?1:10)}),r)}function P(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=R({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:j([i,l.pathname]),pathnameBase:j([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=j([i,l.pathnameBase]))}return a}function D(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(k.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(b,null),value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var j=function(e){return e.join("/").replace(/\/\/+/g,"/")},M=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")};function F(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){function t(){var e=o.location,t=c.state||{};return[t.idx,l({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:p(e)}function r(e,t){return void 0===t&&(t=null),l(s({pathname:k.pathname,hash:"",search:""},"string"===typeof e?v(e):e,{state:t,key:d()}))}function i(e){y=e,e=t(),g=e[0],k=e[1],b.call({action:y,location:k})}function a(e){c.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,c=o.history,m=null;o.addEventListener("popstate",(function(){if(m)w.call(m),m=null;else{var e=u.Pop,n=t(),r=n[0];if(n=n[1],w.length){if(null!=r){var o=g-r;o&&(m={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var y=u.Pop,g=(e=t())[0],k=e[1],b=h(),w=h();return null==g&&(g=0,c.replaceState(s({},c.state,{idx:g}),"")),{get action(){return y},get location(){return k},createHref:n,push:function e(t,a){var s=u.Push,l=r(t,a);if(!w.length||(w.call({action:s,location:l,retry:function(){e(t,a)}}),0)){var f=[{usr:l.state,key:l.key,idx:g+1},n(l)];l=f[0],f=f[1];try{c.pushState(l,"",f)}catch(ad){o.location.assign(f)}i(s)}},replace:function e(t,a){var o=u.Replace,s=r(t,a);w.length&&(w.call({action:o,location:s,retry:function(){e(t,a)}}),1)||(s=[{usr:s.state,key:s.key,idx:g},n(s)],c.replaceState(s[0],"",s[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&o.addEventListener("beforeunload",f),function(){t(),w.length||o.removeEventListener("beforeunload",f)}}}}({window:i}));var c=a.current,m=o((0,t.useState)({action:c.action,location:c.location}),2),y=m[0],g=m[1];return(0,t.useLayoutEffect)((function(){return c.listen(g)}),[c]),(0,t.createElement)(x,{basename:n,children:r,location:y.location,navigationType:y.action,navigator:c})}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function z(e,t){if(null==e)return{};var n,r,i=q(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var K=n(694),H=n.n(K),W=n(184),G=["as","disabled"];function Q(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,s=e.tabIndex,u=void 0===s?0:s,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:"a"===t&&n?void 0:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var Y=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,G),a=o(Q(Object.assign({tagName:n,disabled:r},i)),2),s=a[0],u=a[1].tagName;return(0,W.jsx)(u,Object.assign({},i,s,{ref:t}))}));Y.displayName="Button";var J=Y,$=t.createContext({prefixes:{}});$.Consumer,$.Provider;function X(e,n){var r=(0,t.useContext)($).prefixes;return e||r[n]||n}function Z(){return"rtl"===(0,t.useContext)($).dir}var ee=["as","bsPrefix","variant","size","active","className"],te=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,s=e.active,u=e.className,c=z(e,ee),l=X(r,"btn"),f=o(Q(B({tagName:n},c)),2),h=f[0],d=f[1].tagName;return(0,W.jsx)(d,B(B(B({},c),h),{},{ref:t,className:H()(u,l,s&&"active",i&&"".concat(l,"-").concat(i),a&&"".concat(l,"-").concat(a),c.href&&c.disabled&&"disabled")}))}));te.displayName="Button",te.defaultProps={variant:"primary",active:!1,disabled:!1};var ne=te,re=!("undefined"===typeof window||!window.document||!window.document.createElement),ie=!1,ae=!1;try{var oe={get passive(){return ie=!0},get once(){return ae=ie=!0}};re&&(window.addEventListener("test",oe,oe),window.removeEventListener("test",oe,!0))}catch(yN){}var se=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!ae){var i=r.once,a=r.capture,o=n;!ae&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,ie?r:a)}e.addEventListener(t,n,r)};function ue(e){return e&&e.ownerDocument||document}var ce,le=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};function fe(e){if((!ce&&0!==ce||e)&&re){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ce=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ce}function he(){return(0,t.useState)(null)}var de=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function pe(e){var n=de(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var ve=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var me=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=ve(e),r=ve(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};function ye(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function ge(e,t){return function(e){var t=ue(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var ke=/([A-Z])/g;var be=/^ms-/;function we(e){return function(e){return e.replace(ke,"-$1").toLowerCase()}(e).replace(be,"-ms-")}var xe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Ee=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(we(t))||ge(e).getPropertyValue(we(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!xe.test(e))}(i)?n+=we(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(we(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var _e=function(e,t,n,r){return se(e,t,n,r),function(){le(e,t,n,r)}};function Se(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=_e(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Ie(e,t,n,r){null==n&&(n=function(e){var t=Ee(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Se(e,n,r),a=_e(e,"transitionend",t);return function(){i(),a()}}function Te(e){void 0===e&&(e=ue());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(yN){return e.body}}function Ce(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Ne(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return function(){e.current=!1}}),[]),n.current}function Ae(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}function Oe(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t,n){return t&&De(e.prototype,t),n&&De(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Le(e){return"".concat("data-rr-ui-").concat(e)}var je=Le("modal-open"),Me=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;Pe(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return Re(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=U({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Ee(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(je,""),Ee(r,t)}},{key:"reset",value:function(){var e=this;Oe(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(je),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Fe=Me,Ue=(0,t.createContext)(re?window:void 0);Ue.Provider;function Ve(){return(0,t.useContext)(Ue)}var Be=function(e,t){var n;return re?null==e?(t||ue()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var qe,ze=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Ke(e){var n=Ve(),r=e||function(e){return qe||(qe=new Fe({ownerDocument:null==e?void 0:e.document})),qe}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var He=(0,t.forwardRef)((function(e,n){var i=e.show,a=void 0!==i&&i,s=e.role,u=void 0===s?"dialog":s,c=e.className,l=e.style,f=e.children,h=e.backdrop,d=void 0===h||h,p=e.keyboard,v=void 0===p||p,m=e.onBackdropClick,y=e.onEscapeKeyDown,g=e.transition,k=e.backdropTransition,b=e.autoFocus,w=void 0===b||b,x=e.enforceFocus,E=void 0===x||x,_=e.restoreFocus,S=void 0===_||_,I=e.restoreFocusOptions,T=e.renderDialog,C=e.renderBackdrop,N=void 0===C?function(e){return(0,W.jsx)("div",Object.assign({},e))}:C,A=e.manager,O=e.container,P=e.onShow,D=e.onHide,R=void 0===D?function(){}:D,L=e.onExit,j=e.onExited,M=e.onExiting,F=e.onEnter,U=e.onEntering,V=e.onEntered,B=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ze),q=function(e,n){var r=Ve(),i=o((0,t.useState)((function(){return Be(e,null==r?void 0:r.document)})),2),a=i[0],s=i[1];if(!a){var u=Be(e);u&&s(u)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=Be(e);t!==a&&s(t)}),[e,a]),a}(O),z=Ke(A),K=Ne(),H=Ae(a),G=o((0,t.useState)(!a),2),Q=G[0],Y=G[1],J=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return z}),[z]),re&&!H&&a&&(J.current=Te()),g||a||Q?a&&Q&&Y(!1):Y(!0);var $=pe((function(){if(z.add(),ie.current=_e(document,"keydown",te),ne.current=_e(document,"focus",(function(){return setTimeout(Z)}),!0),P&&P(),w){var e=Te(document);z.dialog&&e&&!Ce(z.dialog,e)&&(J.current=e,z.dialog.focus())}})),X=pe((function(){var e;(z.remove(),null==ie.current||ie.current(),null==ne.current||ne.current(),S)&&(null==(e=J.current)||null==e.focus||e.focus(I),J.current=null)}));(0,t.useEffect)((function(){a&&q&&$()}),[a,q,$]),(0,t.useEffect)((function(){Q&&X()}),[Q,X]),ye((function(){X()}));var Z=pe((function(){if(E&&K()&&z.isTopModal()){var e=Te();z.dialog&&e&&!Ce(z.dialog,e)&&z.dialog.focus()}})),ee=pe((function(e){e.target===e.currentTarget&&(null==m||m(e),!0===d&&R())})),te=pe((function(e){v&&27===e.keyCode&&z.isTopModal()&&(null==y||y(e),e.defaultPrevented||R())})),ne=(0,t.useRef)(),ie=(0,t.useRef)(),ae=g;if(!q||!(a||ae&&!Q))return null;var oe=Object.assign({role:u,ref:z.setDialogRef,"aria-modal":"dialog"===u||void 0},B,{style:l,className:c,tabIndex:-1}),se=T?T(oe):(0,W.jsx)("div",Object.assign({},oe,{children:t.cloneElement(f,{role:"document"})}));ae&&(se=(0,W.jsx)(ae,{appear:!0,unmountOnExit:!0,in:!!a,onExit:L,onExiting:M,onExited:function(){Y(!0),null==j||j.apply(void 0,arguments)},onEnter:F,onEntering:U,onEntered:V,children:se}));var ue=null;if(d){var ce=k;ue=N({ref:z.setBackdropRef,onClick:ee}),ce&&(ue=(0,W.jsx)(ce,{appear:!0,in:!!a,children:ue}))}return(0,W.jsx)(W.Fragment,{children:r.createPortal((0,W.jsxs)(W.Fragment,{children:[ue,se]}),q)})}));He.displayName="Modal";var We=Object.assign(He,{Manager:Fe});function Ge(e){return Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ge(e)}function Qe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ge(e)););return e}function Ye(){return Ye="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Qe(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ye.apply(this,arguments)}function Je(e,t){return Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Je(e,t)}function $e(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Je(e,t)}function Xe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(yN){return!1}}function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e,t){if(t&&("object"===Ze(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return et(e)}function nt(e){var t=Xe();return function(){var n,r=Ge(e);if(t){var i=Ge(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tt(this,n)}}var rt=Function.prototype.bind.call(Function.prototype.call,[].slice);function it(e,t){return rt(e.querySelectorAll(t))}function at(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var ot,st=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ut=".sticky-top",ct=".navbar-toggler",lt=function(e){$e(n,e);var t=nt(n);function n(){return Pe(this,n),t.apply(this,arguments)}return Re(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Ee(t,U({},e,"".concat(parseFloat(Ee(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Ee(t,U({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Ye(Ge(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";it(a,st).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),it(a,ut).forEach((function(n){return t.adjustAndStore(s,n,-e.scrollBarWidth)})),it(a,ct).forEach((function(n){return t.adjustAndStore(s,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Ye(Ge(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=at(r.className,i):r.setAttribute("class",at(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";it(a,st).forEach((function(e){return t.restore(o,e)})),it(a,ut).forEach((function(e){return t.restore(s,e)})),it(a,ct).forEach((function(e){return t.restore(s,e)}))}}]),n}(Fe);function ft(e){return ot||(ot=new lt(e)),ot}var ht=lt;var dt=n(7),pt=n.n(dt),vt=!1,mt=t.createContext(null),yt="unmounted",gt="exited",kt="entering",bt="entered",wt="exiting",xt=function(e){var n,i;function a(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=gt,r.appearStatus=kt):i=bt:i=t.unmountOnExit||t.mountOnEnter?yt:gt,r.state={status:i},r.nextCallback=null,r}i=e,(n=a).prototype=Object.create(i.prototype),n.prototype.constructor=n,Je(n,i),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===yt?{status:gt}:null};var o=a.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==kt&&n!==bt&&(t=kt):n!==kt&&n!==bt||(t=wt)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===kt?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===gt&&this.setState({status:yt})},o.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[r.findDOMNode(this),i],o=a[0],s=a[1],u=this.getTimeouts(),c=i?u.appear:u.enter;!e&&!n||vt?this.safeSetState({status:bt},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:kt},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:bt},(function(){t.props.onEntered(o,s)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!vt?(this.props.onExit(i),this.safeSetState({status:wt},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:gt},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:gt},(function(){e.props.onExited(i)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===yt)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,q(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(mt.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},a}(t.Component);function Et(){}xt.contextType=mt,xt.propTypes={},xt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Et,onEntering:Et,onEntered:Et,onExit:Et,onExiting:Et,onExited:Et},xt.UNMOUNTED=yt,xt.EXITED=gt,xt.ENTERING=kt,xt.ENTERED=bt,xt.EXITING=wt;var _t=xt;function St(e,t){var n=Ee(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function It(e,t){var n=St(e,"transitionDuration"),r=St(e,"transitionDelay"),i=Ie(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}function Tt(e){e.offsetHeight}var Ct,Nt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],At=t.forwardRef((function(e,n){var i=e.onEnter,a=e.onEntering,o=e.onEntered,s=e.onExit,u=e.onExiting,c=e.onExited,l=e.addEndListener,f=e.children,h=e.childRef,d=z(e,Nt),p=(0,t.useRef)(null),v=me(p,h),m=function(e){var t;v((t=e)&&"setState"in t?r.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&p.current&&e(p.current,t)}},g=(0,t.useCallback)(y(i),[i]),k=(0,t.useCallback)(y(a),[a]),b=(0,t.useCallback)(y(o),[o]),w=(0,t.useCallback)(y(s),[s]),x=(0,t.useCallback)(y(u),[u]),E=(0,t.useCallback)(y(c),[c]),_=(0,t.useCallback)(y(l),[l]);return(0,W.jsx)(_t,B(B({ref:n},d),{},{onEnter:g,onEntered:b,onEntering:k,onExit:w,onExited:E,onExiting:x,addEndListener:_,nodeRef:p,children:"function"===typeof f?function(e,t){return f(e,B(B({},t),{},{ref:m}))}:t.cloneElement(f,{ref:m})}))})),Ot=At,Pt=["className","children","transitionClasses"],Dt=(U(Ct={},kt,"show"),U(Ct,bt,"show"),Ct),Rt=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=z(e,Pt),u=(0,t.useCallback)((function(e,t){Tt(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,W.jsx)(Ot,B(B({ref:n,addEndListener:It},s),{},{onEnter:u,childRef:i.ref,children:function(e,n){return t.cloneElement(i,B(B({},n),{},{className:H()("fade",r,i.props.className,Dt[e],o[e])}))}}))}));Rt.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Rt.displayName="Fade";var Lt=Rt,jt=/-(.)/g;var Mt=["className","bsPrefix","as"],Ft=function(e){return e[0].toUpperCase()+(t=e,t.replace(jt,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Ut(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?Ft(e):r,a=n.Component,o=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,s=void 0===o?a||"div":o,u=z(t,Mt),c=X(i,e);return(0,W.jsx)(s,B({ref:n,className:H()(r,c)},u))}));return s.defaultProps=o,s.displayName=i,s}var Vt=Ut("modal-body"),Bt=t.createContext({onHide:function(){}}),qt=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],zt=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.contentClassName,a=e.centered,o=e.size,s=e.fullscreen,u=e.children,c=e.scrollable,l=z(e,qt);n=X(n,"modal");var f="".concat(n,"-dialog"),h="string"===typeof s?"".concat(n,"-fullscreen-").concat(s):"".concat(n,"-fullscreen");return(0,W.jsx)("div",B(B({},l),{},{ref:t,className:H()(f,r,o&&"".concat(n,"-").concat(o),a&&"".concat(f,"-centered"),c&&"".concat(f,"-scrollable"),s&&h),children:(0,W.jsx)("div",{className:H()("".concat(n,"-content"),i),children:u})}))}));zt.displayName="ModalDialog";var Kt=zt,Ht=Ut("modal-footer"),Wt=["className","variant"],Gt={"aria-label":pt().string,onClick:pt().func,variant:pt().oneOf(["white"])},Qt=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=z(e,Wt);return(0,W.jsx)("button",B({ref:t,type:"button",className:H()("btn-close",r&&"btn-close-".concat(r),n)},i))}));Qt.displayName="CloseButton",Qt.propTypes=Gt,Qt.defaultProps={"aria-label":"Close"};var Yt=Qt,Jt=["closeLabel","closeVariant","closeButton","onHide","children"],$t=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,s=e.children,u=z(e,Jt),c=(0,t.useContext)(Bt),l=pe((function(){null==c||c.onHide(),null==o||o()}));return(0,W.jsxs)("div",B(B({ref:n},u),{},{children:[s,a&&(0,W.jsx)(Yt,{"aria-label":r,variant:i,onClick:l})]}))}));$t.defaultProps={closeLabel:"Close",closeButton:!1};var Xt=$t,Zt=["bsPrefix","className"],en=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=z(e,Zt);return n=X(n,"modal-header"),(0,W.jsx)(Xt,B(B({ref:t},i),{},{className:H()(r,n)}))}));en.displayName="ModalHeader",en.defaultProps={closeLabel:"Close",closeButton:!1};var tn=en,nn=function(e){return t.forwardRef((function(t,n){return(0,W.jsx)("div",B(B({},t),{},{ref:n,className:H()(t.className,e)}))}))},rn=Ut("modal-title",{Component:nn("h4")}),an=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],on={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Kt};function sn(e){return(0,W.jsx)(Lt,B(B({},e),{},{timeout:null}))}function un(e){return(0,W.jsx)(Lt,B(B({},e),{},{timeout:null}))}var cn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.style,s=e.dialogClassName,u=e.contentClassName,c=e.children,l=e.dialogAs,f=e["aria-labelledby"],h=e.show,d=e.animation,p=e.backdrop,v=e.keyboard,m=e.onEscapeKeyDown,y=e.onShow,g=e.onHide,k=e.container,b=e.autoFocus,w=e.enforceFocus,x=e.restoreFocus,E=e.restoreFocusOptions,_=e.onEntered,S=e.onExit,I=e.onExiting,T=e.onEnter,C=e.onEntering,N=e.onExited,A=e.backdropClassName,O=e.manager,P=z(e,an),D=o((0,t.useState)({}),2),R=D[0],L=D[1],j=o((0,t.useState)(!1),2),M=j[0],F=j[1],U=(0,t.useRef)(!1),V=(0,t.useRef)(!1),q=(0,t.useRef)(null),K=o(he(),2),G=K[0],Q=K[1],Y=me(n,Q),J=pe(g),$=Z();r=X(r,"modal");var ee=(0,t.useMemo)((function(){return{onHide:J}}),[J]);function te(){return O||ft({isRTL:$})}function ne(e){if(re){var t=te().getScrollbarWidth()>0,n=e.scrollHeight>ue(e).documentElement.clientHeight;L({paddingRight:t&&!n?fe():void 0,paddingLeft:!t&&n?fe():void 0})}}var ie=pe((function(){G&&ne(G.dialog)}));ye((function(){le(window,"resize",ie),null==q.current||q.current()}));var ae=function(){U.current=!0},oe=function(e){U.current&&G&&e.target===G.dialog&&(V.current=!0),U.current=!1},ce=function(){F(!0),q.current=Ie(G.dialog,(function(){F(!1)}))},de=function(e){"static"!==p?V.current||e.target!==e.currentTarget?V.current=!1:null==g||g():function(e){e.target===e.currentTarget&&ce()}(e)},ve=(0,t.useCallback)((function(e){return(0,W.jsx)("div",B(B({},e),{},{className:H()("".concat(r,"-backdrop"),A,!d&&"show")}))}),[d,A,r]),ge=B(B({},a),R);d||(ge.display="block");return(0,W.jsx)(Bt.Provider,{value:ee,children:(0,W.jsx)(We,{show:h,ref:Y,backdrop:p,container:k,keyboard:!0,autoFocus:b,enforceFocus:w,restoreFocus:x,restoreFocusOptions:E,onEscapeKeyDown:function(e){v||"static"!==p?v&&m&&m(e):(e.preventDefault(),ce())},onShow:y,onHide:g,onEnter:function(e,t){e&&(e.style.display="block",ne(e)),null==T||T(e,t)},onEntering:function(e,t){null==C||C(e,t),se(window,"resize",ie)},onEntered:_,onExit:function(e){null==q.current||q.current(),null==S||S(e)},onExiting:I,onExited:function(e){e&&(e.style.display=""),null==N||N(e),le(window,"resize",ie)},manager:te(),transition:d?sn:void 0,backdropTransition:d?un:void 0,renderBackdrop:ve,renderDialog:function(e){return(0,W.jsx)("div",B(B({role:"dialog"},e),{},{style:ge,className:H()(i,r,M&&"".concat(r,"-static")),onClick:p?de:void 0,onMouseUp:oe,"aria-labelledby":f,children:(0,W.jsx)(l,B(B({},P),{},{onMouseDown:ae,className:s,contentClassName:u,children:c}))}))}})})}));cn.displayName="Modal",cn.defaultProps=on;var ln=Object.assign(cn,{Body:Vt,Header:tn,Title:rn,Footer:Ht,Dialog:Kt,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),fn=Ut("card-group"),hn=["bsPrefix","className","variant","as"],dn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,s=z(e,hn),u=X(n,"card-img");return(0,W.jsx)(o,B({ref:t,className:H()(i?"".concat(u,"-").concat(i):u,r)},s))}));dn.displayName="CardImg";var pn=dn,vn=t.createContext(null);vn.displayName="CardHeaderContext";var mn=vn,yn=["bsPrefix","className","as"],gn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,s=z(e,yn),u=X(r,"card-header"),c=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,W.jsx)(mn.Provider,{value:c,children:(0,W.jsx)(o,B(B({ref:n},s),{},{className:H()(i,u)}))})}));gn.displayName="CardHeader";var kn=gn,bn=["bsPrefix","className","bg","text","border","body","children","as"],wn=nn("h5"),xn=nn("h6"),En=Ut("card-body"),_n=Ut("card-title",{Component:wn}),Sn=Ut("card-subtitle",{Component:xn}),In=Ut("card-link",{Component:"a"}),Tn=Ut("card-text",{Component:"p"}),Cn=Ut("card-footer"),Nn=Ut("card-img-overlay"),An=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,s=e.body,u=e.children,c=e.as,l=void 0===c?"div":c,f=z(e,bn),h=X(n,"card");return(0,W.jsx)(l,B(B({ref:t},f),{},{className:H()(r,h,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:s?(0,W.jsx)(En,{children:u}):u}))}));An.displayName="Card",An.defaultProps={body:!1};var On=Object.assign(An,{Img:pn,Title:_n,Subtitle:Sn,Body:En,Link:In,Text:Tn,Header:kn,Footer:Cn,ImgOverlay:Nn});function Pn(){return(0,W.jsxs)("footer",{children:[(0,W.jsxs)(fn,{id:"footer-start",children:[(0,W.jsx)(On,{className:"thirds",id:"fpsc-third",children:(0,W.jsxs)("p",{children:[(0,W.jsx)("span",{id:"third-title",children:(0,W.jsx)("a",{href:"/contact",children:"Four Peaks Surgery Center"})}),(0,W.jsx)("br",{}),"9425 West Bell Rd. Sun City, Arizona 85351",(0,W.jsx)("br",{}),"P: 623.399.6880 / F: 623.322.1504"]})}),(0,W.jsx)(On,{className:"thirds",id:"logo-holder",children:(0,W.jsx)("img",{alt:"Four Peaks Surgery Center",id:"fp-logo",src:"/Images/4p_logo.png"})}),(0,W.jsxs)(On,{id:"iframe-div",className:"thirds",children:[(0,W.jsx)("span",{id:"third-title",children:"Location"}),(0,W.jsx)("iframe",{title:"Location",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3321.7478607717476!2d-112.26588958479579!3d33.63777908072076!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x872b42eb42a4f5bf%3A0x336ca4f0f302ff2e!2sFour%20Peaks%20Surgery%20Center!5e0!3m2!1sen!2sus!4v1640197119819!5m2!1sen!2sus",loading:"lazy"})]})]}),(0,W.jsx)(On,{id:"footer",children:(0,W.jsxs)(On.Text,{id:"center",children:["Four Peaks Surgery Center 2021 \xa9",(0,W.jsx)("br",{}),"Designed and created by ",(0,W.jsx)("abbr",{title:"zaxdev59@gmail.com",children:"Zackery Hatch"})]})})]})}n(176);function Dn(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Rn(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Ln(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}function jn(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,o=a[Dn(r)],u=a[r],c=q(a,[Dn(r),r].map(Rn)),l=t[r],f=Ln(u,o,e[l]),h=f[0],d=f[1];return s({},c,((i={})[r]=h,i[l]=d,i))}),e)}function Mn(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Fn(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Un(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Mn.__suppressDeprecationWarning=!0,Fn.__suppressDeprecationWarning=!0,Un.__suppressDeprecationWarning=!0;var Vn="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Bn="undefined"!==typeof document||Vn?t.useLayoutEffect:t.useEffect;new WeakMap;var qn=["onKeyDown"];var zn=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,qn),a=o(Q(Object.assign({tagName:"a"},i)),1)[0],s=pe((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,W.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,W.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:s}))}));zn.displayName="Anchor";var Kn=zn,Hn=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],Wn=nn("h4");Wn.displayName="DivStyledAsH4";var Gn=Ut("alert-heading",{Component:Wn}),Qn=Ut("alert-link",{Component:Kn}),Yn={variant:"primary",show:!0,transition:Lt,closeLabel:"Close alert"},Jn=t.forwardRef((function(e,t){var n=jn(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,a=n.closeLabel,o=n.closeVariant,s=n.className,u=n.children,c=n.variant,l=n.onClose,f=n.dismissible,h=n.transition,d=z(n,Hn),p=X(r,"alert"),v=pe((function(e){l&&l(!1,e)})),m=!0===h?Lt:h,y=(0,W.jsxs)("div",B(B({role:"alert"},m?void 0:d),{},{ref:t,className:H()(s,p,c&&"".concat(p,"-").concat(c),f&&"".concat(p,"-dismissible")),children:[f&&(0,W.jsx)(Yt,{onClick:v,"aria-label":a,variant:o}),u]}));return m?(0,W.jsx)(m,B(B({unmountOnExit:!0},d),{},{ref:void 0,in:i,children:y})):i?y:null}));Jn.displayName="Alert",Jn.defaultProps=Yn;var $n=Object.assign(Jn,{Link:Qn,Heading:Gn}),Xn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Zn=t.createContext(null),er=["bsPrefix","className","as"],tr=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=z(e,er);n=X(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,W.jsx)(o,B(B({},a),{},{ref:t,className:H()(r,n)}))}));tr.displayName="NavbarBrand";var nr=tr;var rr,ir=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},ar=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],or={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function sr(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=or[e];return n+parseInt(Ee(t,r[0]),10)+parseInt(Ee(t,r[1]),10)}var ur=(U(rr={},gt,"collapse"),U(rr,wt,"collapsing"),U(rr,kt,"collapsing"),U(rr,bt,"collapse show"),rr),cr={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:sr},lr=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,h=e.getDimensionValue,d=void 0===h?sr:h,p=z(e,ar),v="function"===typeof f?f():f,m=(0,t.useMemo)((function(){return ir((function(e){e.style[v]="0"}),r)}),[v,r]),y=(0,t.useMemo)((function(){return ir((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),g=(0,t.useMemo)((function(){return ir((function(e){e.style[v]=null}),a)}),[v,a]),k=(0,t.useMemo)((function(){return ir((function(e){e.style[v]="".concat(d(v,e),"px"),Tt(e)}),o)}),[o,d,v]),b=(0,t.useMemo)((function(){return ir((function(e){e.style[v]=null}),s)}),[v,s]);return(0,W.jsx)(Ot,B(B({ref:n,addEndListener:It},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:y,onEntered:g,onExit:k,onExiting:b,childRef:c.ref,children:function(e,n){return t.cloneElement(c,B(B({},n),{},{className:H()(u,c.props.className,ur[e],"width"===v&&"collapse-horizontal")}))}}))}));lr.defaultProps=cr;var fr=lr,hr=t.createContext(null);hr.displayName="NavbarContext";var dr=hr,pr=["children","bsPrefix"],vr=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=z(e,pr);i=X(i,"navbar-collapse");var o=(0,t.useContext)(dr);return(0,W.jsx)(fr,B(B({in:!(!o||!o.expanded)},a),{},{children:(0,W.jsx)("div",{ref:n,className:i,children:r})}))}));vr.displayName="NavbarCollapse";var mr=vr,yr=["bsPrefix","className","children","label","as","onClick"],gr=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,s=e.as,u=void 0===s?"button":s,c=e.onClick,l=z(e,yr);r=X(r,"navbar-toggler");var f=(0,t.useContext)(dr)||{},h=f.onToggle,d=f.expanded,p=pe((function(e){c&&c(e),h&&h()}));return"button"===u&&(l.type="button"),(0,W.jsx)(u,B(B({},l),{},{ref:n,onClick:p,"aria-label":o,className:H()(i,r,!d&&"collapsed"),children:a||(0,W.jsx)("span",{className:"".concat(r,"-icon")})}))}));gr.displayName="NavbarToggle",gr.defaultProps={label:"Toggle navigation"};var kr,br=gr,wr=Ut("offcanvas-body"),xr=["bsPrefix","className","children"],Er=(U(kr={},kt,"show"),U(kr,bt,"show"),kr),_r=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=z(e,xr);return r=X(r,"offcanvas"),(0,W.jsx)(Ot,B(B({ref:n,addEndListener:It},o),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,B(B({},n),{},{className:H()(i,a.props.className,(e===kt||e===wt)&&"".concat(r,"-toggling"),Er[e])}))}}))}));_r.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},_r.displayName="OffcanvasToggling";var Sr=_r,Ir=["bsPrefix","className"],Tr=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=z(e,Ir);return n=X(n,"offcanvas-header"),(0,W.jsx)(Xt,B(B({ref:t},i),{},{className:H()(r,n)}))}));Tr.displayName="OffcanvasHeader",Tr.defaultProps={closeLabel:"Close",closeButton:!1};var Cr=Tr,Nr=Ut("offcanvas-title",{Component:nn("h5")}),Ar=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function Or(e){return(0,W.jsx)(Sr,B({},e))}function Pr(e){return(0,W.jsx)(Lt,B({},e))}var Dr=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],s=e.placement,u=e.show,c=e.backdrop,l=e.keyboard,f=e.scroll,h=e.onEscapeKeyDown,d=e.onShow,p=e.onHide,v=e.container,m=e.autoFocus,y=e.enforceFocus,g=e.restoreFocus,k=e.restoreFocusOptions,b=e.onEntered,w=e.onExit,x=e.onExiting,E=e.onEnter,_=e.onEntering,S=e.onExited,I=e.backdropClassName,T=e.manager,C=z(e,Ar),N=(0,t.useRef)();r=X(r,"offcanvas");var A=((0,t.useContext)(dr)||{}).onToggle,O=pe((function(){null==A||A(),null==p||p()})),P=(0,t.useMemo)((function(){return{onHide:O}}),[O]);var D=(0,t.useCallback)((function(e){return(0,W.jsx)("div",B(B({},e),{},{className:H()("".concat(r,"-backdrop"),I)}))}),[I,r]);return(0,W.jsx)(Bt.Provider,{value:P,children:(0,W.jsx)(We,{show:u,ref:n,backdrop:c,container:v,keyboard:l,autoFocus:m,enforceFocus:y&&!f,restoreFocus:g,restoreFocusOptions:k,onEscapeKeyDown:h,onShow:d,onHide:O,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==E||E.apply(void 0,[e].concat(n))},onEntering:_,onEntered:b,onExit:w,onExiting:x,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==S||S.apply(void 0,n)},manager:T||(f?(N.current||(N.current=new ht({handleContainerOverflow:!1})),N.current):ft()),transition:Or,backdropTransition:Pr,renderBackdrop:D,renderDialog:function(e){return(0,W.jsx)("div",B(B(B({role:"dialog"},e),C),{},{className:H()(i,r,"".concat(r,"-").concat(s)),"aria-labelledby":o,children:a}))}})})}));Dr.displayName="Offcanvas",Dr.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var Rr=Object.assign(Dr,{Body:wr,Header:Cr,Title:Nr}),Lr=t.forwardRef((function(e,n){var r=(0,t.useContext)(dr);return(0,W.jsx)(Rr,B({ref:n,show:!(null==r||!r.expanded)},e))}));Lr.displayName="NavbarOffcanvas";var jr=Lr,Mr=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],Fr=Ut("navbar-text",{Component:"span"}),Ur=t.forwardRef((function(e,n){var r=jn(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=r.variant,s=r.bg,u=r.fixed,c=r.sticky,l=r.className,f=r.as,h=void 0===f?"nav":f,d=r.expanded,p=r.onToggle,v=r.onSelect,m=r.collapseOnSelect,y=z(r,Mr),g=X(i,"navbar"),k=(0,t.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&d&&(null==p||p(!1))}),[v,m,d,p]);void 0===y.role&&"nav"!==h&&(y.role="navigation");var b="".concat(g,"-expand");"string"===typeof a&&(b="".concat(b,"-").concat(a));var w=(0,t.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:g,expanded:!!d}}),[g,d,p]);return(0,W.jsx)(dr.Provider,{value:w,children:(0,W.jsx)(Zn.Provider,{value:k,children:(0,W.jsx)(h,B(B({ref:n},y),{},{className:H()(l,g,a&&b,o&&"".concat(g,"-").concat(o),s&&"bg-".concat(s),c&&"sticky-".concat(c),u&&"fixed-".concat(u))}))})})}));Ur.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},Ur.displayName="Navbar";var Vr=Object.assign(Ur,{Brand:nr,Collapse:mr,Offcanvas:jr,Text:Fr,Toggle:br}),Br=["bsPrefix","fluid","as","className"],qr=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,s=z(e,Br),u=X(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,W.jsx)(a,B(B({ref:t},s),{},{className:H()(o,r?"".concat(u).concat(c):u)}))}));qr.displayName="Container",qr.defaultProps={fluid:!1};var zr=qr,Kr=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],Hr=(pt().string,pt().bool,pt().bool,pt().bool,pt().bool,t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.fluid,a=e.rounded,o=e.roundedCircle,s=e.thumbnail,u=z(e,Kr);return n=X(n,"img"),(0,W.jsx)("img",B(B({ref:t},u),{},{className:H()(r,i&&"".concat(n,"-fluid"),a&&"rounded",o&&"rounded-circle",s&&"".concat(n,"-thumbnail"))}))})));Hr.displayName="Image",Hr.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1};var Wr=Hr;n(573);function Gr(){return(0,t.useReducer)((function(e){return!e}),!1)[1]}var Qr=t.createContext(null);Qr.displayName="NavContext";var Yr=Qr,Jr=t.createContext(null),$r=["as","active","eventKey"];function Xr(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,s=e.disabled,u=(0,t.useContext)(Zn),c=(0,t.useContext)(Yr),l=i,f={role:o};if(c){o||"tablist"!==c.role||(f.role="tab");var h=c.getControllerId(null!=n?n:null),d=c.getControlledId(null!=n?n:null);f[Le("event-key")]=n,f.id=h||a,f["aria-controls"]=d,l=null==i&&null!=n?c.activeKey===n:i}return"tab"===f.role&&(s&&(f.tabIndex=-1,f["aria-disabled"]=!0),l?f["aria-selected"]=l:f.tabIndex=-1),f.onClick=pe((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[f,{isActive:l}]}var Zr=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?J:n,i=e.active,a=e.eventKey,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,$r),u=o(Xr(Object.assign({key:Xn(a,s.href),active:i},s)),2),c=u[0],l=u[1];return c[Le("active")]=l.isActive,(0,W.jsx)(r,Object.assign({},s,c,{ref:t}))}));Zr.displayName="NavItem";var ei=Zr,ti=["as","onSelect","activeKey","role","onKeyDown"];var ni=function(){},ri=Le("event-key"),ii=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,s=e.onSelect,u=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ti),h=Gr(),d=(0,t.useRef)(!1),p=(0,t.useContext)(Zn),v=(0,t.useContext)(Jr);v&&(c=c||"tablist",u=v.activeKey,r=v.getControlledId,i=v.getControllerId);var m=(0,t.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n=it(t,"[".concat(ri,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,t.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(ri,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var k=me(n,m);return(0,W.jsx)(Zn.Provider,{value:g,children:(0,W.jsx)(Yr.Provider,{value:{role:c,activeKey:Xn(u),getControlledId:r||ni,getControllerId:i||ni},children:(0,W.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:k,role:c}))})})}));ii.displayName="Nav";var ai=Object.assign(ii,{Item:ei}),oi=Ut("nav-item"),si=["bsPrefix","className","as","active","eventKey"],ui=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?Kn:i,s=e.active,u=e.eventKey,c=z(e,si);n=X(n,"nav-link");var l=o(Xr(B({key:Xn(u,c.href),active:s},c)),2),f=l[0],h=l[1];return(0,W.jsx)(a,B(B(B({},c),f),{},{ref:t,className:H()(r,n,c.disabled&&"disabled",h.isActive&&"active")}))}));ui.displayName="NavLink",ui.defaultProps={disabled:!1};var ci=ui,li=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],fi=t.forwardRef((function(e,n){var r,i,a,o=jn(e,{activeKey:"onSelect"}),s=o.as,u=void 0===s?"div":s,c=o.bsPrefix,l=o.variant,f=o.fill,h=o.justify,d=o.navbar,p=o.navbarScroll,v=o.className,m=o.activeKey,y=z(o,li),g=X(c,"nav"),k=!1,b=(0,t.useContext)(dr),w=(0,t.useContext)(mn);return b?(i=b.bsPrefix,k=null==d||d):w&&(a=w.cardHeaderBsPrefix),(0,W.jsx)(ai,B({as:u,ref:n,activeKey:m,className:H()(v,(r={},U(r,g,!k),U(r,"".concat(i,"-nav"),k),U(r,"".concat(i,"-nav-scroll"),k&&p),U(r,"".concat(a,"-").concat(l),!!a),U(r,"".concat(g,"-").concat(l),!!l),U(r,"".concat(g,"-fill"),f),U(r,"".concat(g,"-justified"),h),r))},y))}));fi.displayName="Nav",fi.defaultProps={justify:!1,fill:!1};var hi=Object.assign(fi,{Item:oi,Link:ci}),di=t.createContext(null);function pi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}var vi=Object.prototype.hasOwnProperty;function mi(e,t,n){var r,i=pi(e.keys());try{for(i.s();!(r=i.n()).done;)if(yi(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function yi(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&yi(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=pi(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=mi(t,i)))return!1;if(!t.has(i))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var s,u=pi(e);try{for(u.s();!(s=u.n()).done;){if((i=(r=s.value)[0])&&"object"===typeof i&&!(i=mi(t,i)))return!1;if(!yi(r[1],t.get(i)))return!1}}catch(c){u.e(c)}finally{u.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(vi.call(e,n)&&++r&&!vi.call(t,n))return!1;if(!(n in t)||!yi(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var gi=function(e){var n=Ne();return[e[0],(0,t.useCallback)((function(t){if(n())return e[1](t)}),[n,e[1]])]};function ki(e){return e.split("-")[0]}function bi(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function wi(e){return e instanceof bi(e).Element||e instanceof Element}function xi(e){return e instanceof bi(e).HTMLElement||e instanceof HTMLElement}function Ei(e){return"undefined"!==typeof ShadowRoot&&(e instanceof bi(e).ShadowRoot||e instanceof ShadowRoot)}var _i=Math.max,Si=Math.min,Ii=Math.round;function Ti(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(xi(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Ii(n.width)/o||1),a>0&&(i=Ii(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Ci(e){var t=Ti(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Ni(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ei(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ai(e){return e?(e.nodeName||"").toLowerCase():null}function Oi(e){return bi(e).getComputedStyle(e)}function Pi(e){return["table","td","th"].indexOf(Ai(e))>=0}function Di(e){return((wi(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ri(e){return"html"===Ai(e)?e:e.assignedSlot||e.parentNode||(Ei(e)?e.host:null)||Di(e)}function Li(e){return xi(e)&&"fixed"!==Oi(e).position?e.offsetParent:null}function ji(e){for(var t=bi(e),n=Li(e);n&&Pi(n)&&"static"===Oi(n).position;)n=Li(n);return n&&("html"===Ai(n)||"body"===Ai(n)&&"static"===Oi(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&xi(e)&&"fixed"===Oi(e).position)return null;for(var n=Ri(e);xi(n)&&["html","body"].indexOf(Ai(n))<0;){var r=Oi(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Mi(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Fi(e,t,n){return _i(e,Si(t,n))}function Ui(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Vi(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Bi="top",qi="bottom",zi="right",Ki="left",Hi="auto",Wi=[Bi,qi,zi,Ki],Gi="start",Qi="end",Yi="viewport",Ji="popper",$i=Wi.reduce((function(e,t){return e.concat([t+"-"+Gi,t+"-"+Qi])}),[]),Xi=[].concat(Wi,[Hi]).reduce((function(e,t){return e.concat([t,t+"-"+Gi,t+"-"+Qi])}),[]),Zi=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var ea={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=ki(n.placement),u=Mi(s),c=[Ki,zi].indexOf(s)>=0?"height":"width";if(a&&o){var l=function(e,t){return Ui("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Vi(e,Wi))}(i.padding,n),f=Ci(a),h="y"===u?Bi:Ki,d="y"===u?qi:zi,p=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],v=o[u]-n.rects.reference[u],m=ji(a),y=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,k=l[h],b=y-f[c]-l[d],w=y/2-f[c]/2+g,x=Fi(k,w,b),E=u;n.modifiersData[r]=((t={})[E]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Ni(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ta(e){return e.split("-")[1]}var na={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ra(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Ii(t*r)/r||0,y:Ii(n*r)/r||0}}(o):"function"===typeof l?l(o):o,d=h.x,p=void 0===d?0:d,v=h.y,m=void 0===v?0:v,y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),k=Ki,b=Bi,w=window;if(c){var x=ji(n),E="clientHeight",_="clientWidth";if(x===bi(n)&&"static"!==Oi(x=Di(n)).position&&"absolute"===s&&(E="scrollHeight",_="scrollWidth"),x=x,i===Bi||(i===Ki||i===zi)&&a===Qi)b=qi,m-=(f&&w.visualViewport?w.visualViewport.height:x[E])-r.height,m*=u?1:-1;if(i===Ki||(i===Bi||i===qi)&&a===Qi)k=zi,p-=(f&&w.visualViewport?w.visualViewport.width:x[_])-r.width,p*=u?1:-1}var S,I=Object.assign({position:s},c&&na);return u?Object.assign({},I,((S={})[b]=g?"0":"",S[k]=y?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",S)):Object.assign({},I,((t={})[b]=g?m+"px":"",t[k]=y?p+"px":"",t.transform="",t))}var ia={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,c={placement:ki(t.placement),variation:ta(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ra(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ra(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},aa={passive:!0};var oa={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=bi(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,aa)})),s&&u.addEventListener("resize",n.update,aa),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,aa)})),s&&u.removeEventListener("resize",n.update,aa)}},data:{}},sa={left:"right",right:"left",bottom:"top",top:"bottom"};function ua(e){return e.replace(/left|right|bottom|top/g,(function(e){return sa[e]}))}var ca={start:"end",end:"start"};function la(e){return e.replace(/start|end/g,(function(e){return ca[e]}))}function fa(e){var t=bi(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ha(e){return Ti(Di(e)).left+fa(e).scrollLeft}function da(e){var t=Oi(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function pa(e){return["html","body","#document"].indexOf(Ai(e))>=0?e.ownerDocument.body:xi(e)&&da(e)?e:pa(Ri(e))}function va(e,t){var n;void 0===t&&(t=[]);var r=pa(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=bi(r),o=i?[a].concat(a.visualViewport||[],da(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(va(Ri(o)))}function ma(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ya(e,t){return t===Yi?ma(function(e){var t=bi(e),n=Di(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,s=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:i,height:a,x:o+ha(e),y:s}}(e)):wi(t)?function(e){var t=Ti(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ma(function(e){var t,n=Di(e),r=fa(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=_i(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=_i(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+ha(e),u=-r.scrollTop;return"rtl"===Oi(i||n).direction&&(s+=_i(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(Di(e)))}function ga(e,t,n){var r="clippingParents"===t?function(e){var t=va(Ri(e)),n=["absolute","fixed"].indexOf(Oi(e).position)>=0,r=n&&xi(e)?ji(e):e;return wi(r)?t.filter((function(e){return wi(e)&&Ni(e,r)&&"body"!==Ai(e)&&(!n||"static"!==Oi(e).position)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=ya(e,n);return t.top=_i(r.top,t.top),t.right=Si(r.right,t.right),t.bottom=Si(r.bottom,t.bottom),t.left=_i(r.left,t.left),t}),ya(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function ka(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?ki(i):null,o=i?ta(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case Bi:t={x:s,y:n.y-r.height};break;case qi:t={x:s,y:n.y+n.height};break;case zi:t={x:n.x+n.width,y:u};break;case Ki:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=a?Mi(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case Gi:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Qi:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function ba(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,s=n.rootBoundary,u=void 0===s?Yi:s,c=n.elementContext,l=void 0===c?Ji:c,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,p=void 0===d?0:d,v=Ui("number"!==typeof p?p:Vi(p,Wi)),m=l===Ji?"reference":Ji,y=e.rects.popper,g=e.elements[h?m:l],k=ga(wi(g)?g:g.contextElement||Di(e.elements.popper),o,u),b=Ti(e.elements.reference),w=ka({reference:b,element:y,strategy:"absolute",placement:i}),x=ma(Object.assign({},y,w)),E=l===Ji?x:b,_={top:k.top-E.top+v.top,bottom:E.bottom-k.bottom+v.bottom,left:k.left-E.left+v.left,right:E.right-k.right+v.right},S=e.modifiersData.offset;if(l===Ji&&S){var I=S[i];Object.keys(_).forEach((function(e){var t=[zi,qi].indexOf(e)>=0?1:-1,n=[Bi,qi].indexOf(e)>=0?"y":"x";_[e]+=I[n]*t}))}return _}var wa={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,y=ki(m),g=u||(y===m||!p?[ua(m)]:function(e){if(ki(e)===Hi)return[];var t=ua(e);return[la(e),t,la(t)]}(m)),k=[m].concat(g).reduce((function(e,n){return e.concat(ki(n)===Hi?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?Xi:u,l=ta(r),f=l?s?$i:$i.filter((function(e){return ta(e)===l})):Wi,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=ba(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[ki(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,E=!0,_=k[0],S=0;S<k.length;S++){var I=k[S],T=ki(I),C=ta(I)===Gi,N=[Bi,qi].indexOf(T)>=0,A=N?"width":"height",O=ba(t,{placement:I,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),P=N?C?zi:Ki:C?qi:Bi;b[A]>w[A]&&(P=ua(P));var D=ua(P),R=[];if(a&&R.push(O[T]<=0),s&&R.push(O[P]<=0,O[D]<=0),R.every((function(e){return e}))){_=I,E=!1;break}x.set(I,R)}if(E)for(var L=function(e){var t=k.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},j=p?3:1;j>0;j--){if("break"===L(j))break}t.placement!==_&&(t.modifiersData[r]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function xa(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ea(e){return[Bi,zi,qi,Ki].some((function(t){return e[t]>=0}))}var _a={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Xi.reduce((function(e,n){return e[n]=function(e,t,n){var r=ki(e),i=[Ki,Bi].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Ki,zi].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var Sa={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=ba(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),y=ki(t.placement),g=ta(t.placement),k=!g,b=Mi(y),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,E=t.rects.reference,_=t.rects.popper,S="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,I="number"===typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(x){if(a){var N,A="y"===b?Bi:Ki,O="y"===b?qi:zi,P="y"===b?"height":"width",D=x[b],R=D+m[A],L=D-m[O],j=d?-_[P]/2:0,M=g===Gi?E[P]:_[P],F=g===Gi?-_[P]:-E[P],U=t.elements.arrow,V=d&&U?Ci(U):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=B[A],z=B[O],K=Fi(0,E[P],V[P]),H=k?E[P]/2-j-K-q-I.mainAxis:M-K-q-I.mainAxis,W=k?-E[P]/2+j+K+z+I.mainAxis:F+K+z+I.mainAxis,G=t.elements.arrow&&ji(t.elements.arrow),Q=G?"y"===b?G.clientTop||0:G.clientLeft||0:0,Y=null!=(N=null==T?void 0:T[b])?N:0,J=D+W-Y,$=Fi(d?Si(R,D+H-Y-Q):R,D,d?_i(L,J):L);x[b]=$,C[b]=$-D}if(s){var X,Z="x"===b?Bi:Ki,ee="x"===b?qi:zi,te=x[w],ne="y"===w?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[Bi,Ki].indexOf(y),oe=null!=(X=null==T?void 0:T[w])?X:0,se=ae?re:te-E[ne]-_[ne]-oe+I.altAxis,ue=ae?te+E[ne]+_[ne]-oe-I.altAxis:ie,ce=d&&ae?function(e,t,n){var r=Fi(e,t,n);return r>n?n:r}(se,te,ue):Fi(d?se:re,te,d?ue:ie);x[w]=ce,C[w]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function Ia(e,t,n){void 0===n&&(n=!1);var r=xi(t),i=xi(t)&&function(e){var t=e.getBoundingClientRect(),n=Ii(t.width)/e.offsetWidth||1,r=Ii(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=Di(t),o=Ti(e,i),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==Ai(t)||da(a))&&(s=function(e){return e!==bi(e)&&xi(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:fa(e);var t}(t)),xi(t)?((u=Ti(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=ha(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function Ta(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Ca(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Na={placement:"bottom",modifiers:[],strategy:"absolute"};function Aa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Oa(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Na:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Na,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:wi(e)?va(e):e.contextElement?va(e.contextElement):[],popper:va(t)};var l=function(e){var t=Ta(e);return Zi.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:u,options:r}),c=function(){};o.push(s||c)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(Aa(t,n)){i.rects={reference:Ia(t,ji(n),"fixed"===i.options.strategy),popper:Ci(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:Ca((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!Aa(e,t))return u;function c(){o.forEach((function(e){return e()})),o=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Pa=Oa({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=ba(t,{elementContext:"reference"}),s=ba(t,{altBoundary:!0}),u=xa(o,r),c=xa(s,i,a),l=Ea(u),f=Ea(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ka({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ia,oa,_a,wa,Sa,ea]}),Da=["enabled","placement","strategy","modifiers"];function Ra(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var La={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},ja={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},Ma=[];var Fa=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.enabled,a=void 0===i||i,s=r.placement,u=void 0===s?"bottom":s,c=r.strategy,l=void 0===c?"absolute":c,f=r.modifiers,h=void 0===f?Ma:f,d=Ra(r,Da),p=(0,t.useRef)(h),v=(0,t.useRef)(),m=(0,t.useCallback)((function(){var e;null==(e=v.current)||e.update()}),[]),y=(0,t.useCallback)((function(){var e;null==(e=v.current)||e.forceUpdate()}),[]),g=gi((0,t.useState)({placement:u,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),k=o(g,2),b=k[0],w=k[1],x=(0,t.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),w({state:t,styles:n,attributes:r,update:m,forceUpdate:y,placement:t.placement})}}}),[m,y,w]),E=(0,t.useMemo)((function(){return yi(p.current,h)||(p.current=h),p.current}),[h]);return(0,t.useEffect)((function(){v.current&&a&&v.current.setOptions({placement:u,strategy:l,modifiers:[].concat(Oe(E),[x,La])})}),[l,u,x,a,E]),(0,t.useEffect)((function(){if(a&&null!=e&&null!=n)return v.current=Pa(e,n,Object.assign({},d,{placement:u,strategy:l,modifiers:[].concat(Oe(E),[ja,x])})),function(){null!=v.current&&(v.current.destroy(),v.current=void 0,w((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,e,n]),b},Ua=n(467),Va=n.n(Ua),Ba=function(){};function qa(e){return 0===e.button}function za(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Ka=function(e){return e&&("current"in e?e.current:e)};var Ha=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.disabled,a=r.clickTrigger,o=void 0===a?"click":a,s=(0,t.useRef)(!1),u=n||Ba,c=(0,t.useCallback)((function(t){var n=Ka(e);Va()(!!n,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!n||za(t)||!qa(t)||!!Ce(n,t.target)}),[e]),l=pe((function(e){s.current||u(e)})),f=pe((function(e){27===e.keyCode&&u(e)}));(0,t.useEffect)((function(){if(!i&&null!=e){var t=ue(Ka(e)),n=(t.defaultView||window).event,r=_e(t,o,c,!0),a=_e(t,o,(function(e){e!==n?l(e):n=void 0})),s=_e(t,"keyup",(function(e){e!==n?f(e):n=void 0})),u=[];return"ontouchstart"in t.documentElement&&(u=[].slice.call(t.body.children).map((function(e){return _e(e,"mousemove",Ba)}))),function(){r(),a(),s(),u.forEach((function(e){return e()}))}}}),[e,i,o,c,l,f])};function Wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function Ga(e){var t,n,r,i,a=e.enabled,o=e.enableEvents,s=e.placement,u=e.flip,c=e.offset,l=e.fixed,f=e.containerPadding,h=e.arrowElement,d=e.popperConfig,p=void 0===d?{}:d,v=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(p.modifiers);return Object.assign({},p,{placement:s,enabled:a,strategy:l?"fixed":p.strategy,modifiers:Wa(Object.assign({},v,{eventListeners:{enabled:o},preventOverflow:Object.assign({},v.preventOverflow,{options:f?Object.assign({padding:f},null==(t=v.preventOverflow)?void 0:t.options):null==(n=v.preventOverflow)?void 0:n.options}),offset:{options:Object.assign({offset:c},null==(r=v.offset)?void 0:r.options)},arrow:Object.assign({},v.arrow,{enabled:!!h,options:Object.assign({},null==(i=v.arrow)?void 0:i.options,{element:h})}),flip:Object.assign({enabled:!!u},v.flip)}))})}var Qa=["children"];var Ya=function(){};function Ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,t.useContext)(di),r=he(),i=o(r,2),a=i[0],s=i[1],u=(0,t.useRef)(!1),c=e.flip,l=e.offset,f=e.rootCloseEvent,h=e.fixed,d=void 0!==h&&h,p=e.placement,v=e.popperConfig,m=void 0===v?{}:v,y=e.enableEventListeners,g=void 0===y||y,k=e.usePopper,b=void 0===k?!!n:k,w=null==(null==n?void 0:n.show)?!!e.show:n.show;w&&!u.current&&(u.current=!0);var x=function(e){null==n||n.toggle(!1,e)},E=n||{},_=E.placement,S=E.setMenu,I=E.menuElement,T=E.toggleElement,C=Fa(T,I,Ga({placement:p||_||"bottom-start",enabled:b,enableEvents:null==g?w:g,offset:l,flip:c,fixed:d,arrowElement:a,popperConfig:m})),N=Object.assign({ref:S||Ya,"aria-labelledby":null==T?void 0:T.id},C.attributes.popper,{style:C.styles.popper}),A={show:w,placement:_,hasShown:u.current,toggle:null==n?void 0:n.toggle,popper:b?C:null,arrowProps:b?Object.assign({ref:s},C.attributes.arrow,{style:C.styles.arrow}):{}};return Ha(I,x,{clickTrigger:f,disabled:!w}),[N,A]}function $a(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Qa),r=o(Ja(n),2),i=r[0],a=r[1];return(0,W.jsx)(W.Fragment,{children:t(i,a)})}$a.displayName="DropdownMenu",$a.defaultProps={usePopper:!0};var Xa=$a,Za={prefix:String(Math.round(1e10*Math.random())),current:0},eo=t.createContext(Za);var to=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);var no=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},ro=function(){};function io(){var e=function(e){var n=(0,t.useContext)(eo);return n!==Za||to||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,t.useMemo)((function(){return e||"react-aria"+n.prefix+"-"+ ++n.current}),[e])}(),n=(0,t.useContext)(di)||{},r=n.show,i=void 0!==r&&r,a=n.toggle,o=void 0===a?ro:a,s=n.setToggle,u=n.menuElement,c=(0,t.useCallback)((function(e){o(!i,e)}),[i,o]),l={id:e,ref:s||ro,onClick:c,"aria-expanded":!!i};return u&&no(u)&&(l["aria-haspopup"]=!0),[l,{show:i,toggle:o}]}function ao(e){var t=e.children,n=o(io(),2),r=n[0],i=n[1];return(0,W.jsx)(W.Fragment,{children:t(r,i)})}ao.displayName="DropdownToggle";var oo=ao,so=["eventKey","disabled","onClick","active","as"];function uo(e){var n=e.key,r=e.href,i=e.active,a=e.disabled,o=e.onClick,s=(0,t.useContext)(Zn),u=((0,t.useContext)(Yr)||{}).activeKey,c=Xn(n,r),l=null==i&&null!=n?Xn(u)===c:i;return[U({onClick:pe((function(e){a||(null==o||o(e),s&&!e.isPropagationStopped()&&s(c,e))})),"aria-disabled":a||void 0,"aria-selected":l},Le("dropdown-item"),""),{isActive:l}]}var co=t.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,i=e.onClick,a=e.active,s=e.as,u=void 0===s?J:s,c=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,so),l=o(uo({key:n,href:c.href,disabled:r,onClick:i,active:a}),1)[0];return(0,W.jsx)(u,Object.assign({},c,{ref:t},l))}));co.displayName="DropdownItem";var lo=co;function fo(){var e=Gr(),n=(0,t.useRef)(null),r=(0,t.useCallback)((function(t){n.current=t,e()}),[e]);return[n,r]}function ho(e){var n=e.defaultShow,r=e.show,i=e.onSelect,a=e.onToggle,s=e.itemSelector,u=void 0===s?"* [".concat(Le("dropdown-item"),"]"):s,c=e.focusFirstItemOnShow,l=e.placement,f=void 0===l?"bottom-start":l,h=e.children,d=Ve(),p=o(Ln(r,n,a),2),v=p[0],m=p[1],y=o(fo(),2),g=y[0],k=y[1],b=g.current,w=o(fo(),2),x=w[0],E=w[1],_=x.current,S=Ae(v),I=(0,t.useRef)(null),T=(0,t.useRef)(!1),C=(0,t.useContext)(Zn),N=(0,t.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;m(e,{originalEvent:t,source:n})}),[m]),A=pe((function(e,t){null==i||i(e,t),N(!1,t,"select"),t.isPropagationStopped()||null==C||C(e,t)})),O=(0,t.useMemo)((function(){return{toggle:N,placement:f,show:v,menuElement:b,toggleElement:_,setMenu:k,setToggle:E}}),[N,f,v,b,_,k,E]);b&&S&&!v&&(T.current=b.contains(b.ownerDocument.activeElement));var P=pe((function(){_&&_.focus&&_.focus()})),D=pe((function(){var e=I.current,t=c;if(null==t&&(t=!(!g.current||!no(g.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=it(g.current,u)[0];n&&n.focus&&n.focus()}}));(0,t.useEffect)((function(){v?D():T.current&&(T.current=!1,P())}),[v,T,P,D]),(0,t.useEffect)((function(){I.current=null}));var R=function(e,t){if(!g.current)return null;var n=it(g.current,u),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,n,r,i){void 0===i&&(i=!1);var a=pe(r);(0,t.useEffect)((function(){var t="function"===typeof e?e():e;return t.addEventListener(n,a,i),function(){return t.removeEventListener(n,a,i)}}),[e])}((0,t.useCallback)((function(){return d.document}),[d]),"keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=g.current)?void 0:t.contains(i),o=null==(n=x.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a))&&(a||o)&&("Tab"!==r||g.current&&v)){I.current=e.type;var s={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var u=R(i,-1);return u&&u.focus&&u.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var c=R(i,1);c&&c.focus&&c.focus()}else m(!0,s);return;case"Tab":se(i.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=g.current)&&t.contains(e.target)||m(!1,s)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),m(!1,s)}}})),(0,W.jsx)(Zn.Provider,{value:A,children:(0,W.jsx)(di.Provider,{value:O,children:h})})}ho.displayName="Dropdown",ho.Menu=Xa,ho.Toggle=oo,ho.Item=lo;var po=ho,vo=t.createContext({});vo.displayName="DropdownContext";var mo=vo,yo=["bsPrefix","className","eventKey","disabled","onClick","active","as"],go=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.eventKey,a=e.disabled,s=void 0!==a&&a,u=e.onClick,c=e.active,l=e.as,f=void 0===l?Kn:l,h=z(e,yo),d=X(n,"dropdown-item"),p=o(uo({key:i,href:h.href,disabled:s,onClick:u,active:c}),2),v=p[0],m=p[1];return(0,W.jsx)(f,B(B(B({},h),v),{},{ref:t,className:H()(r,d,m.isActive&&"active",s&&"disabled")}))}));go.displayName="DropdownItem";var ko=go,bo=(n(309),t.createContext(null));bo.displayName="InputGroupContext";var wo=bo;function xo(e,t){return e}var Eo=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function _o(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t&&(r=e?n?"right-end":"left-end":n?"right-start":"left-start"),r}var So=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.align,s=e.rootCloseEvent,u=e.flip,c=e.show,l=e.renderOnMount,f=e.as,h=void 0===f?"div":f,d=e.popperConfig,p=e.variant,v=z(e,Eo),m=!1,y=(0,t.useContext)(dr),g=X(r,"dropdown-menu"),k=(0,t.useContext)(mo),b=k.align,w=k.drop,x=k.isRTL;a=a||b;var E=(0,t.useContext)(wo),_=[];if(a)if("object"===typeof a){var S=Object.keys(a);if(S.length){var I=S[0],T=a[I];m="start"===T,_.push("".concat(g,"-").concat(I,"-").concat(T))}}else"end"===a&&(m=!0);var C=_o(m,w,x),N=o(Ja({flip:u,rootCloseEvent:s,show:c,usePopper:!y&&0===_.length,offset:[0,2],popperConfig:d,placement:C}),2),A=N[0],O=N[1],P=O.hasShown,D=O.popper,R=O.show,L=O.toggle;if(A.ref=me(xo(n),A.ref),Bn((function(){R&&(null==D||D.update())}),[R]),!P&&!l&&!E)return null;"string"!==typeof h&&(A.show=R,A.close=function(){return null==L?void 0:L(!1)},A.align=a);var j=v.style;return null!=D&&D.placement&&(j=B(B({},v.style),A.style),v["x-placement"]=D.placement),(0,W.jsx)(h,B(B(B(B({},v),A),{},{style:j},(_.length||y)&&{"data-bs-popper":"static"}),{},{className:H().apply(void 0,[i,g,R&&"show",m&&"".concat(g,"-end"),p&&"".concat(g,"-").concat(p)].concat(_))}))}));So.displayName="DropdownMenu",So.defaultProps={flip:!0};var Io=So,To=["bsPrefix","split","className","childBsPrefix","as"],Co=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.split,a=e.className,s=e.childBsPrefix,u=e.as,c=void 0===u?ne:u,l=z(e,To),f=X(r,"dropdown-toggle"),h=(0,t.useContext)(di),d=(0,t.useContext)(wo);void 0!==s&&(l.bsPrefix=s);var p=o(io(),1)[0];return p.ref=me(p.ref,xo(n)),(0,W.jsx)(c,B(B({className:H()(a,f,i&&"".concat(f,"-split"),!!d&&(null==h?void 0:h.show)&&"show")},p),l))}));Co.displayName="DropdownToggle";var No=Co,Ao=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],Oo=Ut("dropdown-header",{defaultProps:{role:"heading"}}),Po=Ut("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),Do=Ut("dropdown-item-text",{Component:"span"}),Ro=t.forwardRef((function(e,n){var r=jn(e,{show:"onToggle"}),i=r.bsPrefix,a=r.drop,o=r.show,s=r.className,u=r.align,c=r.onSelect,l=r.onToggle,f=r.focusFirstItemOnShow,h=r.as,d=void 0===h?"div":h,p=(r.navbar,r.autoClose),v=z(r,Ao),m=(0,t.useContext)(wo),y=X(i,"dropdown"),g=Z(),k=pe((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===p?"click"===n:"inside"===p?"rootClose"!==n:"outside"!==p||"select"!==n)&&(null==l||l(e,t))})),b=_o("end"===u,a,g),w=(0,t.useMemo)((function(){return{align:u,drop:a,isRTL:g}}),[u,a,g]);return(0,W.jsx)(mo.Provider,{value:w,children:(0,W.jsx)(po,{placement:b,show:o,onSelect:c,onToggle:k,focusFirstItemOnShow:f,itemSelector:".".concat(y,"-item:not(.disabled):not(:disabled)"),children:m?v.children:(0,W.jsx)(d,B(B({},v),{},{ref:n,className:H()(s,o&&"show",(!a||"down"===a)&&y,"up"===a&&"dropup","end"===a&&"dropend","start"===a&&"dropstart")}))})})}));Ro.displayName="Dropdown",Ro.defaultProps={navbar:!1,align:"start",autoClose:!0};var Lo=Object.assign(Ro,{Toggle:No,Menu:Io,Item:ko,ItemText:Do,Divider:Po,Header:Oo}),jo=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],Mo=t.forwardRef((function(e,t){var n=e.id,r=e.title,i=e.children,a=e.bsPrefix,o=e.className,s=e.rootCloseEvent,u=e.menuRole,c=e.disabled,l=e.active,f=e.renderMenuOnMount,h=e.menuVariant,d=z(e,jo),p=X(void 0,"nav-item");return(0,W.jsxs)(Lo,B(B({ref:t},d),{},{className:H()(o,p),children:[(0,W.jsx)(Lo.Toggle,{id:n,eventKey:null,active:l,disabled:c,childBsPrefix:a,as:ci,children:r}),(0,W.jsx)(Lo.Menu,{role:u,renderOnMount:f,rootCloseEvent:s,variant:h,children:i})]}))}));Mo.displayName="NavDropdown";var Fo=Object.assign(Mo,{Item:Lo.Item,ItemText:Lo.ItemText,Divider:Lo.Divider,Header:Lo.Header});function Uo(){return(0,W.jsx)(Vr,{id:"navbar",expand:"lg",children:(0,W.jsxs)(zr,{children:[(0,W.jsx)(Vr.Brand,{href:"/",children:(0,W.jsx)(Wr,{src:"/Images/4p_logo.png",alt:"Four Peaks Surgery Center"})}),(0,W.jsx)(Vr.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,W.jsx)(Vr.Collapse,{id:"basic-navbar-nav",children:(0,W.jsxs)(hi,{id:"nav-real-links",className:"me-auto",children:[(0,W.jsx)(hi.Link,{href:"/",children:"Home"}),(0,W.jsxs)(Fo,{title:"For Patients",id:"basic-nav-dropdown",children:[(0,W.jsx)(Fo.Item,{href:"/patients/paperwork",children:"Paperwork"}),(0,W.jsx)(Fo.Item,{href:"/about/services",children:"Services"}),(0,W.jsx)(Fo.Item,{href:"/testimonials",children:"Testimonials"}),(0,W.jsx)(Fo.Divider,{}),(0,W.jsx)(Fo.Item,{href:"#action/3.4",disabled:!0,children:"One Medical Passport"})]}),(0,W.jsx)(hi.Link,{href:"/about",children:"About"}),(0,W.jsx)(hi.Link,{href:"/about/surgeons",children:"Surgeons"}),(0,W.jsx)(hi.Link,{href:"/contact",children:"Contact"})]})})]})})}var Vo=function(e,n){var r=(0,t.useRef)(!0);(0,t.useEffect)((function(){if(!r.current)return e();r.current=!1}),n)},Bo=Math.pow(2,31)-1;function qo(e,t,n){var r=n-Date.now();e.current=r<=Bo?setTimeout(t,r):setTimeout((function(){return qo(e,t,n)}),Bo)}function zo(){var e=Ne(),n=(0,t.useRef)();return ye((function(){return clearTimeout(n.current)})),(0,t.useMemo)((function(){var t=function(){return clearTimeout(n.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(t(),i<=Bo?n.current=setTimeout(r,i):qo(n,r,Date.now()+i))},clear:t}}),[])}var Ko=Ut("carousel-caption"),Ho=["as","bsPrefix","className"],Wo=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=z(e,Ho),s=H()(a,X(i,"carousel-item"));return(0,W.jsx)(r,B(B({ref:t},o),{},{className:s}))}));Wo.displayName="CarouselItem";var Go=Wo;function Qo(e,n){var r=0;return t.Children.map(e,(function(e){return t.isValidElement(e)?n(e,r++):e}))}var Yo=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"],Jo={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:(0,W.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:(0,W.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};var $o=t.forwardRef((function(e,n){var r=jn(e,{activeIndex:"onSelect"}),i=r.as,a=void 0===i?"div":i,s=r.bsPrefix,u=r.slide,c=r.fade,l=r.controls,f=r.indicators,h=r.indicatorLabels,d=r.activeIndex,p=r.onSelect,v=r.onSlide,m=r.onSlid,y=r.interval,g=r.keyboard,k=r.onKeyDown,b=r.pause,w=r.onMouseOver,x=r.onMouseOut,E=r.wrap,_=r.touch,S=r.onTouchStart,I=r.onTouchMove,T=r.onTouchEnd,C=r.prevIcon,N=r.prevLabel,A=r.nextIcon,O=r.nextLabel,P=r.variant,D=r.className,R=r.children,L=z(r,Yo),j=X(s,"carousel"),M=Z(),F=(0,t.useRef)(null),U=o((0,t.useState)("next"),2),V=U[0],q=U[1],K=o((0,t.useState)(!1),2),G=K[0],Q=K[1],Y=o((0,t.useState)(!1),2),J=Y[0],$=Y[1],ee=o((0,t.useState)(d||0),2),te=ee[0],ne=ee[1];J||d===te||(F.current?q(F.current):q((d||0)>te?"next":"prev"),u&&$(!0),ne(d||0)),(0,t.useEffect)((function(){F.current&&(F.current=null)}));var re,ie=0;!function(e,n){var r=0;t.Children.forEach(e,(function(e){t.isValidElement(e)&&n(e,r++)}))}(R,(function(e,t){++ie,t===d&&(re=e.props.interval)}));var ae=de(re),oe=(0,t.useCallback)((function(e){if(!J){var t=te-1;if(t<0){if(!E)return;t=ie-1}F.current="prev",null==p||p(t,e)}}),[J,te,p,E,ie]),se=pe((function(e){if(!J){var t=te+1;if(t>=ie){if(!E)return;t=0}F.current="next",null==p||p(t,e)}})),ue=(0,t.useRef)();(0,t.useImperativeHandle)(n,(function(){return{element:ue.current,prev:oe,next:se}}));var ce=pe((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(ue.current)&&(M?oe():se())})),le="next"===V?"start":"end";Vo((function(){u||(null==v||v(te,le),null==m||m(te,le))}),[te]);var fe="".concat(j,"-item-").concat(V),he="".concat(j,"-item-").concat(le),ve=(0,t.useCallback)((function(e){Tt(e),null==v||v(te,le)}),[v,te,le]),me=(0,t.useCallback)((function(){$(!1),null==m||m(te,le)}),[m,te,le]),ye=(0,t.useCallback)((function(e){if(g&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(M?se(e):oe(e));case"ArrowRight":return e.preventDefault(),void(M?oe(e):se(e))}null==k||k(e)}),[g,k,oe,se,M]),ge=(0,t.useCallback)((function(e){"hover"===b&&Q(!0),null==w||w(e)}),[b,w]),ke=(0,t.useCallback)((function(e){Q(!1),null==x||x(e)}),[x]),be=(0,t.useRef)(0),we=(0,t.useRef)(0),xe=zo(),Ee=(0,t.useCallback)((function(e){be.current=e.touches[0].clientX,we.current=0,"hover"===b&&Q(!0),null==S||S(e)}),[b,S]),_e=(0,t.useCallback)((function(e){e.touches&&e.touches.length>1?we.current=0:we.current=e.touches[0].clientX-be.current,null==I||I(e)}),[I]),Se=(0,t.useCallback)((function(e){if(_){var t=we.current;Math.abs(t)>40&&(t>0?oe(e):se(e))}"hover"===b&&xe.set((function(){Q(!1)}),y||void 0),null==T||T(e)}),[_,b,oe,se,xe,y,T]),Ie=null!=y&&!G&&!J,Te=(0,t.useRef)();(0,t.useEffect)((function(){var e,t;if(Ie){var n=M?oe:se;return Te.current=window.setInterval(document.visibilityState?ce:n,null!=(e=null!=(t=ae.current)?t:y)?e:void 0),function(){null!==Te.current&&clearInterval(Te.current)}}}),[Ie,oe,se,ae,y,ce,M]);var Ce=(0,t.useMemo)((function(){return f&&Array.from({length:ie},(function(e,t){return function(e){null==p||p(t,e)}}))}),[f,ie,p]);return(0,W.jsxs)(a,B(B({ref:ue},L),{},{onKeyDown:ye,onMouseOver:ge,onMouseOut:ke,onTouchStart:Ee,onTouchMove:_e,onTouchEnd:Se,className:H()(D,j,u&&"slide",c&&"".concat(j,"-fade"),P&&"".concat(j,"-").concat(P)),children:[f&&(0,W.jsx)("div",{className:"".concat(j,"-indicators"),children:Qo(R,(function(e,t){return(0,W.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=h&&h.length?h[t]:"Slide ".concat(t+1),className:t===te?"active":void 0,onClick:Ce?Ce[t]:void 0,"aria-current":t===te},t)}))}),(0,W.jsx)("div",{className:"".concat(j,"-inner"),children:Qo(R,(function(e,n){var r=n===te;return u?(0,W.jsx)(Ot,{in:r,onEnter:r?ve:void 0,onEntered:r?me:void 0,addEndListener:It,children:function(n,i){return t.cloneElement(e,B(B({},i),{},{className:H()(e.props.className,r&&"entered"!==n&&fe,("entered"===n||"exiting"===n)&&"active",("entering"===n||"exiting"===n)&&he)}))}}):t.cloneElement(e,{className:H()(e.props.className,r&&"active")})}))}),l&&(0,W.jsxs)(W.Fragment,{children:[(E||0!==d)&&(0,W.jsxs)(Kn,{className:"".concat(j,"-control-prev"),onClick:oe,children:[C,N&&(0,W.jsx)("span",{className:"visually-hidden",children:N})]}),(E||d!==ie-1)&&(0,W.jsxs)(Kn,{className:"".concat(j,"-control-next"),onClick:se,children:[A,O&&(0,W.jsx)("span",{className:"visually-hidden",children:O})]})]})]}))}));$o.displayName="Carousel",$o.defaultProps=Jo;var Xo=Object.assign($o,{Caption:Ko,Item:Go});function Zo(){return(0,W.jsx)(Xo,{variant:"dark",id:"carousel-banner",children:(0,W.jsx)(Xo.Item,{interval:3e3,children:(0,W.jsx)("img",{className:"d-block w-100",src:"./Images/AUUA-Banner.jpg",alt:"First slide"})})})}function es(){return(0,W.jsxs)($n,{id:"osc",children:[(0,W.jsx)($n.Heading,{id:"banner-heading",children:"Outstanding Surgical Care & Convienient Outpatient Setting"}),(0,W.jsx)("p",{children:"Join us at Four Peaks Surgery Center"}),(0,W.jsx)("p",{children:"9425 West Bell Road, Sun City, Arizona 85351"}),(0,W.jsx)("p",{children:"Serving Peoria, Sun City, Surprise, and much more since 2017!"})]})}function ts(){return(0,W.jsxs)(fn,{id:"main-cg",children:[(0,W.jsx)(On,{children:(0,W.jsxs)(hi.Link,{className:"card-anchor",href:"/patients/paperwork",children:[(0,W.jsx)(On.Img,{alt:"",variant:"top",src:"./Images/contract.png"}),(0,W.jsx)(On.Title,{children:"Paperwork"})]})}),(0,W.jsx)(On,{children:(0,W.jsxs)(hi.Link,{className:"card-anchor",href:"/about/surgeons",children:[(0,W.jsx)(On.Img,{alt:"",variant:"top",src:"./Images/doctor.png"}),(0,W.jsx)(On.Title,{children:"Surgeons"})]})}),(0,W.jsx)(On,{children:(0,W.jsxs)(hi.Link,{className:"card-anchor",href:"/about",children:[(0,W.jsx)(On.Img,{alt:"",variant:"top",src:"./Images/information.png"}),(0,W.jsx)(On.Title,{children:"About Us"})]})}),(0,W.jsx)(On,{children:(0,W.jsxs)(hi.Link,{className:"card-anchor",href:"/testimonials",children:[(0,W.jsx)(On.Img,{alt:"",variant:"top",src:"./Images/testimonial.png"}),(0,W.jsx)(On.Title,{children:"Testimonials"})]})}),(0,W.jsx)(On,{children:(0,W.jsxs)(hi.Link,{className:"card-anchor",href:"/about/services",children:[(0,W.jsx)(On.Img,{alt:"",variant:"top",src:"./Images/sx.png"}),(0,W.jsx)(On.Title,{children:"Services"})]})})]})}function ns(e,t,n){return ns=Xe()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Je(i,n.prototype),i},ns.apply(null,arguments)}function rs(e){var t="function"===typeof Map?new Map:void 0;return rs=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ns(e,arguments,Ge(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Je(n,e)},rs(e)}var is=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},as={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(is(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},os=function(e){return function(e){var t=is(e);return as.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ss=function(e){try{return as.decodeString(e,!0)}catch(yN){console.error("base64Decode failed: ",yN)}return null};function us(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=us(e[n],t[n]));return e}var cs=function(){function e(){var t=this;Pe(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Re(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ls(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[os(JSON.stringify({alg:"none",type:"JWT"})),os(JSON.stringify(a)),""].join(".")}function fs(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function hs(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fs())}function ds(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ps(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function vs(){var e=fs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ms(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(yN){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var ys=function(e){$e(n,e);var t=nt(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(et(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(et(a),gs.prototype.create),a}return Re(n)}(rs(Error)),gs=function(){function e(t,n,r){Pe(this,e),this.service=t,this.serviceName=n,this.errors=r}return Re(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ks(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ys(n,a,t);return o}}]),e}();function ks(e,t){return e.replace(bs,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var bs=/\{\$([^}]+)}/g;function ws(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xs(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Es(s)&&Es(u)){if(!xs(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Es(e){return null!==e&&"object"===typeof e}function _s(e){for(var t=[],n=function(){var e=o(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ss(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=o(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Is(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ts(e,t){var n=new Cs(e,t);return n.subscribe.bind(n)}var Cs=function(){function e(t,n){var r=this;Pe(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Re(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=pi(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ns),void 0===r.error&&(r.error=Ns),void 0===r.complete&&(r.complete=Ns);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(yN){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(yN){"undefined"!==typeof console&&console.error&&console.error(yN)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ns(){}function As(e){return e&&e._delegate?e._delegate:e}function Os(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ps(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Os(a,r,i,o,s,"next",e)}function s(e){Os(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Ds=n(757),Rs=n.n(Ds),Ls=function(){function e(t,n,r){Pe(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Re(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),js="[DEFAULT]",Ms=function(){function e(t,n){Pe(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Re(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new cs;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(yN){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(yN){if(r)return null;throw yN}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch(yN){}var t,n=pi(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});a.resolve(u)}catch(yN){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:js;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ps(Ds.mark((function e(){var t;return Ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Oe(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Oe(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:js;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:js;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=pi(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=o(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){s.e(h)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=pi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Zw){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===js?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Zw){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:js;return this.component?this.component.multipleInstances?e:js:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Fs,Us,Vs=function(){function e(t){Pe(this,e),this.name=t,this.providers=new Map}return Re(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ms(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Bs=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Us||(Us={}));var qs,zs,Ks={debug:Us.DEBUG,verbose:Us.VERBOSE,info:Us.INFO,warn:Us.WARN,error:Us.ERROR,silent:Us.SILENT},Hs=Us.INFO,Ws=(U(Fs={},Us.DEBUG,"log"),U(Fs,Us.VERBOSE,"log"),U(Fs,Us.INFO,"info"),U(Fs,Us.WARN,"warn"),U(Fs,Us.ERROR,"error"),Fs),Gs=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ws[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Qs=function(){function e(t){Pe(this,e),this.name=t,this._logLevel=Hs,this._logHandler=Gs,this._userLogHandler=null,Bs.push(this)}return Re(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Us))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ks[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Us.DEBUG].concat(t)),this._logHandler.apply(this,[this,Us.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Us.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Us.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Us.INFO].concat(t)),this._logHandler.apply(this,[this,Us.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Us.WARN].concat(t)),this._logHandler.apply(this,[this,Us.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Us.ERROR].concat(t)),this._logHandler.apply(this,[this,Us.ERROR].concat(t))}}]),e}();var Ys=function(){function e(t){Pe(this,e),this.container=t}return Re(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Js="@firebase/app",$s="0.7.16",Xs=new Qs("@firebase/app"),Zs="[DEFAULT]",eu=(U(qs={},Js,"fire-core"),U(qs,"@firebase/app-compat","fire-core-compat"),U(qs,"@firebase/analytics","fire-analytics"),U(qs,"@firebase/analytics-compat","fire-analytics-compat"),U(qs,"@firebase/app-check","fire-app-check"),U(qs,"@firebase/app-check-compat","fire-app-check-compat"),U(qs,"@firebase/auth","fire-auth"),U(qs,"@firebase/auth-compat","fire-auth-compat"),U(qs,"@firebase/database","fire-rtdb"),U(qs,"@firebase/database-compat","fire-rtdb-compat"),U(qs,"@firebase/functions","fire-fn"),U(qs,"@firebase/functions-compat","fire-fn-compat"),U(qs,"@firebase/installations","fire-iid"),U(qs,"@firebase/installations-compat","fire-iid-compat"),U(qs,"@firebase/messaging","fire-fcm"),U(qs,"@firebase/messaging-compat","fire-fcm-compat"),U(qs,"@firebase/performance","fire-perf"),U(qs,"@firebase/performance-compat","fire-perf-compat"),U(qs,"@firebase/remote-config","fire-rc"),U(qs,"@firebase/remote-config-compat","fire-rc-compat"),U(qs,"@firebase/storage","fire-gcs"),U(qs,"@firebase/storage-compat","fire-gcs-compat"),U(qs,"@firebase/firestore","fire-fst"),U(qs,"@firebase/firestore-compat","fire-fst-compat"),U(qs,"fire-js","fire-js"),U(qs,"firebase","fire-js-all"),qs),tu=new Map,nu=new Map;function ru(e,t){try{e.container.addComponent(t)}catch(yN){Xs.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),yN)}}function iu(e,t){e.container.addOrOverwriteComponent(t)}function au(e){var t=e.name;if(nu.has(t))return Xs.debug("There were multiple attempts to register component ".concat(t,".")),!1;nu.set(t,e);var n,r=pi(tu.values());try{for(r.s();!(n=r.n()).done;){ru(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ou(e,t){return e.container.getProvider(t)}function su(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zs;ou(e,t).clearInstance(n)}function uu(){nu.clear()}var cu,lu,fu=(U(zs={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),U(zs,"bad-app-name","Illegal App name: '{$appName}"),U(zs,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),U(zs,"app-deleted","Firebase App named '{$appName}' already deleted"),U(zs,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),U(zs,"invalid-log-argument","First argument to `onLog` must be null or a function."),zs),hu=new gs("app","Firebase",fu),du=function(){function e(t,n,r){var i=this;Pe(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ls("app",(function(){return i}),"PUBLIC"))}return Re(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw hu.create("app-deleted",{appName:this._name})}}]),e}(),pu="9.6.6";function vu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Zs,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw hu.create("bad-app-name",{appName:String(i)});var a=tu.get(i);if(a){if(xs(e,a.options)&&xs(r,a.config))return a;throw hu.create("duplicate-app",{appName:i})}var o,s=new Vs(i),u=pi(nu.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new du(e,r,s);return tu.set(i,l),l}function mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zs,t=tu.get(e);if(!t)throw hu.create("no-app",{appName:e});return t}function yu(){return Array.from(tu.values())}function gu(e){return ku.apply(this,arguments)}function ku(){return ku=Ps(Ds.mark((function e(t){var n;return Ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!tu.has(n)){e.next=6;break}return tu.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),ku.apply(this,arguments)}function bu(e,t,n){var r,i=null!==(r=eu[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Xs.warn(s.join(" "))}au(new Ls("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function wu(e,t){if(null!==e&&"function"!==typeof e)throw hu.create("invalid-log-argument");!function(e,t){var n,r=pi(Bs);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ks[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Us[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function xu(e){var t;t=e,Bs.forEach((function(e){e.setLogLevel(t)}))}cu="",au(new Ls("platform-logger",(function(e){return new Ys(e)}),"PRIVATE")),bu(Js,$s,cu),bu(Js,$s,"esm2017"),bu("fire-js","");var Eu=function(){function e(t,n){var r=this;Pe(this,e),this._delegate=t,this.firebase=n,ru(t,new Ls("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Re(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),gu(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zs;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zs;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ru(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){iu(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),_u=(U(lu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),U(lu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),lu),Su=new gs("app-compat","Firebase",_u);var Iu=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=vu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ws(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:bu,setLogLevel:xu,onLog:wu,apps:null,SDK_VERSION:pu,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(au(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Su.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&us(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ws(n,e=e||Zs))throw Su.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Eu);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){us(n,e)},createSubscribe:Ts,ErrorFactory:gs,deepExtend:us}),n}(),Tu=new Qs("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Tu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Cu=self.firebase.SDK_VERSION;Cu&&Cu.indexOf("LITE")>=0&&Tu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Nu=Iu;!function(e){bu("@firebase/app-compat","0.1.17",e)}();Nu.registerVersion("firebase","9.6.6","app-compat");var Au,Ou="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Pu={},Du=Du||{},Ru=Ou||self;function Lu(){}function ju(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Mu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Fu="closure_uid_"+(1e9*Math.random()>>>0),Uu=0;function Vu(e,t,n){return e.call.apply(e.bind,arguments)}function Bu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function qu(e,t,n){return(qu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vu:Bu).apply(null,arguments)}function zu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ku(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Hu(){this.s=this.s,this.o=this.o}var Wu={};Hu.prototype.s=!1,Hu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Fu)&&e[Fu]||(e[Fu]=++Uu)}(this);delete Wu[e]}},Hu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Gu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Qu=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Yu(e){return Array.prototype.concat.apply([],arguments)}function Ju(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function $u(e){return/^[\s\xa0]*$/.test(e)}var Xu,Zu=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ec(e,t){return-1!=e.indexOf(t)}function tc(e,t){return e<t?-1:e>t?1:0}e:{var nc=Ru.navigator;if(nc){var rc=nc.userAgent;if(rc){Xu=rc;break e}}Xu=""}function ic(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ac(e){var t={};for(var n in e)t[n]=e[n];return t}var oc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sc(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<oc.length;a++)n=oc[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function uc(e){return uc[" "](e),e}uc[" "]=Lu;var cc,lc=ec(Xu,"Opera"),fc=ec(Xu,"Trident")||ec(Xu,"MSIE"),hc=ec(Xu,"Edge"),dc=hc||fc,pc=ec(Xu,"Gecko")&&!(ec(Xu.toLowerCase(),"webkit")&&!ec(Xu,"Edge"))&&!(ec(Xu,"Trident")||ec(Xu,"MSIE"))&&!ec(Xu,"Edge"),vc=ec(Xu.toLowerCase(),"webkit")&&!ec(Xu,"Edge");function mc(){var e=Ru.document;return e?e.documentMode:void 0}e:{var yc="",gc=function(){var e=Xu;return pc?/rv:([^\);]+)(\)|;)/.exec(e):hc?/Edge\/([\d\.]+)/.exec(e):fc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):vc?/WebKit\/(\S+)/.exec(e):lc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gc&&(yc=gc?gc[1]:""),fc){var kc=mc();if(null!=kc&&kc>parseFloat(yc)){cc=String(kc);break e}}cc=yc}var bc,wc={};function xc(){return function(e){var t=wc;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Zu(String(cc)).split("."),n=Zu("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=tc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||tc(0==a[2].length,0==o[2].length)||tc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ru.document&&fc){var Ec=mc();bc=Ec||(parseInt(cc,10)||void 0)}else bc=void 0;var _c=bc,Sc=function(){if(!Ru.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ru.addEventListener("test",Lu,t),Ru.removeEventListener("test",Lu,t)}catch(n){}return e}();function Ic(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Tc(e,t){if(Ic.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(pc){e:{try{uc(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Cc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Tc.Z.h.call(this)}}Ic.prototype.h=function(){this.defaultPrevented=!0},Ku(Tc,Ic);var Cc={2:"touch",3:"pen",4:"mouse"};Tc.prototype.h=function(){Tc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Nc="closure_listenable_"+(1e6*Math.random()|0),Ac=0;function Oc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ac,this.ca=this.fa=!1}function Pc(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Dc(e){this.src=e,this.g={},this.h=0}function Rc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Gu(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Pc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Lc(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Dc.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Lc(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Oc(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var jc="closure_lm_"+(1e6*Math.random()|0),Mc={};function Fc(e,t,n,r,i){if(r&&r.once)return Vc(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Fc(e,t[a],n,r,i);return null}return n=Gc(n),e&&e[Nc]?e.N(t,n,Mu(r)?!!r.capture:!!r,i):Uc(e,t,n,!1,r,i)}function Uc(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Mu(i)?!!i.capture:!!i,s=Hc(e);if(s||(e[jc]=s=new Dc(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Kc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Sc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Vc(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Vc(e,t[a],n,r,i);return null}return n=Gc(n),e&&e[Nc]?e.O(t,n,Mu(r)?!!r.capture:!!r,i):Uc(e,t,n,!0,r,i)}function Bc(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Bc(e,t[a],n,r,i);else r=Mu(r)?!!r.capture:!!r,n=Gc(n),e&&e[Nc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Lc(a=e.g[t],n,r,i))&&(Pc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Hc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Lc(t,n,r,i)),(n=-1<e?t[e]:null)&&qc(n))}function qc(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Nc])Rc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Hc(t))?(Rc(n,e),0==n.h&&(n.src=null,t[jc]=null)):Pc(e)}}}function zc(e){return e in Mc?Mc[e]:Mc[e]="on"+e}function Kc(e,t){if(e.ca)e=!0;else{t=new Tc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&qc(e),e=n.call(r,t)}return e}function Hc(e){return(e=e[jc])instanceof Dc?e:null}var Wc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gc(e){return"function"===typeof e?e:(e[Wc]||(e[Wc]=function(t){return e.handleEvent(t)}),e[Wc])}function Qc(){Hu.call(this),this.i=new Dc(this),this.P=this,this.I=null}function Yc(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ic(t,e);else if(t instanceof Ic)t.target=t.target||e;else{var i=t;sc(t=new Ic(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Jc(o,r,!0,t)&&i}if(i=Jc(o=t.g=e,r,!0,t)&&i,i=Jc(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Jc(o=t.g=n[a],r,!1,t)&&i}function Jc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Rc(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ku(Qc,Hu),Qc.prototype[Nc]=!0,Qc.prototype.removeEventListener=function(e,t,n,r){Bc(this,e,t,n,r)},Qc.prototype.M=function(){if(Qc.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pc(n[r]);delete t.g[e],t.h--}}this.I=null},Qc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Qc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var $c=Ru.JSON.stringify;function Xc(){var e=ol,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Zc,el=function(){function e(){Pe(this,e),this.h=this.g=null}return Re(e,[{key:"add",value:function(e,t){var n=tl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),tl=new(function(){function e(t,n){Pe(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Re(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new nl}),(function(e){return e.reset()})),nl=function(){function e(){Pe(this,e),this.next=this.g=this.h=null}return Re(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function rl(e){Ru.setTimeout((function(){throw e}),0)}function il(e,t){Zc||function(){var e=Ru.Promise.resolve(void 0);Zc=function(){e.then(sl)}}(),al||(Zc(),al=!0),ol.add(e,t)}var al=!1,ol=new el;function sl(){for(var e;e=Xc();){try{e.h.call(e.g)}catch(n){rl(n)}var t=tl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}al=!1}function ul(e,t){Qc.call(this),this.h=e||1,this.g=t||Ru,this.j=qu(this.kb,this),this.l=Date.now()}function cl(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ll(e,t,n){if("function"===typeof e)n&&(e=qu(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=qu(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ru.setTimeout(e,t||0)}function fl(e){e.g=ll((function(){e.g=null,e.i&&(e.i=!1,fl(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ku(ul,Qc),(Au=ul.prototype).da=!1,Au.S=null,Au.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yc(this,"tick"),this.da&&(cl(this),this.start()))}},Au.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Au.M=function(){ul.Z.M.call(this),cl(this),delete this.g};var hl=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Re(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:fl(this)}},{key:"M",value:function(){Ye(Ge(n.prototype),"M",this).call(this),this.g&&(Ru.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Hu);function dl(e){Hu.call(this),this.h=e,this.g={}}Ku(dl,Hu);var pl=[];function vl(e,t,n,r){Array.isArray(n)||(n&&(pl[0]=n.toString()),n=pl);for(var i=0;i<n.length;i++){var a=Fc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ml(e){ic(e.g,(function(e,t){this.g.hasOwnProperty(t)&&qc(e)}),e),e.g={}}function yl(){this.g=!0}function gl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return $c(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}dl.prototype.M=function(){dl.Z.M.call(this),ml(this)},dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yl.prototype.Aa=function(){this.g=!1},yl.prototype.info=function(){};var kl={},bl=null;function wl(){return bl=bl||new Qc}function xl(e){Ic.call(this,kl.Ma,e)}function El(e){var t=wl();Yc(t,new xl(t,e))}function _l(e,t){Ic.call(this,kl.STAT_EVENT,e),this.stat=t}function Sl(e){var t=wl();Yc(t,new _l(t,e))}function Il(e,t){Ic.call(this,kl.Na,e),this.size=t}function Tl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ru.setTimeout((function(){e()}),t)}kl.Ma="serverreachability",Ku(xl,Ic),kl.STAT_EVENT="statevent",Ku(_l,Ic),kl.Na="timingevent",Ku(Il,Ic);var Cl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Nl={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Al(){}function Ol(e){return e.h||(e.h=e.i())}function Pl(){}Al.prototype.h=null;var Dl,Rl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ll(){Ic.call(this,"d")}function jl(){Ic.call(this,"c")}function Ml(){}function Fl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new dl(this),this.P=Vl,e=dc?125:void 0,this.W=new ul(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ul}function Ul(){this.i=null,this.g="",this.h=!1}Ku(Ll,Ic),Ku(jl,Ic),Ku(Ml,Al),Ml.prototype.g=function(){return new XMLHttpRequest},Ml.prototype.i=function(){return{}},Dl=new Ml;var Vl=45e3,Bl={},ql={};function zl(e,t,n){e.K=1,e.v=df(sf(t)),e.s=n,e.U=!0,Kl(e,null)}function Kl(e,t){e.F=Date.now(),Ql(e),e.A=sf(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),If(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ul,e.g=Ch(e.l,n?t:null,!e.s),0<e.O&&(e.L=new hl(qu(e.Ia,e,e.g),e.O)),vl(e.V,e.g,"readystatechange",e.gb),t=e.H?ac(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),El(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Hl(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Wl(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Gl(e,n))==ql){4==t&&(e.o=4,Sl(14),i=!1),gl(e.j,e.m,null,"[Incomplete Response]");break}if(r==Bl){e.o=4,Sl(15),gl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gl(e.j,e.m,r,null),Zl(e,r)}Hl(e)&&r!=ql&&r!=Bl&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Sl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),bh(t),t.L=!0,Sl(11))):(gl(e.j,e.m,n,"[Invalid Chunked Response]"),Xl(e),$l(e))}function Gl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ql:(n=Number(t.substring(n,r)),isNaN(n)?Bl:(r+=1)+n>t.length?ql:(t=t.substr(r,n),e.C=r+n,t))}function Ql(e){e.Y=Date.now()+e.P,Yl(e,e.P)}function Yl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Tl(qu(e.eb,e),t)}function Jl(e){e.B&&(Ru.clearTimeout(e.B),e.B=null)}function $l(e){0==e.l.G||e.I||Eh(e.l,e)}function Xl(e){Jl(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,cl(e.W),ml(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Zl(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Rf(n.i,e)))if(n.I=e.N,!e.J&&Rf(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;xh(n),fh(n)}kh(n),Sl(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Tl(qu(n.ab,n),6e3));if(1>=Df(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Sh(n,11)}else if((e.J||n.g==e)&&xh(n),!$u(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(ec(l,"spdy")||ec(l,"quic")||ec(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Lf(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,hf(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Th(r,r.H?r.la:null,r.W),d.J){jf(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Jl(p),Ql(p)),r.g=d}else gh(r);0<n.l.length&&ph(n)}else"stop"!=a[0]&&"close"!=a[0]||Sh(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Sh(n,7):lh(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}El(4)}catch(a){}}function ef(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ju(e)||"string"===typeof e)Qu(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ju(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ju(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function tf(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof tf)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function nf(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];rf(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)rf(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function rf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Au=Fl.prototype).setTimeout=function(e){this.P=e},Au.gb=function(e){e=e.target;var t=this.L;t&&3==ah(e)?t.l():this.Ia(e)},Au.Ia=function(e){try{if(e==this.g)e:{var t=ah(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||dc||this.g&&(this.h.h||this.g.ga()||oh(this.g)))){this.I||4!=t||7==n||El(8==n||0>=r?3:2),Jl(this);var i=this.g.ba();this.N=i;t:if(Hl(this)){var a=oh(this.g);e="";var o=a.length,s=4==ah(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Xl(this),$l(this);var u="";break t}this.h.i=new Ru.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$u(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Sl(12),Xl(this),$l(this);break e}gl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zl(this,i)}this.U?(Wl(this,t,u),dc&&this.i&&3==t&&(vl(this.V,this.W,"tick",this.fb),this.W.start())):(gl(this.j,this.m,u,null),Zl(this,u)),4==t&&Xl(this),this.i&&!this.I&&(4==t?Eh(this.l,this):(this.i=!1,Ql(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Sl(12)):(this.o=0,Sl(13)),Xl(this),$l(this)}}}catch(t){}},Au.fb=function(){if(this.g){var e=ah(this.g),t=this.g.ga();this.C<t.length&&(Jl(this),Wl(this,e,t),this.i&&4!=e&&Ql(this))}},Au.cancel=function(){this.I=!0,Xl(this)},Au.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(El(3),Sl(17)),Xl(this),this.o=2,$l(this)):Yl(this,this.Y-e)},(Au=tf.prototype).R=function(){nf(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Au.T=function(){return nf(this),this.g.concat()},Au.get=function(e,t){return rf(this.h,e)?this.h[e]:t},Au.set=function(e,t){rf(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Au.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var af=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function of(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof of){this.g=void 0!==t?t:e.g,uf(this,e.j),this.s=e.s,cf(this,e.i),lf(this,e.m),this.l=e.l,t=e.h;var n=new xf;n.i=t.i,t.g&&(n.g=new tf(t.g),n.h=t.h),ff(this,n),this.o=e.o}else e&&(n=String(e).match(af))?(this.g=!!t,uf(this,n[1]||"",!0),this.s=pf(n[2]||""),cf(this,n[3]||"",!0),lf(this,n[4]),this.l=pf(n[5]||"",!0),ff(this,n[6]||"",!0),this.o=pf(n[7]||"")):(this.g=!!t,this.h=new xf(null,this.g))}function sf(e){return new of(e)}function uf(e,t,n){e.j=n?pf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function cf(e,t,n){e.i=n?pf(t,!0):t}function lf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ff(e,t,n){t instanceof xf?(e.h=t,function(e,t){t&&!e.j&&(Ef(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_f(this,t),If(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=vf(t,bf)),e.h=new xf(t,e.g))}function hf(e,t,n){e.h.set(t,n)}function df(e){return hf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function pf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function vf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}of.prototype.toString=function(){var e=[],t=this.j;t&&e.push(vf(t,yf,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(vf(t,yf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(vf(n,"/"==n.charAt(0)?kf:gf,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",vf(n,wf)),e.join("")};var yf=/[#\/\?@]/g,gf=/[#\?:]/g,kf=/[#\?]/g,bf=/[#\?@]/g,wf=/#/g;function xf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ef(e){e.g||(e.g=new tf,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _f(e,t){Ef(e),t=Tf(e,t),rf(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,rf((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&nf(e)))}function Sf(e,t){return Ef(e),t=Tf(e,t),rf(e.g.h,t)}function If(e,t,n){_f(e,t),0<n.length&&(e.i=null,e.g.set(Tf(e,t),Ju(n)),e.h+=n.length)}function Tf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Au=xf.prototype).add=function(e,t){Ef(this),this.i=null,e=Tf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Au.forEach=function(e,t){Ef(this),this.g.forEach((function(n,r){Qu(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Au.T=function(){Ef(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Au.R=function(e){Ef(this);var t=[];if("string"===typeof e)Sf(this,e)&&(t=Yu(t,this.g.get(Tf(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Yu(t,e[n])}return t},Au.set=function(e,t){return Ef(this),this.i=null,Sf(this,e=Tf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Au.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Au.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Cf=Re((function e(t,n){Pe(this,e),this.h=t,this.g=n}));function Nf(e){this.l=e||Of,Ru.PerformanceNavigationTiming?e=0<(e=Ru.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ru.g&&Ru.g.Ea&&Ru.g.Ea()&&Ru.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Af,Of=10;function Pf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Df(e){return e.h?1:e.g?e.g.size:0}function Rf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Lf(e,t){e.g?e.g.add(t):e.h=t}function jf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Mf(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=pi(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ju(e.i)}function Ff(){}function Uf(){this.g=new Ff}function Vf(e,t,n){var r=n||"";try{ef(e,(function(e,n){var i=e;Mu(e)&&(i=$c(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(yN){throw t.push(r+"type="+encodeURIComponent("_badmap")),yN}}function Bf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function qf(e){this.l=e.$b||null,this.j=e.ib||!1}function zf(e,t){Qc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Kf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nf.prototype.cancel=function(){if(this.i=Mf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=pi(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ff.prototype.stringify=function(e){return Ru.JSON.stringify(e,void 0)},Ff.prototype.parse=function(e){return Ru.JSON.parse(e,void 0)},Ku(qf,Al),qf.prototype.g=function(){return new zf(this.l,this.j)},qf.prototype.i=(Af={},function(){return Af}),Ku(zf,Qc);var Kf=0;function Hf(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Wf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Gf(e)}function Gf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Au=zf.prototype).open=function(e,t){if(this.readyState!=Kf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Gf(this)},Au.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ru).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Au.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wf(this)),this.readyState=Kf},Au.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Gf(this)),this.g&&(this.readyState=3,Gf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ru.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hf(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Au.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wf(this):Gf(this),3==this.readyState&&Hf(this)}},Au.Ua=function(e){this.g&&(this.response=this.responseText=e,Wf(this))},Au.Ta=function(e){this.g&&(this.response=e,Wf(this))},Au.ha=function(){this.g&&Wf(this)},Au.setRequestHeader=function(e,t){this.v.append(e,t)},Au.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Au.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(zf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Qf=Ru.JSON.parse;function Yf(e){Qc.call(this),this.headers=new tf,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Jf,this.K=this.L=!1}Ku(Yf,Qc);var Jf="",$f=/^https?$/i,Xf=["POST","PUT"];function Zf(e){return"content-type"==e.toLowerCase()}function eh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,th(e),rh(e)}function th(e){e.D||(e.D=!0,Yc(e,"complete"),Yc(e,"error"))}function nh(e){if(e.h&&"undefined"!=typeof Du&&(!e.C[1]||4!=ah(e)||2!=e.ba()))if(e.v&&4==ah(e))ll(e.Fa,0,e);else if(Yc(e,"readystatechange"),4==ah(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(af)[1]||null;if(!a&&Ru.self&&Ru.self.location){var o=Ru.self.location.protocol;a=o.substr(0,o.length-1)}i=!$f.test(a?a.toLowerCase():"")}t=i}if(t)Yc(e,"complete"),Yc(e,"success");else{e.m=6;try{var s=2<ah(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",th(e)}}finally{rh(e)}}}function rh(e,t){if(e.g){ih(e);var n=e.g,r=e.C[0]?Lu:null;e.g=null,e.C=null,t||Yc(e,"ready");try{n.onreadystatechange=r}catch(yN){}}}function ih(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ru.clearTimeout(e.A),e.A=null)}function ah(e){return e.g?e.g.readyState:0}function oh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Jf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function sh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ic(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):hf(e,t,n))}function uh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ch(e){this.za=0,this.l=[],this.h=new yl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=uh("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=uh("baseRetryDelayMs",5e3,e),this.$a=uh("retryDelaySeedMs",1e4,e),this.Ya=uh("forwardChannelMaxRetries",2,e),this.ra=uh("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Nf(e&&e.concurrentRequestLimit),this.Ca=new Uf,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function lh(e){if(hh(e),3==e.G){var t=e.V++,n=sf(e.F);hf(n,"SID",e.J),hf(n,"RID",t),hf(n,"TYPE","terminate"),mh(e,n),(t=new Fl(e,e.h,t,void 0)).K=2,t.v=df(sf(n)),n=!1,Ru.navigator&&Ru.navigator.sendBeacon&&(n=Ru.navigator.sendBeacon(t.v.toString(),"")),!n&&Ru.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ch(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ql(t)}Ih(e)}function fh(e){e.g&&(bh(e),e.g.cancel(),e.g=null)}function hh(e){fh(e),e.u&&(Ru.clearTimeout(e.u),e.u=null),xh(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ru.clearTimeout(e.m),e.m=null)}function dh(e,t){e.l.push(new Cf(e.Za++,t)),3==e.G&&ph(e)}function ph(e){Pf(e.i)||e.m||(e.m=!0,il(e.Ha,e),e.C=0)}function vh(e,t){var n;n=t?t.m:e.V++;var r=sf(e.F);hf(r,"SID",e.J),hf(r,"RID",n),hf(r,"AID",e.U),mh(e,r),e.o&&e.s&&sh(r,e.o,e.s),n=new Fl(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=yh(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Lf(e.i,n),zl(n,r,t)}function mh(e,t){e.j&&ef({},(function(e,n){hf(t,n,e)}))}function yh(e,t,n){n=Math.min(e.l.length,n);var r=e.j?qu(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Vf(l,o,"req"+c+"_")}catch(ad){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function gh(e){e.g||e.u||(e.Y=1,il(e.Ga,e),e.A=0)}function kh(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Tl(qu(e.Ga,e),_h(e,e.A)),e.A++,!0)}function bh(e){null!=e.B&&(Ru.clearTimeout(e.B),e.B=null)}function wh(e){e.g=new Fl(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=sf(e.oa);hf(t,"RID","rpc"),hf(t,"SID",e.J),hf(t,"CI",e.N?"0":"1"),hf(t,"AID",e.U),mh(e,t),hf(t,"TYPE","xmlhttp"),e.o&&e.s&&sh(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=df(sf(t)),n.s=null,n.U=!0,Kl(n,e)}function xh(e){null!=e.v&&(Ru.clearTimeout(e.v),e.v=null)}function Eh(e,t){var n=null;if(e.g==t){xh(e),bh(e),e.g=null;var r=2}else{if(!Rf(e.i,t))return;n=t.D,jf(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Yc(r=wl(),new Il(r,n,t,i)),ph(e)}else gh(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Df(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Tl(qu(e.Ha,e,t),_h(e,e.C)),e.C++,!0))}(e,t)||2==r&&kh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Sh(e,5);break;case 4:Sh(e,10);break;case 3:Sh(e,6);break;default:Sh(e,2)}}function _h(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Sh(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=qu(e.jb,e);n||(n=new of("//www.google.com/images/cleardot.gif"),Ru.location&&"http"==Ru.location.protocol||uf(n,"https"),df(n)),function(e,t){var n=new yl;if(Ru.Image){var r=new Image;r.onload=zu(Bf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=zu(Bf,n,r,"TestLoadImage: error",!1,t),r.onabort=zu(Bf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=zu(Bf,n,r,"TestLoadImage: timeout",!1,t),Ru.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Sl(2);e.G=0,e.j&&e.j.va(t),Ih(e),hh(e)}function Ih(e){e.G=0,e.I=-1,e.j&&(0==Mf(e.i).length&&0==e.l.length||(e.i.i.length=0,Ju(e.l),e.l.length=0),e.j.ua())}function Th(e,t,n){var r=function(e){return e instanceof of?sf(e):new of(e,void 0)}(n);if(""!=r.i)t&&cf(r,t+"."+r.i),lf(r,r.m);else{var i=Ru.location;r=function(e,t,n,r){var i=new of(null,void 0);return e&&uf(i,e),t&&cf(i,t),n&&lf(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ic(e.aa,(function(e,t){hf(r,t,e)})),t=e.D,n=e.sa,t&&n&&hf(r,t,n),hf(r,"VER",e.ma),mh(e,r),r}function Ch(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Yf(new qf({ib:!0})):new Yf(e.qa)).L=e.H,t}function Nh(){}function Ah(){if(fc&&!(10<=Number(_c)))throw Error("Environmental error: no available transport.")}function Oh(e,t){Qc.call(this),this.g=new ch(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!$u(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$u(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Rh(this)}function Ph(e){Ll.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Dh(){jl.call(this),this.status=1}function Rh(e){this.g=e}(Au=Yf.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Dl.g(),this.C=this.u?Ol(this.u):Ol(Dl),this.g.onreadystatechange=qu(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void eh(this,a)}e=n||"";var i=new tf(this.headers);r&&ef(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Zf,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ru.FormData&&e instanceof Ru.FormData,!(0<=Gu(Xf,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ih(this),0<this.B&&((this.K=function(e){return fc&&xc()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qu(this.pa,this)):this.A=ll(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){eh(this,a)}},Au.pa=function(){"undefined"!=typeof Du&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yc(this,"timeout"),this.abort(8))},Au.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Yc(this,"complete"),Yc(this,"abort"),rh(this))},Au.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rh(this,!0)),Yf.Z.M.call(this)},Au.Fa=function(){this.s||(this.F||this.v||this.l?nh(this):this.cb())},Au.cb=function(){nh(this)},Au.ba=function(){try{return 2<ah(this)?this.g.status:-1}catch(Af){return-1}},Au.ga=function(){try{return this.g?this.g.responseText:""}catch(Af){return""}},Au.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Qf(t)}},Au.Da=function(){return this.m},Au.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Au=ch.prototype).ma=8,Au.G=1,Au.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Au.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Fl(this,this.h,e,void 0),n=this.s;if(this.P&&(n?sc(n=ac(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=yh(this,t,r),hf(i=sf(this.F),"RID",e),hf(i,"CVER",22),this.D&&hf(i,"X-HTTP-Session-Id",this.D),mh(this,i),this.o&&n&&sh(i,this.o,n),Lf(this.i,t),this.Ra&&hf(i,"TYPE","init"),this.ja?(hf(i,"$req",r),hf(i,"SID","null"),t.$=!0,zl(t,i,null)):zl(t,i,r),this.G=2}}else 3==this.G&&(e?vh(this,e):0==this.l.length||Pf(this.i)||vh(this))},Au.Ga=function(){if(this.u=null,wh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Tl(qu(this.bb,this),e)}},Au.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Sl(10),fh(this),wh(this))},Au.ab=function(){null!=this.v&&(this.v=null,fh(this),kh(this),Sl(19))},Au.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Sl(2)):(this.h.info("Failed to ping google.com"),Sl(1))},(Au=Nh.prototype).xa=function(){},Au.wa=function(){},Au.va=function(){},Au.ua=function(){},Au.Oa=function(){},Ah.prototype.g=function(e,t){return new Oh(e,t)},Ku(Oh,Qc),Oh.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),il(qu(e.hb,e,t))),Sl(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Th(e,null,e.W),ph(e)},Oh.prototype.close=function(){lh(this.g)},Oh.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,dh(this.g,t)}else this.v?((t={}).__data__=$c(e),dh(this.g,t)):dh(this.g,e)},Oh.prototype.M=function(){this.g.j=null,delete this.j,lh(this.g),delete this.g,Oh.Z.M.call(this)},Ku(Ph,Ll),Ku(Dh,jl),Ku(Rh,Nh),Rh.prototype.xa=function(){Yc(this.g,"a")},Rh.prototype.wa=function(e){Yc(this.g,new Ph(e))},Rh.prototype.va=function(e){Yc(this.g,new Dh(e))},Rh.prototype.ua=function(){Yc(this.g,"b")},Ah.prototype.createWebChannel=Ah.prototype.g,Oh.prototype.send=Oh.prototype.u,Oh.prototype.open=Oh.prototype.m,Oh.prototype.close=Oh.prototype.close,Cl.NO_ERROR=0,Cl.TIMEOUT=8,Cl.HTTP_ERROR=6,Nl.COMPLETE="complete",Pl.EventType=Rl,Rl.OPEN="a",Rl.CLOSE="b",Rl.ERROR="c",Rl.MESSAGE="d",Qc.prototype.listen=Qc.prototype.N,Yf.prototype.listenOnce=Yf.prototype.O,Yf.prototype.getLastError=Yf.prototype.La,Yf.prototype.getLastErrorCode=Yf.prototype.Da,Yf.prototype.getStatus=Yf.prototype.ba,Yf.prototype.getResponseJson=Yf.prototype.Qa,Yf.prototype.getResponseText=Yf.prototype.ga,Yf.prototype.send=Yf.prototype.ea;var Lh=Pu.createWebChannelTransport=function(){return new Ah},jh=Pu.getStatEventTarget=function(){return wl()},Mh=Pu.ErrorCode=Cl,Fh=Pu.EventType=Nl,Uh=Pu.Event=kl,Vh=Pu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Bh=Pu.FetchXmlHttpFactory=qf,qh=Pu.WebChannel=Pl,zh=Pu.XhrIo=Yf,Kh="@firebase/firestore",Hh=function(){function e(t){Pe(this,e),this.uid=t}return Re(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Hh.UNAUTHENTICATED=new Hh(null),Hh.GOOGLE_CREDENTIALS=new Hh("google-credentials-uid"),Hh.FIRST_PARTY=new Hh("first-party-uid"),Hh.MOCK_USER=new Hh("mock-user");var Wh="9.6.5",Gh=new Qs("@firebase/firestore");function Qh(){return Gh.logLevel}function Yh(e){if(Gh.logLevel<=Us.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xh);Gh.debug.apply(Gh,["Firestore (".concat(Wh,"): ").concat(e)].concat(Oe(i)))}}function Jh(e){if(Gh.logLevel<=Us.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xh);Gh.error.apply(Gh,["Firestore (".concat(Wh,"): ").concat(e)].concat(Oe(i)))}}function $h(e){if(Gh.logLevel<=Us.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xh);Gh.warn.apply(Gh,["Firestore (".concat(Wh,"): ").concat(e)].concat(Oe(i)))}}function Xh(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Zh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Wh,") INTERNAL ASSERTION FAILED: ")+e;throw Jh(t),new Error(t)}function ed(e,t){e||Zh()}function td(e,t){return e}var nd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rd=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Re(n)}(ys),id=Re((function e(){var t=this;Pe(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ad=Re((function e(t,n){Pe(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),od=function(){function e(){Pe(this,e)}return Re(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Hh.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),sd=function(){function e(t){Pe(this,e),this.token=t,this.changeListener=null}return Re(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ud=function(){function e(t){Pe(this,e),this.t=t,this.currentUser=Hh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Re(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new id;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new id,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Yh("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Yh("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new id)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Yh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ed("string"==typeof n.accessToken),new ad(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ed(null===e||"string"==typeof e),new Hh(e)}}]),e}(),cd=Re((function e(t,n,r){Pe(this,e),this.type="FirstParty",this.user=Hh.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),ld=function(){function e(t,n,r){Pe(this,e),this.h=t,this.l=n,this.m=r}return Re(e,[{key:"getToken",value:function(){return Promise.resolve(new cd(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Hh.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),fd=Re((function e(t){Pe(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),hd=function(){function e(t){Pe(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Re(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Yh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Yh("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Yh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(ed("string"==typeof e.token),new fd(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),dd=function(){function e(t,n){var r=this;Pe(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Re(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function pd(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}dd.I=-1;var vd=function(){function e(){Pe(this,e)}return Re(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=pd(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function md(e,t){return e<t?-1:e>t?1:0}function yd(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function gd(e){return e+"\0"}var kd=function(){function e(t,n){if(Pe(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new rd(nd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rd(nd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new rd(nd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rd(nd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Re(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?md(this.nanoseconds,e.nanoseconds):md(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),bd=function(){function e(t){Pe(this,e),this.timestamp=t}return Re(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new kd(0,0))}}]),e}();function wd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ed(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var _d=function(){function e(t,n,r){Pe(this,e),void 0===n?n=0:n>t.length&&Zh(),void 0===r?r=t.length-n:r>t.length-n&&Zh(),this.segments=t,this.offset=n,this.len=r}return Re(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Sd=function(e){$e(n,e);var t=nt(n);function n(){return Pe(this,n),t.apply(this,arguments)}return Re(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new rd(nd.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Oe(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(_d),Id=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Td=function(e){$e(n,e);var t=nt(n);function n(){return Pe(this,n),t.apply(this,arguments)}return Re(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Id.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new rd(nd.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new rd(nd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new rd(nd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new rd(nd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(_d),Cd=function(){function e(t){Pe(this,e),this.fields=t,t.sort(Td.comparator)}return Re(e,[{key:"covers",value:function(e){var t,n=pi(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return yd(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Nd=function(e){function t(e){Pe(this,t),this.binaryString=e}return Re(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return md(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Nd.EMPTY_BYTE_STRING=new Nd("");var Ad=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Od(e){if(ed(!!e),"string"==typeof e){var t=0,n=Ad.exec(e);if(ed(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pd(e.seconds),nanos:Pd(e.nanos)}}function Pd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Dd(e){return"string"==typeof e?Nd.fromBase64String(e):Nd.fromUint8Array(e)}function Rd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ld(e){var t=e.mapValue.fields.__previous_value__;return Rd(t)?Ld(t):t}function jd(e){var t=Od(e.mapValue.fields.__local_write_time__.timestampValue);return new kd(t.seconds,t.nanos)}function Md(e){return null==e}function Fd(e){return 0===e&&1/e==-1/0}function Ud(e){return"number"==typeof e&&Number.isInteger(e)&&!Fd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Vd=function(){function e(t){Pe(this,e),this.path=t}return Re(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Sd.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Sd.fromString(t))}},{key:"fromName",value:function(t){return new e(Sd.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Sd.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Sd(t.slice()))}}]),e}();function Bd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rd(e)?4:10:Zh()}function qd(e,t){if(e===t)return!0;var n=Bd(e);if(n!==Bd(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jd(e).isEqual(jd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Od(e.timestampValue),r=Od(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Dd(e.bytesValue).isEqual(Dd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Pd(e.geoPointValue.latitude)===Pd(t.geoPointValue.latitude)&&Pd(e.geoPointValue.longitude)===Pd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Pd(e.integerValue)===Pd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Pd(e.doubleValue),r=Pd(t.doubleValue);return n===r?Fd(n)===Fd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return yd(e.arrayValue.values||[],t.arrayValue.values||[],qd);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wd(n)!==wd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qd(n[i],r[i])))return!1;return!0}(e,t);default:return Zh()}}function zd(e,t){return void 0!==(e.values||[]).find((function(e){return qd(e,t)}))}function Kd(e,t){if(e===t)return 0;var n=Bd(e),r=Bd(t);if(n!==r)return md(n,r);switch(n){case 0:return 0;case 1:return md(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Pd(e.integerValue||e.doubleValue),r=Pd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Hd(e.timestampValue,t.timestampValue);case 4:return Hd(jd(e),jd(t));case 5:return md(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Dd(e),r=Dd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=md(n[i],r[i]);if(0!==a)return a}return md(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=md(Pd(e.latitude),Pd(t.latitude));return 0!==n?n:md(Pd(e.longitude),Pd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Kd(n[i],r[i]);if(a)return a}return md(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=md(r[o],a[o]);if(0!==s)return s;var u=Kd(n[r[o]],i[a[o]]);if(0!==u)return u}return md(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Zh()}}function Hd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return md(e,t);var n=Od(e),r=Od(t),i=md(n.seconds,r.seconds);return 0!==i?i:md(n.nanos,r.nanos)}function Wd(e){return Gd(e)}function Gd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Od(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Dd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Vd.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=pi(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Gd(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=pi(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Gd(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Zh();var t,n}function Qd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Yd(e){return!!e&&"integerValue"in e}function Jd(e){return!!e&&"arrayValue"in e}function $d(e){return!!e&&"nullValue"in e}function Xd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zd(e){return!!e&&"mapValue"in e}function ep(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return xd(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ep(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ep(e.arrayValue.values[r]);return n}return Object.assign({},e)}var tp=function(){function e(t){Pe(this,e),this.value=t}return Re(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Zd(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ep(t)}},{key:"setAll",value:function(e){var t=this,n=Td.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ep(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Zd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return qd(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Zd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){xd(t,(function(t,n){return e[t]=n}));var r,i=pi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ep(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function np(e){var t=[];return xd(e.fields,(function(e,n){var r=new Td([e]);if(Zd(n)){var i=np(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=pi(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Cd(t)}var rp=function(){function e(t,n,r,i,a){Pe(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Re(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=tp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=tp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,bd.min(),tp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,tp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,tp.empty(),2)}}]),e}(),ip=Re((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Pe(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function ap(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ip(e,t,n,r,i,a,o)}function op(e){var t=td(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Wd(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Md(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=kp(t.startAt)),t.endAt&&(n+="|ub:",n+=kp(t.endAt)),t.R=n}return t.R}function sp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!wp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!qd(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ep(e.startAt,t.startAt)&&Ep(e.endAt,t.endAt)}function up(e){return Vd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var cp=function(e){$e(n,e);var t=nt(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Re(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Kd(t,this.value)):null!==t&&Bd(this.value)===Bd(t)&&this.v(Kd(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zh()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new lp(e,t,r):"array-contains"===t?new pp(e,r):"in"===t?new vp(e,r):"not-in"===t?new mp(e,r):"array-contains-any"===t?new yp(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new fp(e,n):new hp(e,n)}}]),n}(function(){return Re((function e(){Pe(this,e)}))}());var lp=function(e){$e(n,e);var t=nt(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this,e,r,i)).key=Vd.fromName(i.referenceValue),a}return Re(n,[{key:"matches",value:function(e){var t=Vd.comparator(e.key,this.key);return this.v(t)}}]),n}(cp),fp=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e,"in",r)).keys=dp("in",r),i}return Re(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cp),hp=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e,"not-in",r)).keys=dp("not-in",r),i}return Re(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cp);function dp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Vd.fromName(e.referenceValue)}))}var pp=function(e){$e(n,e);var t=nt(n);function n(e,r){return Pe(this,n),t.call(this,e,"array-contains",r)}return Re(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Jd(t)&&zd(t.arrayValue,this.value)}}]),n}(cp),vp=function(e){$e(n,e);var t=nt(n);function n(e,r){return Pe(this,n),t.call(this,e,"in",r)}return Re(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&zd(this.value.arrayValue,t)}}]),n}(cp),mp=function(e){$e(n,e);var t=nt(n);function n(e,r){return Pe(this,n),t.call(this,e,"not-in",r)}return Re(n,[{key:"matches",value:function(e){if(zd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!zd(this.value.arrayValue,t)}}]),n}(cp),yp=function(e){$e(n,e);var t=nt(n);function n(e,r){return Pe(this,n),t.call(this,e,"array-contains-any",r)}return Re(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Jd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return zd(t.value.arrayValue,e)}))}}]),n}(cp),gp=Re((function e(t,n){Pe(this,e),this.position=t,this.before=n}));function kp(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Wd(e)})).join(","))}var bp=Re((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Pe(this,e),this.field=t,this.dir=n}));function wp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function xp(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Vd.comparator(Vd.fromName(o.referenceValue),n.key):Kd(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ep(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!qd(e.position[n],t.position[n]))return!1;return!0}var _p=Re((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Pe(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function Sp(e,t,n,r,i,a,o,s){return new _p(e,t,n,r,i,a,o,s)}function Ip(e){return new _p(e)}function Tp(e){return!Md(e.limit)&&"F"===e.limitType}function Cp(e){return!Md(e.limit)&&"L"===e.limitType}function Np(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ap(e){var t,n=pi(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Op(e){return null!==e.collectionGroup}function Pp(e){var t=td(e);if(null===t.S){t.S=[];var n=Ap(t),r=Np(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new bp(n)),t.S.push(new bp(Td.keyField(),"asc"));else{var i,a=!1,o=pi(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new bp(Td.keyField(),u))}}}return t.S}function Dp(e){var t=td(e);if(!t.D)if("F"===t.limitType)t.D=ap(t.path,t.collectionGroup,Pp(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=pi(Pp(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new bp(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new gp(t.endAt.position,!t.endAt.before):null,u=t.startAt?new gp(t.startAt.position,!t.startAt.before):null;t.D=ap(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function Rp(e,t,n){return new _p(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Lp(e,t){return sp(Dp(e),Dp(t))&&e.limitType===t.limitType}function jp(e){return"".concat(op(Dp(e)),"|lt:").concat(e.limitType)}function Mp(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Wd(t.value));var t})).join(", "),"]")),Md(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+kp(e.startAt)),e.endAt&&(t+=", endAt: "+kp(e.endAt)),"Target(".concat(t,")")}(Dp(e)),"; limitType=").concat(e.limitType,")")}function Fp(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=pi(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=pi(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!xp(e.startAt,Pp(e),t))&&(!e.endAt||!xp(e.endAt,Pp(e),t))}(e,t)}function Up(e){return function(t,n){var r,i=!1,a=pi(Pp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Vp(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Vp(e,t,n){var r=e.field.isKeyField()?Vd.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Kd(r,i):Zh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zh()}}function Bp(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fd(t)?"-0":t}}function qp(e){return{integerValue:""+e}}function zp(e,t){return Ud(t)?qp(t):Bp(e,t)}var Kp=Re((function e(){Pe(this,e),this._=void 0}));function Hp(e,t,n){return e instanceof Qp?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Yp?Jp(e,t):e instanceof $p?Xp(e,t):function(e,t){var n=Gp(e,t),r=ev(n)+ev(e.N);return Yd(n)&&Yd(e.N)?qp(r):Bp(e.k,r)}(e,t)}function Wp(e,t,n){return e instanceof Yp?Jp(e,t):e instanceof $p?Xp(e,t):n}function Gp(e,t){return e instanceof Zp?Yd(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Qp=function(e){$e(n,e);var t=nt(n);function n(){return Pe(this,n),t.apply(this,arguments)}return Re(n)}(Kp),Yp=function(e){$e(n,e);var t=nt(n);function n(e){var r;return Pe(this,n),(r=t.call(this)).elements=e,r}return Re(n)}(Kp);function Jp(e,t){var n,r=tv(t),i=pi(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return qd(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $p=function(e){$e(n,e);var t=nt(n);function n(e){var r;return Pe(this,n),(r=t.call(this)).elements=e,r}return Re(n)}(Kp);function Xp(e,t){var n,r=tv(t),i=pi(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!qd(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Zp=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this)).k=e,i.N=r,i}return Re(n)}(Kp);function ev(e){return Pd(e.integerValue||e.doubleValue)}function tv(e){return Jd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var nv=Re((function e(t,n){Pe(this,e),this.field=t,this.transform=n}));var rv=Re((function e(t,n){Pe(this,e),this.version=t,this.transformResults=n})),iv=function(){function e(t,n){Pe(this,e),this.updateTime=t,this.exists=n}return Re(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function av(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ov=Re((function e(){Pe(this,e)}));function sv(e,t,n){e instanceof hv?function(e,t,n){var r=e.value.clone(),i=vv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof dv?function(e,t,n){if(av(e.precondition,t)){var r=vv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(pv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function uv(e,t,n){e instanceof hv?function(e,t,n){if(av(e.precondition,t)){var r=e.value.clone(),i=mv(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(fv(t),r).setHasLocalMutations()}}(e,t,n):e instanceof dv?function(e,t,n){if(av(e.precondition,t)){var r=mv(e.fieldTransforms,n,t),i=t.data;i.setAll(pv(e)),i.setAll(r),t.convertToFoundDocument(fv(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){av(e.precondition,t)&&t.convertToNoDocument(bd.min())}(e,t)}function cv(e,t){var n,r=null,i=pi(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Gp(a.transform,o||null);null!=s&&(null==r&&(r=tp.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function lv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&yd(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Yp&&t instanceof Yp||e instanceof $p&&t instanceof $p?yd(e.elements,t.elements,qd):e instanceof Zp&&t instanceof Zp?qd(e.N,t.N):e instanceof Qp&&t instanceof Qp}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function fv(e){return e.isFoundDocument()?e.version:bd.min()}var hv=function(e){$e(n,e);var t=nt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Pe(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Re(n)}(ov),dv=function(e){$e(n,e);var t=nt(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Pe(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Re(n)}(ov);function pv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function vv(e,t,n){var r=new Map;ed(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Wp(o,s,n[i]))}return r}function mv(e,t,n){var r,i=new Map,a=pi(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Hp(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var yv,gv,kv=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Re(n)}(ov),bv=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Re(n)}(ov),wv=Re((function e(t){Pe(this,e),this.count=t}));function xv(e){switch(e){default:return Zh();case nd.CANCELLED:case nd.UNKNOWN:case nd.DEADLINE_EXCEEDED:case nd.RESOURCE_EXHAUSTED:case nd.INTERNAL:case nd.UNAVAILABLE:case nd.UNAUTHENTICATED:return!1;case nd.INVALID_ARGUMENT:case nd.NOT_FOUND:case nd.ALREADY_EXISTS:case nd.PERMISSION_DENIED:case nd.FAILED_PRECONDITION:case nd.ABORTED:case nd.OUT_OF_RANGE:case nd.UNIMPLEMENTED:case nd.DATA_LOSS:return!0}}function Ev(e){if(void 0===e)return Jh("GRPC error has no .code"),nd.UNKNOWN;switch(e){case yv.OK:return nd.OK;case yv.CANCELLED:return nd.CANCELLED;case yv.UNKNOWN:return nd.UNKNOWN;case yv.DEADLINE_EXCEEDED:return nd.DEADLINE_EXCEEDED;case yv.RESOURCE_EXHAUSTED:return nd.RESOURCE_EXHAUSTED;case yv.INTERNAL:return nd.INTERNAL;case yv.UNAVAILABLE:return nd.UNAVAILABLE;case yv.UNAUTHENTICATED:return nd.UNAUTHENTICATED;case yv.INVALID_ARGUMENT:return nd.INVALID_ARGUMENT;case yv.NOT_FOUND:return nd.NOT_FOUND;case yv.ALREADY_EXISTS:return nd.ALREADY_EXISTS;case yv.PERMISSION_DENIED:return nd.PERMISSION_DENIED;case yv.FAILED_PRECONDITION:return nd.FAILED_PRECONDITION;case yv.ABORTED:return nd.ABORTED;case yv.OUT_OF_RANGE:return nd.OUT_OF_RANGE;case yv.UNIMPLEMENTED:return nd.UNIMPLEMENTED;case yv.DATA_LOSS:return nd.DATA_LOSS;default:return Zh()}}(gv=yv||(yv={}))[gv.OK=0]="OK",gv[gv.CANCELLED=1]="CANCELLED",gv[gv.UNKNOWN=2]="UNKNOWN",gv[gv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gv[gv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gv[gv.NOT_FOUND=5]="NOT_FOUND",gv[gv.ALREADY_EXISTS=6]="ALREADY_EXISTS",gv[gv.PERMISSION_DENIED=7]="PERMISSION_DENIED",gv[gv.UNAUTHENTICATED=16]="UNAUTHENTICATED",gv[gv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gv[gv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gv[gv.ABORTED=10]="ABORTED",gv[gv.OUT_OF_RANGE=11]="OUT_OF_RANGE",gv[gv.UNIMPLEMENTED=12]="UNIMPLEMENTED",gv[gv.INTERNAL=13]="INTERNAL",gv[gv.UNAVAILABLE=14]="UNAVAILABLE",gv[gv.DATA_LOSS=15]="DATA_LOSS";var _v=function(){function e(t,n){Pe(this,e),this.comparator=t,this.root=n||Iv.EMPTY}return Re(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Iv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Iv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Sv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Sv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Sv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Sv(this.root,e,this.comparator,!0)}}]),e}(),Sv=function(){function e(t,n,r,i){Pe(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Re(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Iv=function(){function e(t,n,r,i,a){Pe(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Re(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Zh();if(this.right.isRed())throw Zh();var e=this.left.check();if(e!==this.right.check())throw Zh();return e+(this.isRed()?0:1)}}]),e}();Iv.EMPTY=null,Iv.RED=!0,Iv.BLACK=!1,Iv.EMPTY=new(function(){function e(){Pe(this,e),this.size=0}return Re(e,[{key:"key",get:function(){throw Zh()}},{key:"value",get:function(){throw Zh()}},{key:"color",get:function(){throw Zh()}},{key:"left",get:function(){throw Zh()}},{key:"right",get:function(){throw Zh()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Iv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Tv=function(){function e(t){Pe(this,e),this.comparator=t,this.data=new _v(this.comparator)}return Re(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Cv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Cv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Cv=function(){function e(t){Pe(this,e),this.iter=t}return Re(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Nv=new _v(Vd.comparator);function Av(){return Nv}var Ov=new _v(Vd.comparator);function Pv(){return Ov}var Dv=new _v(Vd.comparator);function Rv(){return Dv}var Lv=new Tv(Vd.comparator);function jv(){for(var e=Lv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Mv=new Tv(md);function Fv(){return Mv}var Uv=function(){function e(t,n,r,i,a){Pe(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Re(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Vv.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(bd.min(),r,Fv(),Av(),jv())}}]),e}(),Vv=function(){function e(t,n,r,i,a){Pe(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Re(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Nd.EMPTY_BYTE_STRING,n,jv(),jv(),jv())}}]),e}(),Bv=Re((function e(t,n,r,i){Pe(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),qv=Re((function e(t,n){Pe(this,e),this.targetId=t,this.M=n})),zv=Re((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Pe(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Kv=function(){function e(){Pe(this,e),this.F=0,this.L=Gv(),this.B=Nd.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Re(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=jv(),t=jv(),n=jv();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zh()}})),new Vv(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Gv()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Hv=function(){function e(t){Pe(this,e),this.et=t,this.nt=new Map,this.st=Av(),this.it=Wv(),this.rt=new Tv(md)}return Re(e,[{key:"ot",value:function(e){var t,n=pi(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,a=pi(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Zh()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(up(i))if(0===n){var a=new Vd(i.path);this.at(t,a,rp.newNoDocument(a,bd.min()))}else ed(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&up(a.target)){var o=new Vd(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,rp.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=jv();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Uv(e,n,this.rt,this.st,r);return this.st=Av(),this.it=Wv(),this.rt=new Tv(md),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Kv,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Tv(md),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Yh("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Kv),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Wv(){return new _v(Vd.comparator)}function Gv(){return new _v(Vd.comparator)}var Qv={asc:"ASCENDING",desc:"DESCENDING"},Yv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jv=Re((function e(t,n){Pe(this,e),this.databaseId=t,this.C=n}));function $v(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xv(e,t){return e.C?t.toBase64():t.toUint8Array()}function Zv(e,t){return $v(e,t.toTimestamp())}function em(e){return ed(!!e),bd.fromTimestamp(function(e){var t=Od(e);return new kd(t.seconds,t.nanos)}(e))}function tm(e,t){return function(e){return new Sd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function nm(e){var t=Sd.fromString(e);return ed(Tm(t)),t}function rm(e,t){return tm(e.databaseId,t.path)}function im(e,t){var n=nm(t);if(n.get(1)!==e.databaseId.projectId)throw new rd(nd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rd(nd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vd(um(n))}function am(e,t){return tm(e.databaseId,t)}function om(e){var t=nm(e);return 4===t.length?Sd.emptyPath():um(t)}function sm(e){return new Sd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function um(e){return ed(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function cm(e,t,n){return{name:rm(e,t),fields:n.value.mapValue.fields}}function lm(e,t,n){var r=im(e,t.name),i=em(t.updateTime),a=new tp({mapValue:{fields:t.fields}}),o=rp.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function fm(e,t){return"found"in t?function(e,t){ed(!!t.found),t.found.name,t.found.updateTime;var n=im(e,t.found.name),r=em(t.found.updateTime),i=new tp({mapValue:{fields:t.found.fields}});return rp.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ed(!!t.missing),ed(!!t.readTime);var n=im(e,t.missing),r=em(t.readTime);return rp.newNoDocument(n,r)}(e,t):Zh()}function hm(e,t){var n;if(t instanceof hv)n={update:cm(e,t.key,t.value)};else if(t instanceof kv)n={delete:rm(e,t.key)};else if(t instanceof dv)n={update:cm(e,t.key,t.data),updateMask:Im(t.fieldMask)};else{if(!(t instanceof bv))return Zh();n={verify:rm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Qp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Yp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $p)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zp)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Zh()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zh()}(e,t.precondition)),n}function dm(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?iv.updateTime(em(e.updateTime)):void 0!==e.exists?iv.exists(e.exists):iv.none()}(t.currentDocument):iv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ed("REQUEST_TIME"===t.setToServerValue),n=new Qp;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Yp(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new $p(i)}else"increment"in t?n=new Zp(e,t.increment):Zh();var a=Td.fromServerFormat(t.fieldPath);return new nv(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=im(e,t.update.name),a=new tp({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Cd(t.map((function(e){return Td.fromServerFormat(e)})))}(t.updateMask);return new dv(i,a,o,n,r)}return new hv(i,a,n,r)}if(t.delete){var s=im(e,t.delete);return new kv(s,n)}if(t.verify){var u=im(e,t.verify);return new bv(u,n)}return Zh()}function pm(e,t){return{documents:[am(e,t.path)]}}function vm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=am(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=am(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Xd(e.value))return{unaryFilter:{field:xm(e.field),op:"IS_NAN"}};if($d(e.value))return{unaryFilter:{field:xm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xd(e.value))return{unaryFilter:{field:xm(e.field),op:"IS_NOT_NAN"}};if($d(e.value))return{unaryFilter:{field:xm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xm(e.field),op:wm(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:xm(e.field),direction:bm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Md(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=gm(t.startAt)),t.endAt&&(n.structuredQuery.endAt=gm(t.endAt)),n}function mm(e){var t=om(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ed(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=ym(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new bp(Em(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Md(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=km(n.startAt));var l=null;return n.endAt&&(l=km(n.endAt)),Sp(t,i,s,o,u,"F",c,l)}function ym(e){return e?void 0!==e.unaryFilter?[Sm(e)]:void 0!==e.fieldFilter?[_m(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return ym(e)})).reduce((function(e,t){return e.concat(t)})):Zh():[]}function gm(e){return{before:e.before,values:e.position}}function km(e){var t=!!e.before,n=e.values||[];return new gp(n,t)}function bm(e){return Qv[e]}function wm(e){return Yv[e]}function xm(e){return{fieldPath:e.canonicalString()}}function Em(e){return Td.fromServerFormat(e.fieldPath)}function _m(e){return cp.create(Em(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zh()}}(e.fieldFilter.op),e.fieldFilter.value)}function Sm(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Em(e.unaryFilter.field);return cp.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Em(e.unaryFilter.field);return cp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Em(e.unaryFilter.field);return cp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Em(e.unaryFilter.field);return cp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zh()}}function Im(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Tm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Cm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Am(t)),t=Nm(e.get(n),t);return Am(t)}function Nm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Am(e){return e+"\x01\x01"}function Om(e){var t=e.length;if(ed(t>=2),2===t)return ed("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Sd.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Zh(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Zh()}a=o+2}return new Sd(r)}var Pm=Re((function e(t,n){Pe(this,e),this.seconds=t,this.nanoseconds=n})),Dm=Re((function e(t,n,r){Pe(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Dm.store="owner",Dm.key="owner";var Rm=Re((function e(t,n,r){Pe(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Rm.store="mutationQueues",Rm.keyPath="userId";var Lm=Re((function e(t,n,r,i,a){Pe(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Lm.store="mutations",Lm.keyPath="batchId",Lm.userMutationsIndex="userMutationsIndex",Lm.userMutationsKeyPath=["userId","batchId"];var jm=function(){function e(){Pe(this,e)}return Re(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Cm(t)]}},{key:"key",value:function(e,t,n){return[e,Cm(t),n]}}]),e}();jm.store="documentMutations",jm.PLACEHOLDER=new jm;var Mm=Re((function e(t,n){Pe(this,e),this.path=t,this.readTime=n})),Fm=Re((function e(t,n){Pe(this,e),this.path=t,this.version=n})),Um=Re((function e(t,n,r,i,a,o){Pe(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Um.store="remoteDocuments",Um.readTimeIndex="readTimeIndex",Um.readTimeIndexPath="readTime",Um.collectionReadTimeIndex="collectionReadTimeIndex",Um.collectionReadTimeIndexPath=["parentPath","readTime"];var Vm=Re((function e(t){Pe(this,e),this.byteSize=t}));Vm.store="remoteDocumentGlobal",Vm.key="remoteDocumentGlobalKey";var Bm=Re((function e(t,n,r,i,a,o,s){Pe(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));Bm.store="targets",Bm.keyPath="targetId",Bm.queryTargetsIndexName="queryTargetsIndex",Bm.queryTargetsKeyPath=["canonicalId","targetId"];var qm=Re((function e(t,n,r){Pe(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));qm.store="targetDocuments",qm.keyPath=["targetId","path"],qm.documentTargetsIndex="documentTargetsIndex",qm.documentTargetsKeyPath=["path","targetId"];var zm=Re((function e(t,n,r,i){Pe(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));zm.key="targetGlobalKey",zm.store="targetGlobal";var Km=Re((function e(t,n){Pe(this,e),this.collectionId=t,this.parent=n}));Km.store="collectionParents",Km.keyPath=["collectionId","parent"];var Hm=Re((function e(t,n,r,i){Pe(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Hm.store="clientMetadata",Hm.keyPath="clientId";var Wm=Re((function e(t,n,r){Pe(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Wm.store="bundles",Wm.keyPath="bundleId";var Gm=Re((function e(t,n,r){Pe(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Gm.store="namedQueries",Gm.keyPath="name";var Qm=[Rm.store,Lm.store,jm.store,Um.store,Bm.store,Dm.store,zm.store,qm.store].concat([Hm.store]).concat([Vm.store]).concat([Km.store]).concat([Wm.store,Gm.store]),Ym="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jm=function(){function e(){Pe(this,e),this.onCommittedListeners=[]}return Re(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),$m=function(){function e(t){var n=this;Pe(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Re(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Zh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=pi(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Xm=function(){function e(t,n){var r=this;Pe(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new id,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new ty(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=oy(e.target.error);r.It.reject(new ty(t,n))}}return Re(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Yh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ry(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ty(n,t)}}}]),e}(),Zm=function(){function e(t,n,r){Pe(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(fs())&&Jh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Re(e,[{key:"Ct",value:function(){var e=Ps(Rs().mark((function e(t){var n=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Yh("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ty(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new rd(nd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new rd(nd.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ty(t,n))},i.onupgradeneeded=function(e){Yh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Yh("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ps(Rs().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Rs().mark((function e(){var n,o;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Xm.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),$m.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,Yh("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Yh("SimpleDb","Removing database:",e),iy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if("object"!==typeof indexedDB)return!1;if(e.vt())return!0;var t=fs(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ey=function(){function e(t){Pe(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return Re(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return iy(this.$t.delete())}}]),e}(),ty=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,nd.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Re(n)}(rd);function ny(e){return"IndexedDbTransactionError"===e.name}var ry=function(){function e(t){Pe(this,e),this.store=t}return Re(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Yh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Yh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),iy(n)}},{key:"add",value:function(e){return Yh("SimpleDb","ADD",this.store.name,e,e),iy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return iy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Yh("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Yh("SimpleDb","DELETE",this.store.name,e),iy(this.store.delete(e))}},{key:"count",value:function(){return Yh("SimpleDb","COUNT",this.store.name),iy(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Yh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new $m((function(n,r){t.onerror=function(e){var t=oy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new $m((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ey(i),o=t(i.primaryKey,i.value,a);if(o instanceof $m){var s=o.catch((function(e){return a.done(),$m.reject(e)}));n.push(s)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return $m.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function iy(e){return new $m((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=oy(e.target.error);n(t)}}))}var ay=!1;function oy(e){var t=Zm.bt(fs());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new rd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ay||(ay=!0,setTimeout((function(){throw r}),0)),r}}return e}var sy=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Re(n)}(Jm);function uy(e,t){var n=td(e);return Zm.Dt(n.Wt,t)}var cy=function(){function e(t,n,r,i){Pe(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Re(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&sv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=pi(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&uv(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=pi(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&uv(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(bd.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),jv())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&yd(this.mutations,e.mutations,(function(e,t){return lv(e,t)}))&&yd(this.baseMutations,e.baseMutations,(function(e,t){return lv(e,t)}))}}]),e}(),ly=function(){function e(t,n,r,i){Pe(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Re(e,null,[{key:"from",value:function(t,n,r){ed(t.mutations.length===r.length);for(var i=Rv(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),fy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bd.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bd.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Nd.EMPTY_BYTE_STRING;Pe(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Re(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),hy=Re((function e(t){Pe(this,e),this.Gt=t}));function dy(e,t){if(t.document)return lm(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Vd.fromSegments(t.noDocument.path),r=gy(t.noDocument.readTime),i=rp.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Vd.fromSegments(t.unknownDocument.path),o=gy(t.unknownDocument.version);return rp.newUnknownDocument(a,o)}return Zh()}function py(e,t,n){var r=vy(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:rm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:$v(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new Um(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=yy(t.version),c=t.hasCommittedMutations;return new Um(null,new Mm(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=yy(t.version);return new Um(new Fm(l,f),null,null,!0,r,i)}return Zh()}function vy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function my(e){var t=new kd(e[0],e[1]);return bd.fromTimestamp(t)}function yy(e){var t=e.toTimestamp();return new Pm(t.seconds,t.nanoseconds)}function gy(e){var t=new kd(e.seconds,e.nanoseconds);return bd.fromTimestamp(t)}function ky(e,t){for(var n=(t.baseMutations||[]).map((function(t){return dm(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return dm(e.Gt,t)})),s=kd.fromMillis(t.localWriteTimeMs);return new cy(t.batchId,s,n,o)}function by(e){var t,n,r=gy(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?gy(e.lastLimboFreeSnapshotVersion):bd.min();return void 0!==e.query.documents?(ed(1===(n=e.query).documents.length),t=Dp(Ip(om(n.documents[0])))):t=function(e){return Dp(mm(e))}(e.query),new fy(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Nd.fromBase64String(e.resumeToken))}function wy(e,t){var n,r=yy(t.snapshotVersion),i=yy(t.lastLimboFreeSnapshotVersion);n=up(t.target)?pm(e.Gt,t.target):vm(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Bm(t.targetId,op(t.target),r,a,t.sequenceNumber,i,n)}function xy(e){var t=mm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Rp(t,t.limit,"L"):t}var Ey=function(){function e(){Pe(this,e)}return Re(e,[{key:"getBundleMetadata",value:function(e,t){return _y(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:gy(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return _y(e).put({bundleId:(n=t).id,createTime:yy(em(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Sy(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:xy(t.bundledQuery),readTime:gy(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Sy(e).put(function(e){return{name:e.name,readTime:yy(em(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function _y(e){return uy(e,Wm.store)}function Sy(e){return uy(e,Gm.store)}var Iy=function(){function e(){Pe(this,e),this.zt=new Ty}return Re(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),$m.resolve()}},{key:"getCollectionParents",value:function(e,t){return $m.resolve(this.zt.getEntries(t))}}]),e}(),Ty=function(){function e(){Pe(this,e),this.index={}}return Re(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Tv(Sd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Tv(Sd.comparator)).toArray()}}]),e}(),Cy=function(){function e(){Pe(this,e),this.Ht=new Ty}return Re(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Cm(i)};return Ny(e).put(a)}return $m.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[gd(t),""],!1,!0);return Ny(e).Bt(r).next((function(e){var r,i=pi(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Om(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function Ny(e){return uy(e,Km.store)}var Ay={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Oy=function(){function e(t,n,r){Pe(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Re(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Py(e,t,n){var r=e.store(Lm.store),i=e.store(jm.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){ed(1===s)})));var c,l=[],f=pi(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=jm.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return $m.waitFor(a).next((function(){return l}))}function Dy(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Zh();t=e.noDocument}return JSON.stringify(t).length}Oy.DEFAULT_COLLECTION_PERCENTILE=10,Oy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oy.DEFAULT=new Oy(41943040,Oy.DEFAULT_COLLECTION_PERCENTILE,Oy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oy.DISABLED=new Oy(-1,0,0);var Ry=function(){function e(t,n,r,i){Pe(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Re(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jy(e).jt({index:Lm.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=My(e),o=jy(e);return o.add({}).next((function(s){ed("number"==typeof s);var u,c=new cy(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return hm(e.Gt,t)})),i=n.mutations.map((function(t){return hm(e.Gt,t)}));return new Lm(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Tv((function(e,t){return md(e.canonicalString(),t.canonicalString())})),d=pi(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=jm.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,jm.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),$m.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return jy(e).get(t).next((function(e){return e?(ed(e.userId===n.userId),ky(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?$m.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return jy(e).jt({index:Lm.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(ed(t.batchId>=r),a=ky(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jy(e).jt({index:Lm.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jy(e).Bt(Lm.userMutationsIndex,n).next((function(e){return e.map((function(e){return ky(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=jm.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return My(e).jt({range:i},(function(r,i,s){var u=o(r,3),c=u[0],l=u[1],f=u[2],h=Om(l);if(c===n.userId&&t.path.isEqual(h))return jy(e).get(f).next((function(e){if(!e)throw Zh();ed(e.userId===n.userId),a.push(ky(n.k,e))}));s.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Tv(md),i=[];return t.forEach((function(t){var a=jm.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(a),u=My(e).jt({range:s},(function(e,i,a){var s=o(e,3),u=s[0],c=s[1],l=s[2],f=Om(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),$m.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=jm.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(a),u=new Tv(md);return My(e).jt({range:s},(function(e,t,a){var s=o(e,3),c=s[0],l=s[1],f=s[2],h=Om(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.te(e,u)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(jy(e).get(t).next((function(e){if(null===e)throw Zh();ed(e.userId===n.userId),r.push(ky(n.k,e))})))})),$m.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Py(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),$m.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return $m.resolve();var r=IDBKeyRange.lowerBound(jm.prefixForUser(t.userId)),i=[];return My(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Om(e[1]);i.push(a)}else r.done()})).next((function(){ed(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Ly(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return Fy(e).get(this.userId).next((function(e){return e||new Rm(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return ed(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Ly(e,t,n){var r=jm.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),s=!1;return My(e).jt({range:a,Kt:!0},(function(e,n,r){var a=o(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(s=!0),r.done()})).next((function(){return s}))}function jy(e){return uy(e,Lm.store)}function My(e){return uy(e,jm.store)}function Fy(e){return uy(e,Rm.store)}var Uy=function(){function e(t){Pe(this,e),this.se=t}return Re(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),Vy=function(){function e(t,n){Pe(this,e),this.referenceDelegate=t,this.k=n}return Re(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new Uy(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return bd.fromTimestamp(new kd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return By(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return ed(t.targetCount>0),t.targetCount-=1,n.ce(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return By(e).jt((function(o,s){var u=by(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return $m.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return By(e).jt((function(e,n){var r=by(n);t(r)}))}},{key:"oe",value:function(e){return qy(e).get(zm.key).next((function(e){return ed(null!==e),e}))}},{key:"ce",value:function(e,t){return qy(e).put(zm.key,t)}},{key:"ae",value:function(e,t){return By(e).put(wy(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=op(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return By(e).jt({range:r,index:Bm.queryTargetsIndexName},(function(e,n,r){var a=by(n);sp(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=zy(e);return t.forEach((function(t){var o=Cm(t.path);i.push(a.put(new qm(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),$m.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=zy(e);return $m.forEach(t,(function(t){var a=Cm(t.path);return $m.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=zy(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=zy(e),i=jv();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=Om(e[1]),a=new Vd(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Cm(t.path),r=IDBKeyRange.bound([n],[gd(n)],!1,!0),i=0;return zy(e).jt({index:qm.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=o(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return By(e).get(t).next((function(e){return e?by(e):null}))}}]),e}();function By(e){return uy(e,Bm.store)}function qy(e){return uy(e,zm.store)}function zy(e){return uy(e,qm.store)}function Ky(e){return Hy.apply(this,arguments)}function Hy(){return Hy=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===nd.FAILED_PRECONDITION&&t.message===Ym){e.next=2;break}throw t;case 2:Yh("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}function Wy(e,t){var n=o(e,2),r=n[0],i=n[1],a=o(t,2),s=a[0],u=a[1],c=md(r,s);return 0===c?md(i,u):c}var Gy=function(){function e(t){Pe(this,e),this.he=t,this.buffer=new Tv(Wy),this.le=0}return Re(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Wy(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Qy=function(){function e(t,n){Pe(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Re(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Yh("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Ps(Rs().mark((function n(){return Rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!ny(n.t0)){n.next=12;break}Yh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Ky(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Yy=function(){function e(t,n){Pe(this,e),this.ge=t,this.params=n}return Re(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return $m.resolve(dd.I);var r=new Gy(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Yh("LruGarbageCollector","Garbage collection skipped; disabled"),$m.resolve(Ay)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Yh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Ay):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Yh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Qh()<=Us.DEBUG&&Yh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),$m.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Jy=function(){function e(t,n){Pe(this,e),this.db=t,this.garbageCollector=function(e,t){return new Yy(e,t)}(this,n)}return Re(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return $y(e,n)}},{key:"removeReference",value:function(e,t,n){return $y(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return $y(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return Fy(e).Qt((function(r){return Ly(e,r,t).next((function(e){return e&&(n=!0),$m.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),zy(e).delete([0,Cm(o.path)])}))}));i.push(u)}})).next((function(){return $m.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return $y(e,t)}},{key:"Ie",value:function(e,t){var n,r=zy(e),i=dd.I;return r.jt({index:qm.documentTargetsIndex},(function(e,r){var a=o(e,2),s=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===s?(i!==dd.I&&t(new Vd(Om(n)),i),i=c,n=u):i=dd.I})).next((function(){i!==dd.I&&t(new Vd(Om(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function $y(e,t){return zy(e).put(function(e,t){return new qm(0,Cm(e.path),t)}(t,e.currentSequenceNumber))}var Xy=function(){function e(t,n){Pe(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Re(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=pi(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];if(this.equalsFn(s,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){xd(this.inner,(function(t,n){var r,i=pi(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];e(s,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ed(this.inner)}}]),e}(),Zy=function(){function e(){Pe(this,e),this.changes=new Xy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Re(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:bd.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:rp.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?$m.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),eg=function(){function e(t,n){Pe(this,e),this.k=t,this.Jt=n}return Re(e,[{key:"addEntry",value:function(e,t,n){return rg(e).put(ig(t),n)}},{key:"removeEntry",value:function(e,t){var n=rg(e),r=ig(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return rg(e).get(ig(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return rg(e).get(ig(t)).next((function(e){return{document:n.be(t,e),size:Dy(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Av();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=Av(),i=new _v(Vd.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,Dy(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return $m.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return rg(e).jt({range:r},(function(e,t,r){for(var o=Vd.fromSegments(e);a&&Vd.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=Av(),a=t.path.length+1,o={};if(n.isEqual(bd.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=vy(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Um.collectionReadTimeIndex}return rg(e).jt(o,(function(e,n,o){if(e.length===a){var s=dy(r.k,n);t.path.isPrefixOf(s.key.path)?Fp(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new tg(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return ng(e).get(Vm.key).next((function(e){return ed(!!e),e}))}},{key:"Re",value:function(e,t){return ng(e).put(Vm.key,t)}},{key:"be",value:function(e,t){if(t){var n=dy(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(bd.min()))return n}return rp.newInvalidDocument(e)}}]),e}(),tg=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Xy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Re(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Tv((function(e,t){return md(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=py(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=Dy(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=py(t.De.k,rp.newNoDocument(a,bd.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),$m.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(Zy);function ng(e){return uy(e,Vm.store)}function rg(e){return uy(e,Um.store)}function ig(e){return e.path.toArray()}var ag=function(){function e(t){Pe(this,e),this.k=t}return Re(e,[{key:"Nt",value:function(e,t,n,r){var i=this;ed(n<r&&n>=0&&r<=11);var a=new Xm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Dm.store)}(e),function(e){e.createObjectStore(Rm.store,{keyPath:Rm.keyPath}),e.createObjectStore(Lm.store,{keyPath:Lm.keyPath,autoIncrement:!0}).createIndex(Lm.userMutationsIndex,Lm.userMutationsKeyPath,{unique:!0}),e.createObjectStore(jm.store)}(e),og(e),function(e){e.createObjectStore(Um.store)}(e));var o=$m.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(qm.store),e.deleteObjectStore(Bm.store),e.deleteObjectStore(zm.store)}(e),og(e)),o=o.next((function(){return function(e){var t=e.store(zm.store),n=new zm(0,0,bd.min().toTimestamp(),0);return t.put(zm.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Lm.store).Bt().next((function(n){e.deleteObjectStore(Lm.store),e.createObjectStore(Lm.store,{keyPath:Lm.keyPath,autoIncrement:!0}).createIndex(Lm.userMutationsIndex,Lm.userMutationsKeyPath,{unique:!0});var r=t.store(Lm.store),i=n.map((function(e){return r.put(e)}));return $m.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Hm.store,{keyPath:Hm.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Vm.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Um.store);t.createIndex(Um.readTimeIndex,Um.readTimeIndexPath,{unique:!1}),t.createIndex(Um.collectionReadTimeIndex,Um.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Wm.store,{keyPath:Wm.keyPath})}(e),function(e){e.createObjectStore(Gm.store,{keyPath:Gm.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(Um.store).jt((function(e,n){t+=Dy(n)})).next((function(){var n=new Vm(t);return e.store(Vm.store).put(Vm.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(Rm.store),r=e.store(Lm.store);return n.Bt().next((function(n){return $m.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(Lm.userMutationsIndex,i).next((function(r){return $m.forEach(r,(function(r){ed(r.userId===n.userId);var i=ky(t.k,r);return Py(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(qm.store),n=e.store(Um.store);return e.store(zm.store).get(zm.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new Sd(n),o=function(e){return[0,Cm(e)]}(a);r.push(t.get(o).next((function(n){return n?$m.resolve():function(n){return t.put(new qm(0,Cm(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return $m.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(Km.store,{keyPath:Km.keyPath});var n=t.store(Km.store),r=new Ty,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Cm(i)})}};return t.store(Um.store).jt({Kt:!0},(function(e,t){var n=new Sd(e);return i(n.popLast())})).next((function(){return t.store(jm.store).jt({Kt:!0},(function(e,t){var n=o(e,3),r=(n[0],n[1]),a=(n[2],Om(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(Bm.store);return n.jt((function(e,r){var i=by(r),a=wy(t.k,i);return n.put(a)}))}}]),e}();function og(e){e.createObjectStore(qm.store,{keyPath:qm.keyPath}).createIndex(qm.documentTargetsIndex,qm.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Bm.store,{keyPath:Bm.keyPath}).createIndex(Bm.queryTargetsIndexName,Bm.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(zm.store)}var sg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ug=function(){function e(t,n,r,i,a,o,s,u,c,l){if(Pe(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=o,this.document=s,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new rd(nd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jy(this,i),this.Ge=n+"main",this.k=new hy(u),this.ze=new Zm(this.Ge,11,new ag(this.k)),this.He=new Vy(this.referenceDelegate,this.k),this.Jt=new Cy,this.Je=function(e,t){return new eg(e,t)}(this.k,this.Jt),this.Ye=new Ey,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Jh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Re(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new rd(nd.FAILED_PRECONDITION,sg);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new dd(t,e.Fe)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Ps(Rs().mark((function n(r){return Rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Ps(Rs().mark((function t(n){return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return lg(t).put(new Hm(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.cn(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(ny(t))return Yh("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Yh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Me.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return cg(e).get(Dm.key).next((function(e){return $m.resolve(t.un(e))}))}},{key:"hn",value:function(e){return lg(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Ps(Rs().mark((function e(){var t,n,r,i,a=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=uy(e,Hm.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return $m.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=pi(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?$m.resolve(!0):cg(e).get(Dm.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new rd(nd.FAILED_PRECONDITION,sg);return!1}}return!(!t.networkEnabled||!t.inForeground)||lg(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Yh("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ps(Rs().mark((function e(){var t=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[Dm.store,Hm.store],(function(e){var n=new sy(e,dd.I);return t.cn(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return lg(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return Ry.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Yh("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Qm,(function(a){return i=new sy(a,r.Be?r.Be.next():dd.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Jh("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable((function(){return r.We(!1)})),new rd(nd.FAILED_PRECONDITION,Ym);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return cg(e).get(Dm.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new rd(nd.FAILED_PRECONDITION,sg)}))}},{key:"an",value:function(e){var t=new Dm(this.clientId,this.allowTabSynchronization,Date.now());return cg(e).put(Dm.key,t)}},{key:"cn",value:function(e){var t=this,n=cg(e);return n.get(Dm.key).next((function(e){return t.un(e)?(Yh("IndexedDbPersistence","Releasing primary lease."),n.delete(Dm.key)):$m.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Jh("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),ms()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Yh("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Jh("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Ku){Jh("Failed to set zombie client id.",Ku)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Ku){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return Zm.Pt()}}]),e}();function cg(e){return uy(e,Dm.store)}function lg(e){return uy(e,Hm.store)}function fg(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var hg=Re((function e(t,n){Pe(this,e),this.progress=t,this.In=n})),dg=function(){function e(t,n,r){Pe(this,e),this.Je=t,this.An=n,this.Jt=r}return Re(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=pi(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=pi(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Vd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Op(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Vd(t)).next((function(e){var t=Pv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Pv();return this.Jt.getCollectionParents(e,i).next((function(o){return $m.forEach(o,(function(o){var s=function(e,t){return new _p(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=pi(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=pi(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=rp.newInvalidDocument(c),r=r.insert(c,l)),uv(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Fp(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=jv(),a=pi(t);try{for(a.s();!(r=a.n()).done;){var o,s=pi(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof dv&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),pg=function(){function e(t,n,r,i){Pe(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Re(e,null,[{key:"$n",value:function(t,n){var r,i=jv(),a=jv(),o=pi(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),vg=function(){function e(){Pe(this,e)}return Re(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(bd.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Tp(t)||Cp(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(Qh()<=Us.DEBUG&&Yh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Mp(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Tv(Up(e));return t.forEach((function(t,r){Fp(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return Qh()<=Us.DEBUG&&Yh("QueryEngine","Using full collection scan to execute query:",Mp(t)),this.Mn.getDocumentsMatchingQuery(e,t,bd.min())}}]),e}(),mg=function(){function e(t,n,r,i){Pe(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new _v(md),this.Kn=new Xy((function(e){return op(e)}),sp),this.jn=bd.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new dg(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return Re(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function yg(e,t,n,r){return new mg(e,t,n,r)}function gg(e,t){return kg.apply(this,arguments)}function kg(){return kg=Ps(Rs().mark((function e(t,n){var r,i,a,o;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=td(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new dg(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=jv(),u=pi(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=pi(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=pi(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=pi(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),kg.apply(this,arguments)}function bg(e,t){var n=td(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=$m.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ed(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function wg(e){var t=td(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function xg(e,t){var n=td(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Nd.EMPTY_BYTE_STRING,bd.min()).withLastLimboFreeSnapshotVersion(bd.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var s=Av();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Eg(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(bd.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return $m.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function Eg(e,t,n,r,i){var a=jv();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Av();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(bd.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):Yh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function _g(e,t){var n=td(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function Sg(e,t){var n=td(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,$m.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new fy(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function Ig(e,t,n){return Tg.apply(this,arguments)}function Tg(){return Tg=Ps(Rs().mark((function e(t,n,r){var i,a,o;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=td(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ny(e.t1)){e.next=12;break}throw e.t1;case 12:Yh("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Tg.apply(this,arguments)}function Cg(e,t,n){var r=td(e),i=bd.min(),a=jv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=td(e),i=r.Kn.get(n);return void 0!==i?$m.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Dp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:bd.min(),n?a:jv())})).next((function(e){return{documents:e,zn:a}}))}))}function Ng(e,t){var n=td(e),r=td(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Ag(e){var t=td(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=td(e),i=Av(),a=vy(n),o=rg(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:Um.readTimeIndex,range:s},(function(e,t){var n=dy(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:my(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function Og(e){return Pg.apply(this,arguments)}function Pg(){return Pg=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=td(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=rg(e),n=bd.min();return t.jt({index:Um.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=my(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),Pg.apply(this,arguments)}function Dg(e,t,n,r){return Rg.apply(this,arguments)}function Rg(){return Rg=Ps(Rs().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=td(t),o=jv(),s=Av(),u=Rv(),c=pi(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,Sg(a,function(e){return Dp(Ip(Sd.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Eg(e,d,s,bd.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Rg.apply(this,arguments)}function Lg(e,t){return jg.apply(this,arguments)}function jg(){return jg=Ps(Rs().mark((function e(t,n){var r,i,a,o=arguments;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:jv(),e.next=3,Sg(t,Dp(xy(n.bundledQuery)));case 3:return i=e.sent,a=td(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=em(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Nd.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}var Mg=function(){function e(t){Pe(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Re(e,[{key:"getBundleMetadata",value:function(e,t){return $m.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:em(n.createTime)}),$m.resolve()}},{key:"getNamedQuery",value:function(e,t){return $m.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:xy(e.bundledQuery),readTime:em(e.readTime)}}(t)),$m.resolve()}}]),e}(),Fg=function(){function e(){Pe(this,e),this.ts=new Tv(Ug.es),this.ns=new Tv(Ug.ss)}return Re(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ug(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new Ug(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Vd(new Sd([])),r=new Ug(n,e),i=new Ug(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Vd(new Sd([])),n=new Ug(t,e),r=new Ug(t,e+1),i=jv();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ug(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ug=function(){function e(t,n){Pe(this,e),this.key=t,this.fs=n}return Re(e,null,[{key:"es",value:function(e,t){return Vd.comparator(e.key,t.key)||md(e.fs,t.fs)}},{key:"ss",value:function(e,t){return md(e.fs,t.fs)||Vd.comparator(e.key,t.key)}}]),e}(),Vg=function(){function e(t,n){Pe(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Tv(Ug.es)}return Re(e,[{key:"checkEmpty",value:function(e){return $m.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new cy(i,t,n,r);this.An.push(a);var o,s=pi(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new Ug(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return $m.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return $m.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return $m.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return $m.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return $m.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ug(t,0),i=new Ug(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),$m.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Tv(md);return t.forEach((function(e){var t=new Ug(e,0),i=new Ug(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),$m.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Vd.isDocumentKey(i)||(i=i.child(""));var a=new Ug(new Vd(i),0),o=new Tv(md);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),$m.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ed(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return $m.forEach(t.mutations,(function(i){var a=new Ug(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ug(t,0),r=this.ws.firstAfterOrEqual(n);return $m.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,$m.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Bg=function(){function e(t,n){Pe(this,e),this.Jt=t,this.Ts=n,this.docs=new _v(Vd.comparator),this.size=0}return Re(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return $m.resolve(n?n.document.mutableCopy():rp.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Av();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():rp.newInvalidDocument(e))})),$m.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Av(),i=new Vd(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Fp(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return $m.resolve(r)}},{key:"Es",value:function(e,t){return $m.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new qg(this)}},{key:"getSize",value:function(e){return $m.resolve(this.size)}}]),e}(),qg=function(e){$e(n,e);var t=nt(n);function n(e){var r;return Pe(this,n),(r=t.call(this)).De=e,r}return Re(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),$m.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(Zy),zg=function(){function e(t){Pe(this,e),this.persistence=t,this.Is=new Xy((function(e){return op(e)}),sp),this.lastRemoteSnapshotVersion=bd.min(),this.highestTargetId=0,this.As=0,this.Rs=new Fg,this.targetCount=0,this.bs=Uy.ie()}return Re(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),$m.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return $m.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return $m.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),$m.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),$m.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Uy(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,$m.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),$m.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,$m.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),$m.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return $m.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return $m.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),$m.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),$m.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),$m.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return $m.resolve(n)}},{key:"containsKey",value:function(e,t){return $m.resolve(this.Rs.containsKey(t))}}]),e}(),Kg=function(){function e(t,n){var r=this;Pe(this,e),this.Ps={},this.Be=new dd(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new zg(this),this.Jt=new Iy,this.Je=function(e,t){return new Bg(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new hy(n),this.Ye=new Mg(this.k)}return Re(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new Vg(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Yh("MemoryPersistence","Starting transaction:",e);var i=new Hg(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return $m.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Hg=function(e){$e(n,e);var t=nt(n);function n(e){var r;return Pe(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Re(n)}(Jm),Wg=function(){function e(t){Pe(this,e),this.persistence=t,this.Cs=new Fg,this.Ns=null}return Re(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Zh()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),$m.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),$m.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),$m.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $m.forEach(this.xs,(function(r){var i=Vd.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return $m.or([function(){return $m.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Gg(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Qg(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Yg(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Jg=function(){function e(t,n,r,i){Pe(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Re(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new rd(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Jh("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),$g=function(){function e(t,n,r){Pe(this,e),this.targetId=t,this.state=n,this.error=r}return Re(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new rd(i.error.code,i.error.message))),a?new e(t,i.state,r):(Jh("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Xg=function(){function e(t,n){Pe(this,e),this.clientId=t,this.activeTargetIds=n}return Re(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Fv(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ud(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Jh("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Zg=function(){function e(t,n){Pe(this,e),this.clientId=t,this.onlineState=n}return Re(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Jh("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ek=function(){function e(){Pe(this,e),this.activeTargetIds=Fv()}return Re(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),tk=function(){function e(t,n,r,i,a){Pe(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new _v(md),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Gg(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new ek),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Re(e,[{key:"start",value:function(){var e=Ps(Rs().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=pi(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Gg(this.persistenceKey,i)))&&(o=Xg.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=pi(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Yg(this.persistenceKey,e));if(n){var r=$g.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Yg(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Yh("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Yh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Yh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Yh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Jh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(Ps(Rs().mark((function e(){var r,i,a,o,s,u;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=dd.I;if(null!=e)try{var n=JSON.parse(e);ed("number"==typeof n),t=n}catch(e){Jh("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==dd.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new Jg(this.currentUser,e,t,n),i=Qg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=Qg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Yg(this.persistenceKey,e),i=new $g(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return Xg.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Jg.Os(new Hh(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return $g.Os(r,t)}},{key:"Zs",value:function(e){return Zg.Os(e)}},{key:"fi",value:function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Yh("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=Fv();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),nk=function(){function e(){Pe(this,e),this.pi=new ek,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Re(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new ek,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),rk=function(){function e(){Pe(this,e)}return Re(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ik=function(){function e(){var t=this;Pe(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return Re(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Yh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=pi(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){Yh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=pi(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),ak={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ok=function(){function e(t){Pe(this,e),this.Vi=t.Vi,this.Si=t.Si}return Re(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),sk=function(e){$e(n,e);var t=nt(n);function n(e){var r;return Pe(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Re(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new zh;o.listenOnce(Fh.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Mh.NO_ERROR:var t=o.getResponseJson();Yh("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Mh.TIMEOUT:Yh("Connection",'RPC "'+e+'" timed out'),a(new rd(nd.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:var n=o.getStatus();if(Yh("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(nd).indexOf(t)>=0?t:nd.UNKNOWN}(r.status);a(new rd(s,r.message))}else a(new rd(nd.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new rd(nd.UNAVAILABLE,"Connection failed."));break;default:Zh()}}finally{Yh("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Lh(),a=jh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Bh({})),this.qi(o.initMessageHeaders,t,n),hs()||ps()||fs().indexOf("Electron/")>=0||vs()||fs().indexOf("MSAppHost/")>=0||ds()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Yh("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new ok({Vi:function(e){l?Yh("Connection","Not sending because WebChannel is closed:",e):(c||(Yh("Connection","Opening WebChannel transport."),u.open(),c=!0),Yh("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,qh.EventType.OPEN,(function(){l||Yh("Connection","WebChannel transport opened.")})),h(u,qh.EventType.CLOSE,(function(){l||(l=!0,Yh("Connection","WebChannel transport closed"),f.Oi())})),h(u,qh.EventType.ERROR,(function(e){l||(l=!0,$h("Connection","WebChannel transport errored:",e),f.Oi(new rd(nd.UNAVAILABLE,"The operation could not be completed")))})),h(u,qh.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ed(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Yh("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=yv[e];if(void 0!==t)return Ev(t)}(a),s=i.message;void 0===o&&(o=nd.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new rd(o,s)),u.close()}else Yh("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,Uh.STAT_EVENT,(function(e){e.stat===Vh.PROXY?Yh("Connection","Detected buffering proxy"):e.stat===Vh.NOPROXY&&Yh("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Pe(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Re(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Yh("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Yh("RestConnection","Received: ",e),e}),(function(t){throw $h("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=ak[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function uk(){return"undefined"!=typeof window?window:null}function ck(){return"undefined"!=typeof document?document:null}function lk(e){return new Jv(e,!0)}var fk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Pe(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Re(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Yh("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),hk=function(){function e(t,n,r,i,a,o,s,u){Pe(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new fk(t,n)}return Re(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===nd.RESOURCE_EXHAUSTED?(Jh(n.toString()),Jh("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===nd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=o(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new rd(nd.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Ps(Rs().mark((function t(){return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Yh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(Yh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),dk=function(e){$e(n,e);var t=nt(n);function n(e,r,i,a,o,s){var u;return Pe(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return Re(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(ed(void 0===t||"string"==typeof t),Nd.fromBase64String(t||"")):(ed(void 0===t||t instanceof Uint8Array),Nd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?nd.UNKNOWN:Ev(e.code);return new rd(t,e.message||"")}(o);n=new zv(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=im(e,u.document.name),l=em(u.document.updateTime),f=new tp({mapValue:{fields:u.document.fields}}),h=rp.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Bv(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=im(e,v.document),y=v.readTime?em(v.readTime):bd.min(),g=rp.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Bv([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=im(e,b.document),x=b.removedTargetIds||[];n=new Bv([],x,w,null)}else{if(!("filter"in t))return Zh();t.filter;var E=t.filter;E.targetId;var _=E.count||0,S=new wv(_),I=E.targetId;n=new qv(I,S)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return bd.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?bd.min():t.readTime?em(t.readTime):bd.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=sm(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=up(r)?{documents:pm(e,r)}:{query:vm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Xv(e,t.resumeToken):t.snapshotVersion.compareTo(bd.min())>0&&(n.readTime=$v(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zh()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=sm(this.k),t.removeTarget=e,this.gr(t)}}]),n}(hk),pk=function(e){$e(n,e);var t=nt(n);function n(e,r,i,a,o,s){var u;return Pe(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return Re(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Ye(Ge(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(ed(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(ed(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?em(e.updateTime):em(t);return n.isEqual(bd.min())&&(n=em(t)),new rv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=em(e.commitTime);return this.listener.Cr(n,t)}return ed(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=sm(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return hm(t.k,e)}))};this.gr(n)}}]),n}(hk),vk=function(e){$e(n,e);var t=nt(n);function n(e,r,i,a){var o;return Pe(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Re(n,[{key:"Or",value:function(){if(this.$r)throw new rd(nd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),s=a[0],u=a[1];return r.ir.Bi(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===nd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new rd(nd.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),s=a[0],u=a[1];return r.ir.ji(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===nd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new rd(nd.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Re((function e(){Pe(this,e)}))}()),mk=function(){function e(t,n){Pe(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return Re(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Jh(t),this.Lr=!1):Yh("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),yk=Re((function e(t,n,r,i,a){var o=this;Pe(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ck(o),!e.t0){e.next=5;break}return Yh("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=td(t)).Gr.add(4),e.next=4,bk(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,gk(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new mk(r,i)}));function gk(e){return kk.apply(this,arguments)}function kk(){return kk=Ps(Rs().mark((function e(t){var n,r,i;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ck(t)){e.next=18;break}n=pi(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),kk.apply(this,arguments)}function bk(e){return wk.apply(this,arguments)}function wk(){return wk=Ps(Rs().mark((function e(t){var n,r,i;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pi(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),wk.apply(this,arguments)}function xk(e,t){var n=td(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Tk(n)?Ik(n):rb(n).lr()&&_k(n,t))}function Ek(e,t){var n=td(e),r=rb(n);n.Wr.delete(t),r.lr()&&Sk(n,t),0===n.Wr.size&&(r.lr()?r._r():Ck(n)&&n.Jr.set("Unknown"))}function _k(e,t){e.Yr.X(t.targetId),rb(e).Pr(t)}function Sk(e,t){e.Yr.X(t),rb(e).vr(t)}function Ik(e){e.Yr=new Hv({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),rb(e).start(),e.Jr.Br()}function Tk(e){return Ck(e)&&!rb(e).hr()&&e.Wr.size>0}function Ck(e){return 0===td(e).Gr.size}function Nk(e){e.Yr=void 0}function Ak(e){return Ok.apply(this,arguments)}function Ok(){return Ok=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){_k(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Ok.apply(this,arguments)}function Pk(e,t){return Dk.apply(this,arguments)}function Dk(){return Dk=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nk(t),Tk(t)?(t.Jr.Kr(n),Ik(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Dk.apply(this,arguments)}function Rk(e,t,n){return Lk.apply(this,arguments)}function Lk(){return Lk=Ps(Rs().mark((function e(t,n,r){var i;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof zv&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ps(Rs().mark((function e(t,n){var r,i,a,o;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=pi(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Yh("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,jk(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Bv?t.Yr.ot(n):n instanceof qv?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(bd.min())){e.next=29;break}return e.prev=14,e.next=17,wg(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Nd.EMPTY_BYTE_STRING,n.snapshotVersion)),Sk(e,t);var r=new fy(n.target,t,1,n.sequenceNumber);_k(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Yh("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,jk(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Lk.apply(this,arguments)}function jk(e,t,n){return Mk.apply(this,arguments)}function Mk(){return Mk=Ps(Rs().mark((function e(t,n,r){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ny(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,bk(t);case 5:t.Jr.set("Offline"),r||(r=function(){return wg(t.localStore)}),t.asyncQueue.enqueueRetryable(Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yh("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,gk(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Mk.apply(this,arguments)}function Fk(e,t){return t().catch((function(n){return jk(e,n,t)}))}function Uk(e){return Vk.apply(this,arguments)}function Vk(){return Vk=Ps(Rs().mark((function e(t){var n,r,i,a;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=td(t),r=ib(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Bk(n)){e.next=19;break}return e.prev=3,e.next=6,_g(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,qk(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,jk(n,e.t0);case 17:e.next=2;break;case 19:zk(n)&&Kk(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Vk.apply(this,arguments)}function Bk(e){return Ck(e)&&e.Qr.length<10}function qk(e,t){e.Qr.push(t);var n=ib(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function zk(e){return Ck(e)&&!ib(e).hr()&&e.Qr.length>0}function Kk(e){ib(e).start()}function Hk(e){return Wk.apply(this,arguments)}function Wk(){return Wk=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ib(t).kr();case 1:case"end":return e.stop()}}),e)}))),Wk.apply(this,arguments)}function Gk(e){return Qk.apply(this,arguments)}function Qk(){return Qk=Ps(Rs().mark((function e(t){var n,r,i,a;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ib(t),r=pi(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Qk.apply(this,arguments)}function Yk(e,t,n){return Jk.apply(this,arguments)}function Jk(){return Jk=Ps(Rs().mark((function e(t,n,r){var i,a;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=ly.from(i,n,r),e.next=3,Fk(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Uk(t);case 5:case"end":return e.stop()}}),e)}))),Jk.apply(this,arguments)}function $k(e,t){return Xk.apply(this,arguments)}function Xk(){return Xk=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ib(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ps(Rs().mark((function e(t,n){var r,i;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xv(i=n.code)||i===nd.ABORTED){e.next=7;break}return r=t.Qr.shift(),ib(t).wr(),e.next=5,Fk(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Uk(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:zk(t)&&Kk(t);case 5:case"end":return e.stop()}}),e)}))),Xk.apply(this,arguments)}function Zk(e,t){return eb.apply(this,arguments)}function eb(){return eb=Ps(Rs().mark((function e(t,n){var r,i;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=td(t)).asyncQueue.verifyOperationInProgress(),Yh("RemoteStore","RemoteStore received new credentials"),i=Ck(r),r.Gr.add(3),e.next=6,bk(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,gk(r);case 12:case"end":return e.stop()}}),e)}))),eb.apply(this,arguments)}function tb(e,t){return nb.apply(this,arguments)}function nb(){return nb=Ps(Rs().mark((function e(t,n){var r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=td(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,gk(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,bk(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),nb.apply(this,arguments)}function rb(e){return e.Xr||(e.Xr=function(e,t,n){var r=td(e);return r.Or(),new dk(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Ak.bind(null,e),Ni:Pk.bind(null,e),br:Rk.bind(null,e)}),e.zr.push(function(){var t=Ps(Rs().mark((function t(n){return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Tk(e)?Ik(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:Nk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function ib(e){return e.Zr||(e.Zr=function(e,t,n){var r=td(e);return r.Or(),new pk(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Hk.bind(null,e),Ni:$k.bind(null,e),Nr:Gk.bind(null,e),Cr:Yk.bind(null,e)}),e.zr.push(function(){var t=Ps(Rs().mark((function t(n){return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,Uk(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Yh("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var ab=function(){function e(t,n,r,i,a){Pe(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new id,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Re(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rd(nd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ob(e,t){if(Jh("AsyncQueue","".concat(t,": ").concat(e)),ny(e))return new rd(nd.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var sb=function(){function e(t){Pe(this,e),this.comparator=t?function(e,n){return t(e,n)||Vd.comparator(e.key,n.key)}:function(e,t){return Vd.comparator(e.key,t.key)},this.keyedMap=Pv(),this.sortedSet=new _v(this.comparator)}return Re(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ub=function(){function e(){Pe(this,e),this.eo=new _v(Vd.comparator)}return Re(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Zh():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),cb=function(){function e(t,n,r,i,a,o,s,u){Pe(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Re(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,sb.emptySet(n),a,r,i,!0,!1)}}]),e}(),lb=Re((function e(){Pe(this,e),this.so=void 0,this.listeners=[]})),fb=Re((function e(){Pe(this,e),this.queries=new Xy((function(e){return jp(e)}),Lp),this.onlineState="Unknown",this.io=new Set}));function hb(e,t){return db.apply(this,arguments)}function db(){return db=Ps(Rs().mark((function e(t,n){var r,i,a,o,s;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=td(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new lb),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=ob(e.t0,"Initialization of query '".concat(Mp(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&gb(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),db.apply(this,arguments)}function pb(e,t){return vb.apply(this,arguments)}function vb(){return vb=Ps(Rs().mark((function e(t,n){var r,i,a,o,s;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=td(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),vb.apply(this,arguments)}function mb(e,t){var n,r=td(e),i=!1,a=pi(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=pi(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&gb(r)}function yb(e,t,n){var r=td(e),i=r.queries.get(t);if(i){var a,o=pi(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function gb(e){e.io.forEach((function(e){e.next()}))}var kb=function(){function e(t,n,r){Pe(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Re(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=pi(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new cb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=cb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),bb=function(){function e(t,n){Pe(this,e),this.payload=t,this.byteLength=n}return Re(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),wb=function(){function e(t){Pe(this,e),this.k=t}return Re(e,[{key:"Hn",value:function(e){return im(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?lm(this.k,e.document,!1):rp.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return em(e)}}]),e}(),xb=function(){function e(t,n,r){Pe(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=Eb(t)}return Re(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new wb(this.k),i=pi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=pi(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||jv()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ps(Rs().mark((function e(){var t,n,r,i,a;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dg(this.localStore,new wb(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=pi(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Lg(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new hg(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Eb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var _b=Re((function e(t){Pe(this,e),this.key=t})),Sb=Re((function e(t){Pe(this,e),this.key=t})),Ib=function(){function e(t,n){Pe(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=jv(),this.mutatedKeys=jv(),this.Ao=Up(t),this.Ro=new sb(this.Ao)}return Re(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new ub,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Tp(this.query)&&i.size===this.query.limit?i.last():null,c=Cp(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Fp(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Tp(this.query)||Cp(this.query))for(;o.size>this.query.limit;){var l=Tp(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zh()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new cb(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new ub,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=jv(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new Sb(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new _b(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=jv();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return cb.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),Tb=Re((function e(t,n,r){Pe(this,e),this.query=t,this.targetId=n,this.view=r})),Cb=Re((function e(t){Pe(this,e),this.key=t,this.$o=!1})),Nb=function(){function e(t,n,r,i,a,o){Pe(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new Xy((function(e){return jp(e)}),Lp),this.Fo=new Map,this.Lo=new Set,this.Bo=new _v(Vd.comparator),this.Uo=new Map,this.qo=new Fg,this.Ko={},this.jo=new Map,this.Qo=Uy.re(),this.onlineState="Unknown",this.Wo=void 0}return Re(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function Ab(e,t){return Ob.apply(this,arguments)}function Ob(){return Ob=Ps(Rs().mark((function e(t,n){var r,i,a,o,s,u;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ew(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,Sg(r.localStore,Dp(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,Pb(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&xk(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Ob.apply(this,arguments)}function Pb(e,t,n,r){return Db.apply(this,arguments)}function Db(){return Db=Ps(Rs().mark((function e(t,n,r,i){var a,o,s,u,c,l;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Ps(Rs().mark((function e(t,n,r,i){var a,o,s;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,Cg(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Zb(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Cg(t.localStore,n,!0);case 3:return a=e.sent,o=new Ib(n,a.zn),s=o.Po(a.documents),u=Vv.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),Zb(t,r,c.Co),l=new Tb(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Db.apply(this,arguments)}function Rb(e,t){return Lb.apply(this,arguments)}function Lb(){return Lb=Ps(Rs().mark((function e(t,n){var r,i,a;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=td(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!Lp(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ig(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ek(r.remoteStore,i.targetId),$b(r,i.targetId)})).catch(Ky);case 9:e.next=14;break;case 11:return $b(r,i.targetId),e.next=14,Ig(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Lb.apply(this,arguments)}function jb(e,t,n){return Mb.apply(this,arguments)}function Mb(){return Mb=Ps(Rs().mark((function e(t,n,r){var i,a,o;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_w(t),e.prev=1,e.next=4,function(e,t){var n,r=td(e),i=kd.now(),a=t.reduce((function(e,t){return e.add(t.key)}),jv());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=pi(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=cv(c,n.get(c.key));null!=l&&s.push(new dv(c.key,l,np(l.value.mapValue),iv.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new _v(md)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,nw(i,a.changes);case 9:return e.next=11,Uk(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ob(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Mb.apply(this,arguments)}function Fb(e,t){return Ub.apply(this,arguments)}function Ub(){return Ub=Ps(Rs().mark((function e(t,n){var r,i;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=td(t),e.prev=1,e.next=4,xg(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(ed(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?ed(n.$o):e.removedDocuments.size>0&&(ed(n.$o),n.$o=!1))})),e.next=8,nw(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ky(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Ub.apply(this,arguments)}function Vb(e,t,n){var r=td(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=td(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=pi(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&gb(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Bb(e,t,n){return qb.apply(this,arguments)}function qb(){return qb=Ps(Rs().mark((function e(t,n,r){var i,a,o,s,u,c;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=td(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new _v(Vd.comparator)).insert(o,rp.newNoDocument(o,bd.min())),u=jv().add(o),c=new Uv(bd.min(),new Map,new Tv(md),s,u),e.next=9,Fb(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),tw(i),e.next=16;break;case 14:return e.next=16,Ig(i.localStore,n,!1).then((function(){return $b(i,n,r)})).catch(Ky);case 16:case"end":return e.stop()}}),e)}))),qb.apply(this,arguments)}function zb(e,t){return Kb.apply(this,arguments)}function Kb(){return Kb=Ps(Rs().mark((function e(t,n){var r,i,a;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=td(t),i=n.batch.batchId,e.prev=1,e.next=4,bg(r.localStore,n);case 4:return a=e.sent,Jb(r,i,null),Yb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,nw(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ky(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Kb.apply(this,arguments)}function Hb(e,t,n){return Wb.apply(this,arguments)}function Wb(){return Wb=Ps(Rs().mark((function e(t,n,r){var i,a;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=td(t),e.prev=1,e.next=4,function(e,t){var n=td(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return ed(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Jb(i,n,r),Yb(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,nw(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ky(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Wb.apply(this,arguments)}function Gb(e,t){return Qb.apply(this,arguments)}function Qb(){return Qb=Ps(Rs().mark((function e(t,n){var r,i,a,o;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ck((r=td(t)).remoteStore)||Yh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=td(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ob(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Qb.apply(this,arguments)}function Yb(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function Jb(e,t,n){var r=td(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function $b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=pi(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||Xb(e,t)}))}function Xb(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Ek(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),tw(e))}function Zb(e,t,n){var r,i=pi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof _b?(e.qo.addReference(a.key,t),ew(e,a)):a instanceof Sb?(Yh("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||Xb(e,a.key)):Zh()}}catch(o){i.e(o)}finally{i.f()}}function ew(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Yh("SyncEngine","New document in limbo: "+n),e.Lo.add(r),tw(e))}function tw(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Vd(Sd.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Cb(n)),e.Bo=e.Bo.insert(n,r),xk(e.remoteStore,new fy(Dp(Ip(n.path)),r,2,dd.I))}}function nw(e,t,n){return rw.apply(this,arguments)}function rw(){return rw=Ps(Rs().mark((function e(t,n,r){var i,a,o,s;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=td(t),a=[],o=[],s=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=pg.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Oo.br(a),e.next=9,function(){var e=Ps(Rs().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=td(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return $m.forEach(n,(function(t){return $m.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return $m.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ny(e.t0)){e.next=10;break}throw e.t0;case 10:Yh("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=pi(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),rw.apply(this,arguments)}function iw(e,t){return aw.apply(this,arguments)}function aw(){return aw=Ps(Rs().mark((function e(t,n){var r,i;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=td(t)).currentUser.isEqual(n)){e.next=11;break}return Yh("SyncEngine","User change. New user:",n.toKey()),e.next=5,gg(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new rd(nd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,nw(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),aw.apply(this,arguments)}function ow(e,t){var n=td(e),r=n.Uo.get(t);if(r&&r.$o)return jv().add(r.key);var i=jv(),a=n.Fo.get(t);if(!a)return i;var o,s=pi(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Mo.get(u);i=i.unionWith(c.view.bo)}}catch(l){s.e(l)}finally{s.f()}return i}function sw(e,t){return uw.apply(this,arguments)}function uw(){return uw=Ps(Rs().mark((function e(t,n){var r,i,a;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=td(t),e.next=3,Cg(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&Zb(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),uw.apply(this,arguments)}function cw(e){return lw.apply(this,arguments)}function lw(){return lw=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=td(t),e.abrupt("return",Ag(n.localStore).then((function(e){return nw(n,e)})));case 2:case"end":return e.stop()}}),e)}))),lw.apply(this,arguments)}function fw(e,t,n,r){return hw.apply(this,arguments)}function hw(){return hw=Ps(Rs().mark((function e(t,n,r,i){var a,o;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=td(t),e.next=3,function(e,t){var n=td(e),r=td(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):$m.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Uk(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Jb(a,n,i||null),Yb(a,n),function(e,t){td(td(e).An).ee(t)}(a.localStore,n)):Zh();case 11:return e.next=13,nw(a,o);case 13:e.next=16;break;case 15:Yh("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}function dw(e,t){return pw.apply(this,arguments)}function pw(){return pw=Ps(Rs().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ew(r=td(t)),_w(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,vw(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,tb(r.remoteStore,!0);case 9:o=pi(a);try{for(o.s();!(s=o.n()).done;)u=s.value,xk(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return $b(r,t),Ig(r.localStore,t,!0)})),Ek(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,vw(r,c);case 21:return function(e){var t=td(e);t.Uo.forEach((function(e,n){Ek(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new _v(Vd.comparator)}(r),r.Wo=!1,e.next=25,tb(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function vw(e,t,n){return mw.apply(this,arguments)}function mw(){return mw=Ps(Rs().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=td(t),a=[],o=[],s=pi(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Fo.get(c))||0===f.length){e.next=34;break}return e.next=11,Sg(i.localStore,Dp(f[0]));case 11:l=e.sent,h=pi(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Mo.get(p),e.next=20,sw(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Ng(i.localStore,c);case 36:return y=e.sent,e.next=39,Sg(i.localStore,y);case 39:return l=e.sent,e.next=42,Pb(i,yw(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),mw.apply(this,arguments)}function yw(e){return Sp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function gw(e){var t=td(e);return td(td(t.localStore).persistence).Tn()}function kw(e,t,n,r){return bw.apply(this,arguments)}function bw(){return bw=Ps(Rs().mark((function e(t,n,r,i){var a,o,s;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=td(t)).Wo){e.next=5;break}Yh("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Ag(a.localStore);case 11:return o=e.sent,s=Uv.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,nw(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,Ig(a.localStore,n,!0);case 18:return $b(a,n,i),e.abrupt("break",21);case 20:Zh();case 21:case"end":return e.stop()}}),e)}))),bw.apply(this,arguments)}function ww(e,t,n){return xw.apply(this,arguments)}function xw(){return xw=Ps(Rs().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Ew(t)).Wo){e.next=45;break}a=pi(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Fo.has(s)){e.next=10;break}return Yh("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Ng(i.localStore,s);case 12:return u=e.sent,e.next=15,Sg(i.localStore,u);case 15:return c=e.sent,e.next=18,Pb(i,yw(u),c.targetId,!1);case 18:xk(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=pi(r),e.prev=30,h=Rs().mark((function e(){var t;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,Ig(i.localStore,t,!1).then((function(){Ek(i.remoteStore,t),$b(i,t)})).catch(Ky);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),xw.apply(this,arguments)}function Ew(e){var t=td(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ow.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Bb.bind(null,t),t.Oo.br=mb.bind(null,t.eventManager),t.Oo.zo=yb.bind(null,t.eventManager),t}function _w(e){var t=td(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Hb.bind(null,t),t}function Sw(e,t,n){var r=td(e);(function(){var e=Ps(Rs().mark((function e(t,n,r){var i,a,o,s,u;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=td(e),r=em(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Eb(i)),a=new xb(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,nw(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=td(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),$h("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Iw=function(){function e(){Pe(this,e),this.synchronizeTabs=!1}return Re(e,[{key:"initialize",value:function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=lk(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return yg(this.persistence,new vg,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Kg(Wg.ks,this.k)}},{key:"Jo",value:function(e){return new nk}},{key:"terminate",value:function(){var e=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Tw=function(e){$e(n,e);var t=nt(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Re(n,[{key:"initialize",value:function(){var e=Ps(Rs().mark((function e(t){var r=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(Ge(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Og(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,_w(this.tc.syncEngine);case 8:return e.next=10,Uk(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return yg(this.persistence,new vg,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Qy(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=fg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Oy.withCacheSize(this.cacheSizeBytes):Oy.DEFAULT;return new ug(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,uk(),ck(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new nk}}]),n}(Iw),Cw=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Re(n,[{key:"initialize",value:function(){var e=Ps(Rs().mark((function e(t){var r,i=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(Ge(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof tk,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:fw.bind(null,r),gi:kw.bind(null,r),yi:ww.bind(null,r),Tn:gw.bind(null,r),_i:cw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dw(i.tc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=uk();if(!tk.Pt(t))throw new rd(nd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=fg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Tw),Nw=function(){function e(){Pe(this,e)}return Re(e,[{key:"initialize",value:function(){var e=Ps(Rs().mark((function e(t,n){var r=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Vb(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=iw.bind(null,this.syncEngine),e.next=12,tb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new fb}},{key:"createDatastore",value:function(e){var t,n=lk(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new sk(t));return function(e,t,n,r){return new vk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Vb(o.syncEngine,e,0)},a=ik.Pt()?new ik:new rk,new yk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Nb(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=td(t),Yh("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,bk(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Aw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ps(Rs().mark((function r(){var i;return Rs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Ow=function(){function e(t){Pe(this,e),this.observer=t,this.muted=!1}return Re(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Pw=function(){function e(t,n){var r=this;Pe(this,e),this.sc=t,this.k=n,this.metadata=new id,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Re(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=Ps(Rs().mark((function e(){var t,n,r,i;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new bb(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oc",value:function(){var e=Ps(Rs().mark((function e(){var t,n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=Ps(Rs().mark((function e(){var t,n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Dw=function(){function e(t){Pe(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Re(e,[{key:"lookup",value:function(){var e=Ps(Rs().mark((function e(t){var n,r=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new rd(nd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ps(Rs().mark((function e(t,n){var r,i,a,o,s,u;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=td(t),i=sm(r.k)+"/documents",a={documents:n.map((function(e){return rm(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=fm(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());ed(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new kv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ps(Rs().mark((function e(){var t,n=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Vd.fromPath(t);n.mutations.push(new bv(r,n.precondition(r)))})),e.next=7,function(){var e=Ps(Rs().mark((function e(t,n){var r,i,a;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=td(t),i=sm(r.k)+"/documents",a={writes:n.map((function(e){return hm(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Zh();t=bd.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new rd(nd.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?iv.updateTime(t):iv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bd.min()))throw new rd(nd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return iv.updateTime(t)}return iv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Rw=function(){function e(t,n,r,i){Pe(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new fk(this.asyncQueue,"transaction_retry")}return Re(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(Ps(Rs().mark((function t(){var n,r;return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Dw(e.datastore),(r=e.dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wc(t)}))}))})).catch((function(t){e.wc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!Md(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((function(){return t.fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!xv(t)}return!1}}]),e}(),Lw=function(){function e(t,n,r,i){var a=this;Pe(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hh.UNAUTHENTICATED,this.clientId=vd.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yh("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Yh("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Re(e,[{key:"getConfiguration",value:function(){var e=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new rd(nd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new id;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ps(Rs().mark((function n(){var r;return Rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ob(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function jw(e,t){return Mw.apply(this,arguments)}function Mw(){return Mw=Ps(Rs().mark((function e(t,n){var r,i;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Yh("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,gg(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Mw.apply(this,arguments)}function Fw(e,t){return Uw.apply(this,arguments)}function Uw(){return Uw=Ps(Rs().mark((function e(t,n){var r,i;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Vw(t);case 3:return r=e.sent,Yh("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Zk(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Zk(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}function Vw(e){return Bw.apply(this,arguments)}function Bw(){return Bw=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Yh("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,jw(t,new Iw);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Bw.apply(this,arguments)}function qw(e){return zw.apply(this,arguments)}function zw(){return zw=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Yh("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Fw(t,new Nw);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),zw.apply(this,arguments)}function Kw(e){return Vw(e).then((function(e){return e.persistence}))}function Hw(e){return Vw(e).then((function(e){return e.localStore}))}function Ww(e){return qw(e).then((function(e){return e.remoteStore}))}function Gw(e){return qw(e).then((function(e){return e.syncEngine}))}function Qw(e){return Yw.apply(this,arguments)}function Yw(){return Yw=Ps(Rs().mark((function e(t){var n,r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qw(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Ab.bind(null,n.syncEngine),r.onUnlisten=Rb.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}function Jw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new id;return e.asyncQueue.enqueueAndForget(Ps(Rs().mark((function i(){return Rs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ow({next:function(a){t.enqueueAndForget((function(){return pb(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new rd(nd.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new rd(nd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new kb(Ip(n.path),a,{includeMetadataChanges:!0,wo:!0});return hb(e,o)},i.next=3,Qw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function $w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new id;return e.asyncQueue.enqueueAndForget(Ps(Rs().mark((function i(){return Rs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ow({next:function(n){t.enqueueAndForget((function(){return pb(e,o)})),n.fromCache&&"server"===r.source?i.reject(new rd(nd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new kb(n,a,{includeMetadataChanges:!0,wo:!0});return hb(e,o)},i.next=3,Qw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Xw=Re((function e(t,n,r,i,a,o,s,u){Pe(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Zw=function(){function e(t,n){Pe(this,e),this.projectId=t,this.database=n||"(default)"}return Re(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),ex=new Map;function tx(e,t,n){if(!n)throw new rd(nd.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function nx(e,t,n,r){if(!0===t&&!0===r)throw new rd(nd.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function rx(e){if(!Vd.isDocumentKey(e))throw new rd(nd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ix(e){if(Vd.isDocumentKey(e))throw new rd(nd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ax(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Zh()}function ox(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rd(nd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ax(e);throw new rd(nd.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function sx(e,t){if(t<=0)throw new rd(nd.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var ux=function(){function e(t){var n;if(Pe(this,e),void 0===t.host){if(void 0!==t.ssl)throw new rd(nd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new rd(nd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,nx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Re(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),cx=function(){function e(t,n,r){Pe(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ux({}),this._settingsFrozen=!1,t instanceof Zw?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rd(nd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zw(e.options.projectId)}(t))}return Re(e,[{key:"app",get:function(){if(!this._app)throw new rd(nd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new rd(nd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ux(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new od;switch(e.type){case"gapi":var t=e.client;return ed(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ld(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new rd(nd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=ex.get(e);t&&(Yh("ComponentProvider","Removing Datastore"),ex.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function lx(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=ox(e,cx))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&$h("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Hh.MOCK_USER;else{o=ls(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new rd(nd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Hh(u)}e._authCredentials=new sd(new ad(o,s))}}var fx=function(){function e(t,n,r){Pe(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Re(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new dx(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),hx=function(){function e(t,n,r){Pe(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Re(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),dx=function(e){$e(n,e);var t=nt(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this,e,r,Ip(i)))._path=i,a.type="collection",a}return Re(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new fx(this.firestore,null,new Vd(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(hx);function px(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=As(e),tx("collection","path",t),e instanceof cx){var a=Sd.fromString.apply(Sd,[t].concat(r));return ix(a),new dx(e,null,a)}if(!(e instanceof fx||e instanceof dx))throw new rd(nd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Sd.fromString.apply(Sd,[t].concat(r)));return ix(o),new dx(e.firestore,null,o)}function vx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=As(e),1===arguments.length&&(t=vd.A()),tx("doc","path",t),e instanceof cx){var a=Sd.fromString.apply(Sd,[t].concat(r));return rx(a),new fx(e,null,new Vd(a))}if(!(e instanceof fx||e instanceof dx))throw new rd(nd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Sd.fromString.apply(Sd,[t].concat(r)));return rx(o),new fx(e.firestore,e instanceof dx?e.converter:null,new Vd(o))}function mx(e,t){return e=As(e),t=As(t),(e instanceof fx||e instanceof dx)&&(t instanceof fx||t instanceof dx)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function yx(e,t){return e=As(e),t=As(t),e instanceof hx&&t instanceof hx&&e.firestore===t.firestore&&Lp(e._query,t._query)&&e.converter===t.converter}var gx=function(){function e(){var t=this;Pe(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new fk(this,"async_queue_retry"),this.bc=function(){var e=ck();e&&Yh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=ck();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return Re(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=ck();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new id;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=Ps(Rs().mark((function e(){var t=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ny(e.t0)){e.next=12;break}throw e.t0;case 12:Yh("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Jh("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=ab.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&Zh()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=Ps(Rs().mark((function e(){var t;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=pi(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=pi(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function kx(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=pi(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var bx=function(){function e(){Pe(this,e),this._progressObserver={},this._taskCompletionResolver=new id,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Re(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),wx=function(e){$e(n,e);var t=nt(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new gx,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Re(n,[{key:"_terminate",value:function(){return this._firestoreClient||Ex(this),this._firestoreClient.terminate()}}]),n}(cx);function xx(e){return e._firestoreClient||Ex(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ex(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Xw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Lw(e._authCredentials,e._appCheckCredentials,e._queue,r)}function _x(e,t,n){var r=new id;return e.asyncQueue.enqueue(Ps(Rs().mark((function i(){return Rs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,jw(e,n);case 3:return i.next=5,Fw(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===nd.FAILED_PRECONDITION||e.code===nd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Sx(e){return function(e){return e.asyncQueue.enqueue(Ps(Rs().mark((function t(){var n,r;return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kw(e);case 2:return n=t.sent,t.next=5,Ww(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=td(e);return t.Gr.delete(0),gk(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(xx(e=ox(e,wx)))}function Ix(e){return function(e){return e.asyncQueue.enqueue(Ps(Rs().mark((function t(){var n,r;return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kw(e);case 2:return n=t.sent,t.next=5,Ww(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=td(t)).Gr.add(0),e.next=4,bk(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(xx(e=ox(e,wx)))}function Tx(e,t){var n=xx(e=ox(e,wx)),r=new bx;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Pw(e,t)}(function(e,t){if(e instanceof Uint8Array)return Aw(e,t);if(e instanceof ArrayBuffer)return Aw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,lk(t));e.asyncQueue.enqueueAndForget(Ps(Rs().mark((function t(){return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Sw,t.next=3,Gw(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Cx(e,t){return function(e,t){return e.asyncQueue.enqueue(Ps(Rs().mark((function n(){return Rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=td(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,Hw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(xx(e=ox(e,wx)),t).then((function(t){return t?new hx(e,null,t.query):null}))}function Nx(e){if(e._initialized||e._terminated)throw new rd(nd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ax=function(){function e(){Pe(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new rd(nd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Td(n)}return Re(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Ox=function(){function e(t){Pe(this,e),this._byteString=t}return Re(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Nd.fromBase64String(t))}catch(t){throw new rd(nd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Nd.fromUint8Array(t))}}]),e}(),Px=Re((function e(t){Pe(this,e),this._methodName=t})),Dx=function(){function e(t,n){if(Pe(this,e),!isFinite(t)||t<-90||t>90)throw new rd(nd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rd(nd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Re(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return md(this._lat,e._lat)||md(this._long,e._long)}}]),e}(),Rx=/^__.*__$/,Lx=function(){function e(t,n,r){Pe(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Re(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new dv(e,this.data,this.fieldMask,t,this.fieldTransforms):new hv(e,this.data,t,this.fieldTransforms)}}]),e}(),jx=function(){function e(t,n,r){Pe(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Re(e,[{key:"toMutation",value:function(e,t){return new dv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Mx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zh()}}var Fx=function(){function e(t,n,r,i,a,o){Pe(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Re(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return iE(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(Mx(this.$c)&&Rx.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),Ux=function(){function e(t,n,r){Pe(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||lk(t)}return Re(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Fx({$c:e,methodName:t,jc:n,path:Td.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function Vx(e){var t=e._freezeSettings(),n=lk(e._databaseId);return new Ux(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Bx(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);eE("Data must be an object, but it was:",o,r);var s,u,c=Xx(r,o);if(a.merge)s=new Cd(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=pi(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=tE(t,d,n);if(!o.contains(p))throw new rd(nd.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));aE(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Cd(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Lx(new tp(c),s,u)}var qx=function(e){$e(n,e);var t=nt(n);function n(){return Pe(this,n),t.apply(this,arguments)}return Re(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Px);function zx(e,t,n){return new Fx({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var Kx=function(e){$e(n,e);var t=nt(n);function n(){return Pe(this,n),t.apply(this,arguments)}return Re(n,[{key:"_toFieldTransform",value:function(e){return new nv(e.path,new Qp)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Px),Hx=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e)).Wc=r,i}return Re(n,[{key:"_toFieldTransform",value:function(e){var t=zx(this,e,!0),n=this.Wc.map((function(e){return $x(e,t)})),r=new Yp(n);return new nv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Px),Wx=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e)).Wc=r,i}return Re(n,[{key:"_toFieldTransform",value:function(e){var t=zx(this,e,!0),n=this.Wc.map((function(e){return $x(e,t)})),r=new $p(n);return new nv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Px),Gx=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e)).Gc=r,i}return Re(n,[{key:"_toFieldTransform",value:function(e){var t=new Zp(e.k,zp(e.k,this.Gc));return new nv(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Px);function Qx(e,t,n,r){var i=e.Qc(1,t,n);eE("Data must be an object, but it was:",i,r);var a=[],o=tp.empty();xd(r,(function(e,r){var s=rE(t,e,n);r=As(r);var u=i.Bc(s);if(r instanceof qx)a.push(s);else{var c=$x(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Cd(a);return new jx(o,s,i.fieldTransforms)}function Yx(e,t,n,r,i,a){var o=e.Qc(1,t,n),s=[tE(t,r,n)],u=[i];if(a.length%2!=0)throw new rd(nd.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(tE(t,a[c])),u.push(a[c+1]);for(var l=[],f=tp.empty(),h=s.length-1;h>=0;--h)if(!aE(l,s[h])){var d=s[h],p=u[h];p=As(p);var v=o.Bc(d);if(p instanceof qx)l.push(d);else{var m=$x(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Cd(l);return new jx(f,y,o.fieldTransforms)}function Jx(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return $x(n,e.Qc(r?4:3,t))}function $x(e,t){if(Zx(e=As(e)))return eE("Unsupported field value:",t,e),Xx(e,t);if(e instanceof Px)return function(e,t){if(!Mx(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=pi(e);try{for(a.s();!(n=a.n()).done;){var o=$x(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=As(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zp(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=kd.fromDate(e);return{timestampValue:$v(t.k,n)}}if(e instanceof kd){var r=new kd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:$v(t.k,r)}}if(e instanceof Dx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ox)return{bytesValue:Xv(t.k,e._byteString)};if(e instanceof fx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:tm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(ax(e)))}(e,t)}function Xx(e,t){var n={};return Ed(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xd(e,(function(e,r){var i=$x(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Zx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof kd||e instanceof Dx||e instanceof Ox||e instanceof fx||e instanceof Px)}function eE(e,t,n){if(!Zx(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ax(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function tE(e,t,n){if((t=As(t))instanceof Ax)return t._internalPath;if("string"==typeof t)return rE(e,t);throw iE("Field path arguments must be of type string or ",e,!1,void 0,n)}var nE=new RegExp("[~\\*/\\[\\]]");function rE(e,t,n){if(t.search(nE)>=0)throw iE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ns(Ax,Oe(t.split(".")))._internalPath}catch(r){throw iE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function iE(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new rd(nd.INVALID_ARGUMENT,s+e+u)}function aE(e,t){return e.some((function(e){return e.isEqual(t)}))}var oE=function(){function e(t,n,r,i,a){Pe(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Re(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new fx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new sE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(uE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),sE=function(e){$e(n,e);var t=nt(n);function n(){return Pe(this,n),t.apply(this,arguments)}return Re(n,[{key:"data",value:function(){return Ye(Ge(n.prototype),"data",this).call(this)}}]),n}(oE);function uE(e,t){return"string"==typeof t?rE(e,t):t instanceof Ax?t._internalPath:t._delegate._internalPath}var cE=function(){function e(t,n){Pe(this,e),this.hasPendingWrites=t,this.fromCache=n}return Re(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),lE=function(e){$e(n,e);var t=nt(n);function n(e,r,i,a,o,s){var u;return Pe(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Re(n,[{key:"exists",value:function(){return Ye(Ge(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new fE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(uE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(oE),fE=function(e){$e(n,e);var t=nt(n);function n(){return Pe(this,n),t.apply(this,arguments)}return Re(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ye(Ge(n.prototype),"data",this).call(this,e)}}]),n}(lE),hE=function(){function e(t,n,r,i){Pe(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new cE(i.hasPendingWrites,i.fromCache),this.query=r}return Re(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new fE(n._firestore,n._userDataWriter,r.key,r,new cE(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new rd(nd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new fE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new fE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:dE(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function dE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zh()}}function pE(e,t){return e instanceof lE&&t instanceof lE?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof hE&&t instanceof hE&&e._firestore===t._firestore&&yx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function vE(e){if(Cp(e)&&0===e.explicitOrderBy.length)throw new rd(nd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mE=Re((function e(){Pe(this,e)}));function yE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var gE=function(e){$e(n,e);var t=nt(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return Re(n,[{key:"_apply",value:function(e){var t=Vx(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new rd(nd.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){NE(o,a);var u,c=[],l=pi(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(CE(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=CE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||NE(o,a),s=Jx(n,"where",o,"in"===a||"not-in"===a);var h=cp.create(i,a,s);return function(e,t){if(t.V()){var n=Ap(e);if(null!==n&&!n.isEqual(t.field))throw new rd(nd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Np(e);null!==r&&AE(e,t.field,r)}var i=function(e,t){var n,r=pi(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new rd(nd.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new rd(nd.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new hx(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new _p(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(mE);var kE=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return Re(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new rd(nd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new rd(nd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new bp(t,n);return function(e,t){if(null===Np(e)){var n=Ap(e);null!==n&&AE(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new hx(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new _p(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(mE);var bE=function(e){$e(n,e);var t=nt(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return Re(n,[{key:"_apply",value:function(e){return new hx(e.firestore,e.converter,Rp(e._query,this.Xc,this.Zc))}}]),n}(mE);var wE=function(e){$e(n,e);var t=nt(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Re(n,[{key:"_apply",value:function(e){var t=TE(e,this.type,this.ta,this.ea);return new hx(e.firestore,e.converter,function(e,t){return new _p(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(mE);function xE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wE("startAt",t,!0)}function EE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wE("startAfter",t,!1)}var _E=function(e){$e(n,e);var t=nt(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Re(n,[{key:"_apply",value:function(e){var t=TE(e,this.type,this.ta,this.ea);return new hx(e.firestore,e.converter,function(e,t){return new _p(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(mE);function SE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _E("endBefore",t,!0)}function IE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _E("endAt",t,!1)}function TE(e,t,n,r){if(n[0]=As(n[0]),n[0]instanceof oE)return function(e,t,n,r,i){if(!r)throw new rd(nd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=pi(Pp(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Qd(t,r.key));else{var c=r.data.field(u.field);if(Rd(c))throw new rd(nd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new rd(nd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new gp(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Vx(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new rd(nd.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new rd(nd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Op(e)&&-1!==c.indexOf("/"))throw new rd(nd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Sd.fromString(c));if(!Vd.isDocumentKey(l))throw new rd(nd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Vd(l);s.push(Qd(t,f))}else{var h=Jx(n,r,c);s.push(h)}}return new gp(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function CE(e,t,n){if("string"==typeof(n=As(n))){if(""===n)throw new rd(nd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Op(t)&&-1!==n.indexOf("/"))throw new rd(nd.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Sd.fromString(n));if(!Vd.isDocumentKey(r))throw new rd(nd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Qd(e,new Vd(r))}if(n instanceof fx)return Qd(e,n._key);throw new rd(nd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ax(n),"."))}function NE(e,t){if(!Array.isArray(e)||0===e.length)throw new rd(nd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new rd(nd.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function AE(e,t,n){if(!n.isEqual(t))throw new rd(nd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var OE=function(){function e(){Pe(this,e)}return Re(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Bd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zh()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return xd(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Dx(Pd(e.latitude),Pd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ld(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jd(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Od(e);return new kd(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Sd.fromString(e);ed(Tm(n));var r=new Zw(n.get(1),n.get(3)),i=new Vd(n.popFirst(5));return r.isEqual(t)||Jh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function PE(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var DE=function(e){$e(n,e);var t=nt(n);function n(e){var r;return Pe(this,n),(r=t.call(this)).firestore=e,r}return Re(n,[{key:"convertBytes",value:function(e){return new Ox(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new fx(this.firestore,null,t)}}]),n}(OE),RE=function(){function e(t,n){Pe(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Vx(t)}return Re(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=LE(e,this._firestore),i=PE(r.converter,t,n),a=Bx(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,iv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=LE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=As(t))||t instanceof Ax?Yx(this._dataReader,"WriteBatch.update",i._key,t,n,o):Qx(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,iv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=LE(e,this._firestore);return this._mutations=this._mutations.concat(new kv(t._key,iv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new rd(nd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function LE(e,t){if((e=As(e)).firestore!==t)throw new rd(nd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var jE=function(e){$e(n,e);var t=nt(n);function n(e){var r;return Pe(this,n),(r=t.call(this)).firestore=e,r}return Re(n,[{key:"convertBytes",value:function(e){return new Ox(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new fx(this.firestore,null,t)}}]),n}(OE);function ME(e){e=ox(e,fx);var t=ox(e.firestore,wx),n=xx(t),r=new jE(t);return function(e,t){var n=new id;return e.asyncQueue.enqueueAndForget(Ps(Rs().mark((function r(){return Rs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ps(Rs().mark((function e(t,n,r){var i,a;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=td(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new rd(nd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ob(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Hw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new lE(t,r,e._key,n,new cE(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function FE(e){e=ox(e,hx);var t=ox(e.firestore,wx),n=xx(t),r=new jE(t);return function(e,t){var n=new id;return e.asyncQueue.enqueueAndForget(Ps(Rs().mark((function r(){return Rs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ps(Rs().mark((function e(t,n,r){var i,a,o,s,u;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cg(t,n,!0);case 3:i=e.sent,a=new Ib(n,i.zn),o=a.Po(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=ob(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Hw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new hE(t,r,e,n)}))}function UE(e,t,n){e=ox(e,fx);var r=ox(e.firestore,wx),i=PE(e.converter,t,n);return zE(r,[Bx(Vx(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,iv.none())])}function VE(e,t,n){e=ox(e,fx);for(var r=ox(e.firestore,wx),i=Vx(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return zE(r,[("string"==typeof(t=As(t))||t instanceof Ax?Yx(i,"updateDoc",e._key,t,n,o):Qx(i,"updateDoc",e._key,t)).toMutation(e._key,iv.exists(!0))])}function BE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=As(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||kx(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(kx(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof fx)l=ox(e.firestore,wx),f=Ip(e._key.path),c={next:function(t){n[u]&&n[u](KE(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=ox(e,hx);l=ox(p.firestore,wx),f=p._query;var v=new jE(l);c={next:function(e){n[u]&&n[u](new hE(l,v,p,e))},error:n[u+1],complete:n[u+2]},vE(e._query)}return function(e,t,n,r){var i=new Ow(r),a=new kb(t,i,n);return e.asyncQueue.enqueueAndForget(Ps(Rs().mark((function t(){return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=hb,t.next=3,Qw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(Ps(Rs().mark((function t(){return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=pb,t.next=3,Qw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(xx(l),f,h,c)}function qE(e,t){return function(e,t){var n=new Ow(t);return e.asyncQueue.enqueueAndForget(Ps(Rs().mark((function t(){return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){td(e).io.add(t),t.next()},t.next=3,Qw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.nc(),e.asyncQueue.enqueueAndForget(Ps(Rs().mark((function t(){return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){td(e).io.delete(t)},t.next=3,Qw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(xx(e=ox(e,wx)),kx(t)?t:{next:t})}function zE(e,t){return function(e,t){var n=new id;return e.asyncQueue.enqueueAndForget(Ps(Rs().mark((function r(){return Rs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=jb,r.next=3,Gw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(xx(e),t)}function KE(e,t,n){var r=n.docs.get(t._key),i=new jE(e);return new lE(e,i,t._key,r,new cE(n.hasPendingWrites,n.fromCache),t.converter)}var HE=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e,r))._firestore=e,i}return Re(n,[{key:"get",value:function(e){var t=this,r=LE(e,this._firestore),i=new jE(this._firestore);return Ye(Ge(n.prototype),"get",this).call(this,e).then((function(e){return new lE(t._firestore,i,r._key,e._document,new cE(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Pe(this,e),this._firestore=t,this._transaction=n,this._dataReader=Vx(t)}return Re(e,[{key:"get",value:function(e){var t=this,n=LE(e,this._firestore),r=new DE(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Zh();var i=e[0];if(i.isFoundDocument())return new oE(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new oE(t._firestore,r,n._key,null,n.converter);throw Zh()}))}},{key:"set",value:function(e,t,n){var r=LE(e,this._firestore),i=PE(r.converter,t,n),a=Bx(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=LE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=As(t))||t instanceof Ax?Yx(this._dataReader,"Transaction.update",i._key,t,n,o):Qx(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=LE(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function WE(e,t){return function(e,t){var n=new id;return e.asyncQueue.enqueueAndForget(Ps(Rs().mark((function r(){var i;return Rs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return qw(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Rw(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(xx(e=ox(e,wx)),(function(n){return t(new HE(e,n))}))}function GE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Hx("arrayUnion",t)}function QE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Wx("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wh=e}(pu),au(new Ls("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new wx(i,new ud(e.getProvider("auth-internal")),new hd(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),bu(Kh,"3.4.4",e),bu(Kh,"3.4.4","esm2017")}();var YE=Nu.initializeApp({apiKey:"AIzaSyD9Tr2rrRrcspn9hfcO-27qqDdzNlvtlRo",authDomain:"fourpeaks-sc.firebaseapp.com",projectId:"fourpeaks-sc",storageBucket:"fourpeaks-sc.appspot.com",messagingSenderId:"740169779172",appId:"1:740169779172:web:2159a61789440068c169f1",measurementId:"G-2CQL4SVEZ2"});Nu.storage;function JE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var $E;Object.create;function XE(){return U({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ZE=XE,e_=new gs("auth","Firebase",XE()),t_=new Qs("@firebase/auth");function n_(e){if(t_.logLevel<=Us.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];t_.error.apply(t_,["Auth (".concat(pu,"): ").concat(e)].concat(n))}}function r_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw o_.apply(void 0,[e].concat(n))}function i_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o_.apply(void 0,[e].concat(n))}function a_(e,t,n){var r=Object.assign(Object.assign({},ZE()),U({},t,n));return new gs("auth","Firebase",r).create(t,{appName:e.name})}function o_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Oe(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Oe(o)))}return e_.create.apply(e_,[e].concat(n))}function s_(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw o_.apply(void 0,[t].concat(r))}}function u_(e){var t="INTERNAL ASSERTION FAILED: "+e;throw n_(t),new Error(t)}function c_(e,t){e||u_(t)}var l_=new Map;function f_(e){c_(e instanceof Function,"Expected a class definition");var t=l_.get(e);return t?(c_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,l_.set(e,t),t)}function h_(e,t){var n=ou(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(xs(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;r_(r,"already-initialized")}return n.initialize({options:t})}function d_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function p_(){return"http:"===v_()||"https:"===v_()}function v_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var m_=function(){function e(t,n){Pe(this,e),this.shortDelay=t,this.longDelay=n,c_(n>t,"Short delay should be less than long delay!"),this.isMobile=hs()||ps()}return Re(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(p_()||ds()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function y_(e,t){c_(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var g_=function(){function e(){Pe(this,e)}return Re(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void u_("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void u_("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void u_("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),k_=(U($E={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),U($E,"MISSING_CUSTOM_TOKEN","internal-error"),U($E,"INVALID_IDENTIFIER","invalid-email"),U($E,"MISSING_CONTINUE_URI","internal-error"),U($E,"INVALID_PASSWORD","wrong-password"),U($E,"MISSING_PASSWORD","internal-error"),U($E,"EMAIL_EXISTS","email-already-in-use"),U($E,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),U($E,"INVALID_IDP_RESPONSE","invalid-credential"),U($E,"INVALID_PENDING_TOKEN","invalid-credential"),U($E,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),U($E,"MISSING_REQ_TYPE","internal-error"),U($E,"EMAIL_NOT_FOUND","user-not-found"),U($E,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),U($E,"EXPIRED_OOB_CODE","expired-action-code"),U($E,"INVALID_OOB_CODE","invalid-action-code"),U($E,"MISSING_OOB_CODE","internal-error"),U($E,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),U($E,"INVALID_ID_TOKEN","invalid-user-token"),U($E,"TOKEN_EXPIRED","user-token-expired"),U($E,"USER_NOT_FOUND","user-token-expired"),U($E,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),U($E,"INVALID_CODE","invalid-verification-code"),U($E,"INVALID_SESSION_INFO","invalid-verification-id"),U($E,"INVALID_TEMPORARY_PROOF","invalid-credential"),U($E,"MISSING_SESSION_INFO","missing-verification-id"),U($E,"SESSION_EXPIRED","code-expired"),U($E,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),U($E,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),U($E,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),U($E,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),U($E,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),U($E,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),U($E,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),U($E,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),U($E,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),U($E,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),U($E,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),$E),b_=new m_(3e4,6e4);function w_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function x_(e,t,n,r){return E_.apply(this,arguments)}function E_(){return E_=Ps(Rs().mark((function e(t,n,r,i){var a,o=arguments;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",__(t,a,Ps(Rs().mark((function e(){var a,o,s,u;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=_s(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",g_.fetch()(C_(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),E_.apply(this,arguments)}function __(e,t,n){return S_.apply(this,arguments)}function S_(){return(S_=Ps(Rs().mark((function e(t,n,r){var i,a,s,u,c,l,f,h,d,p;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},k_),n),e.prev=2,a=new N_(t),e.next=6,Promise.race([r(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw A_(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=o(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw A_(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw A_(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw a_(t,p,d);case 30:r_(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof ys)){e.next=37;break}throw e.t0;case 37:r_(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function I_(e,t,n,r){return T_.apply(this,arguments)}function T_(){return T_=Ps(Rs().mark((function e(t,n,r,i){var a,o,s=arguments;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,x_(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&r_(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),T_.apply(this,arguments)}function C_(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?y_(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var N_=function(){function e(t){var n=this;Pe(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(i_(n.auth,"network-request-failed"))}),b_.get())}))}return Re(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function A_(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=i_(e,t,r);return i.customData._tokenResponse=n,i}function O_(e,t){return P_.apply(this,arguments)}function P_(){return(P_=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x_(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D_(e,t){return R_.apply(this,arguments)}function R_(){return(R_=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x_(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L_(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(yN){}}function j_(){return j_=Ps(Rs().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=As(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,s_((a=F_(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:L_(M_(a.auth_time)),issuedAtTime:L_(M_(a.iat)),expirationTime:L_(M_(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}function M_(e){return 1e3*Number(e)}function F_(e){var t=o(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return n_("JWT malformed, contained fewer than 3 sections"),null;try{var a=ss(r);return a?JSON.parse(a):(n_("Failed to decode base64 JWT payload"),null)}catch(yN){return n_("Caught error parsing JWT payload as JSON",yN),null}}function U_(e,t){return V_.apply(this,arguments)}function V_(){return V_=Ps(Rs().mark((function e(t,n){var r=arguments;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ys&&B_(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),V_.apply(this,arguments)}function B_(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var q_=function(){function e(t){Pe(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Re(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ps(Rs().mark((function t(){return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),z_=function(){function e(t,n){Pe(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Re(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=L_(this.lastLoginAt),this.creationTime=L_(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function K_(e){return H_.apply(this,arguments)}function H_(){return H_=Ps(Rs().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,U_(t,D_(r,{idToken:i}));case 6:s_(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Q_(o.providerUserInfo):[],u=G_(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new z_(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),H_.apply(this,arguments)}function W_(){return(W_=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=As(t),e.next=3,K_(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G_(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Oe(n),Oe(t))}function Q_(e){return e.map((function(e){var t=e.providerId,n=JE(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Y_(e,t){return J_.apply(this,arguments)}function J_(){return(J_=Ps(Rs().mark((function e(t,n){var r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__(t,{},Ps(Rs().mark((function e(){var r,i,a,o,s,u;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_s({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=C_(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",g_.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $_=function(){function e(){Pe(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Re(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){s_(e.idToken,"internal-error"),s_("undefined"!==typeof e.idToken,"internal-error"),s_("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=F_(e);return s_(t,"internal-error"),s_("undefined"!==typeof t.exp,"internal-error"),s_("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ps(Rs().mark((function e(t){var n,r=arguments;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],s_(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ps(Rs().mark((function e(t,n){var r,i,a,o;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y_(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return u_("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(s_("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(s_("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(s_("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function X_(e,t){s_("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Z_=function(){function e(t){Pe(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=JE(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Oe(a.providerData):[],this.metadata=new z_(a.createdAt||void 0,a.lastLoginAt||void 0)}return Re(e,[{key:"getIdToken",value:function(){var e=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U_(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(s_(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return j_.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return W_.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(s_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){s_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ps(Rs().mark((function e(t){var n,r,i=arguments;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,K_(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ps(Rs().mark((function e(){var t;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,U_(this,O_(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;s_(k&&E,t,"internal-error");var _=$_.fromJSON(this.name,E);s_("string"===typeof k,t,"internal-error"),X_(f,t.name),X_(h,t.name),s_("boolean"===typeof b,t,"internal-error"),s_("boolean"===typeof w,t,"internal-error"),X_(d,t.name),X_(p,t.name),X_(v,t.name),X_(m,t.name),X_(y,t.name),X_(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Ps(Rs().mark((function t(n,r){var i,a,o,s=arguments;return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new $_).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,K_(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),eS=function(){function e(){Pe(this,e),this.type="NONE",this.storage={}}return Re(e,[{key:"_isAvailable",value:function(){var e=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();eS.type="NONE";var tS=eS;function nS(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var rS=function(){function e(t,n,r){Pe(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=nS(this.userKey,a.apiKey,o),this.fullPersistenceKey=nS("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Re(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ps(Rs().mark((function e(){var t;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Z_._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ps(Rs().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(f_(tS),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||f_(tS),s=nS(i,n.config.apiKey,n.name),u=null,c=pi(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Z_._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function iS(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(uS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(aS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lS(t))return"Blackberry";if(fS(t))return"Webos";if(oS(t))return"Safari";if((t.includes("chrome/")||sS(t))&&!t.includes("edge/"))return"Chrome";if(cS(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function aS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs();return/firefox\//i.test(e)}function oS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs();return/crios\//i.test(e)}function uS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs();return/iemobile/i.test(e)}function cS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs();return/android/i.test(e)}function lS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs();return/blackberry/i.test(e)}function fS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs();return/webos/i.test(e)}function hS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs();return/iphone|ipad|ipod/i.test(e)}function dS(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs();return hS(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function pS(){return vs()&&10===document.documentMode}function vS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs();return hS(e)||cS(e)||fS(e)||lS(e)||/windows phone/i.test(e)||uS(e)}function mS(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=iS(fs());break;case"Worker":t="".concat(iS(fs()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(pu,"/").concat(r)}var yS=function(){function e(t,n){Pe(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kS(this),this.idTokenSubscription=new kS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e_,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Re(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=f_(t)),this._initializationPromise=this.queue(Ps(Rs().mark((function r(){var i,a;return Rs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,rS.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ps(Rs().mark((function e(){var t;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ps(Rs().mark((function e(t){var n,r,i,a,o;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return s_(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K_(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?As(t):null)&&s_(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ps(Rs().mark((function e(t){var n=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&s_(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ps(Rs().mark((function n(){return Rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(f_(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new gs("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ps(Rs().mark((function e(t,n){var r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return s_(n=t&&f_(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,rS.create(this,[f_(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ps(Rs().mark((function e(t){var n,r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ps(Rs().mark((function e(t){var n=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return s_(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return s_(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mS(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ps(Rs().mark((function e(){var t;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=U({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gS(e){return As(e)}var kS=function(){function e(t){var n=this;Pe(this,e),this.auth=t,this.observer=null,this.addObserver=Ts((function(e){return n.observer=e}))}return Re(e,[{key:"next",get:function(){return s_(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var bS=function(){function e(t,n){Pe(this,e),this.providerId=t,this.signInMethod=n}return Re(e,[{key:"toJSON",value:function(){return u_("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return u_("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return u_("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return u_("not implemented")}}]),e}();function wS(e,t){return xS.apply(this,arguments)}function xS(){return(xS=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ES(e,t){return _S.apply(this,arguments)}function _S(){return(_S=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I_(t,"POST","/v1/accounts:signInWithPassword",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SS(e,t){return IS.apply(this,arguments)}function IS(){return(IS=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I_(t,"POST","/v1/accounts:signInWithEmailLink",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TS(e,t){return CS.apply(this,arguments)}function CS(){return(CS=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I_(t,"POST","/v1/accounts:signInWithEmailLink",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var NS=function(e){$e(n,e);var t=nt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Pe(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Re(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ES(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",SS(t,{email:this._email,oobCode:this._password}));case 5:r_(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",wS(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",TS(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:r_(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(bS);function AS(e,t){return OS.apply(this,arguments)}function OS(){return(OS=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I_(t,"POST","/v1/accounts:signInWithIdp",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var PS=function(e){$e(n,e);var t=nt(n);function n(){var e;return Pe(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Re(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return AS(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,AS(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,AS(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_s(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):r_("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=JE(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(bS);function DS(e,t){return RS.apply(this,arguments)}function RS(){return(RS=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x_(t,"POST","/v1/accounts:sendVerificationCode",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LS(){return(LS=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I_(t,"POST","/v1/accounts:signInWithPhoneNumber",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jS(){return(jS=Ps(Rs().mark((function e(t,n){var r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I_(t,"POST","/v1/accounts:signInWithPhoneNumber",w_(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw A_(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var MS=U({},"USER_NOT_FOUND","user-not-found");function FS(){return(FS=Ps(Rs().mark((function e(t,n){var r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",I_(t,"POST","/v1/accounts:signInWithPhoneNumber",w_(t,r),MS));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var US=function(e){$e(n,e);var t=nt(n);function n(e){var r;return Pe(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Re(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return LS.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return jS.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return FS.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(bS);var VS=function(){function e(t){var n,r,i,a,o,s;Pe(this,e);var u=Ss(Is(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);s_(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Re(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ss(Is(e)).link,n=t?Ss(Is(t)).deep_link_id:null,r=Ss(Is(e)).deep_link_id;return(r?Ss(Is(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Zw){return null}}}]),e}();var BS=function(){function e(){Pe(this,e),this.providerId=e.PROVIDER_ID}return Re(e,null,[{key:"credential",value:function(e,t){return NS._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=VS.parseLink(t);return s_(n,"argument-error"),NS._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();BS.PROVIDER_ID="password",BS.EMAIL_PASSWORD_SIGN_IN_METHOD="password",BS.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var qS=function(){function e(t){Pe(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Re(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),zS=function(e){$e(n,e);var t=nt(n);function n(){var e;return Pe(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Re(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Oe(this.scopes)}}]),n}(qS),KS=function(e){$e(n,e);var t=nt(n);function n(){return Pe(this,n),t.call(this,"facebook.com")}return Re(n,null,[{key:"credential",value:function(e){return PS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Zw){return null}}}]),n}(zS);KS.FACEBOOK_SIGN_IN_METHOD="facebook.com",KS.PROVIDER_ID="facebook.com";var HS=function(e){$e(n,e);var t=nt(n);function n(){var e;return Pe(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Re(n,null,[{key:"credential",value:function(e,t){return PS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Zw){return null}}}]),n}(zS);HS.GOOGLE_SIGN_IN_METHOD="google.com",HS.PROVIDER_ID="google.com";var WS=function(e){$e(n,e);var t=nt(n);function n(){return Pe(this,n),t.call(this,"github.com")}return Re(n,null,[{key:"credential",value:function(e){return PS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Zw){return null}}}]),n}(zS);WS.GITHUB_SIGN_IN_METHOD="github.com",WS.PROVIDER_ID="github.com";var GS=function(e){$e(n,e);var t=nt(n);function n(){return Pe(this,n),t.call(this,"twitter.com")}return Re(n,null,[{key:"credential",value:function(e,t){return PS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Zw){return null}}}]),n}(zS);GS.TWITTER_SIGN_IN_METHOD="twitter.com",GS.PROVIDER_ID="twitter.com";var QS=function(){function e(t){Pe(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Re(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ps(Rs().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Z_._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=YS(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ps(Rs().mark((function t(n,r,i){var a;return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=YS(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function YS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var JS=function(e){$e(n,e);var t=nt(n);function n(e,r,i,a){var o,s;return Pe(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(et(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Re(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ys);function $S(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw JS._fromErrorAndOperation(e,n,t,r);throw n}))}function XS(e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=Ps(Rs().mark((function e(t,n){var r,i,a=arguments;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=U_,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",QS._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ZS.apply(this,arguments)}function eI(e,t){return tI.apply(this,arguments)}function tI(){return tI=Ps(Rs().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,U_(t,$S(i,a,n,t),r);case 6:return s_((o=e.sent).idToken,i,"internal-error"),s_(s=F_(o.idToken),i,"internal-error"),u=s.sub,s_(t.uid===u,i,"user-mismatch"),e.abrupt("return",QS._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&r_(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),tI.apply(this,arguments)}function nI(e,t){return rI.apply(this,arguments)}function rI(){return rI=Ps(Rs().mark((function e(t,n){var r,i,a,o,s=arguments;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,$S(t,i,n);case 4:return a=e.sent,e.next=7,QS._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}function iI(e,t){return aI.apply(this,arguments)}function aI(){return(aI=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nI(gS(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oI(e,t){return x_(e,"POST","/v2/accounts/mfaEnrollment:start",w_(e,t))}new WeakMap;var sI="__sak",uI=function(){function e(t,n){Pe(this,e),this.storageRetriever=t,this.type=n}return Re(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(sI,"1"),this.storage.removeItem(sI),Promise.resolve(!0)):Promise.resolve(!1)}catch(Zw){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var cI=function(e){$e(n,e);var t=nt(n);function n(){var e;return Pe(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=fs();return oS(e)||hS(e)}()&&function(){try{return!(!window||window===window.top)}catch(yN){return!1}}(),e.fallbackToPolling=vS(),e._shouldAllowMigration=!0,e}return Re(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);pS()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ps(Rs().mark((function e(t,r){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(Ge(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ps(Rs().mark((function e(t){var r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(Ge(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(Ge(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(uI);cI.type="LOCAL";var lI=cI,fI=function(e){$e(n,e);var t=nt(n);function n(){return Pe(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Re(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(uI);fI.type="SESSION";var hI=fI;function dI(e){return Promise.all(e.map(function(){var e=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var pI=function(){function e(t){Pe(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Re(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ps(Rs().mark((function e(t){var n,r,i,a,o,s,u,c;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,dI(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function vI(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pI.receivers=[];var mI=function(){function e(t){Pe(this,e),this.target=t,this.handlers=new Set}return Re(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ps(Rs().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=vI("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function yI(){return window}function gI(){return"undefined"!==typeof yI().WorkerGlobalScope&&"function"===typeof yI().importScripts}function kI(){return bI.apply(this,arguments)}function bI(){return(bI=Ps(Rs().mark((function e(){var t;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function wI(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var xI="firebaseLocalStorageDb",EI="firebaseLocalStorage",_I="fbase_key",SI=function(){function e(t){Pe(this,e),this.request=t}return Re(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function II(e,t){return e.transaction([EI],t?"readwrite":"readonly").objectStore(EI)}function TI(){var e=indexedDB.deleteDatabase(xI);return new SI(e).toPromise()}function CI(){var e=indexedDB.open(xI,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(EI,{keyPath:_I})}catch(yN){n(yN)}})),e.addEventListener("success",Ps(Rs().mark((function n(){var r;return Rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(EI)){n.next=12;break}return r.close(),n.next=5,TI();case 5:return n.t0=t,n.next=8,CI();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function NI(e,t,n){return AI.apply(this,arguments)}function AI(){return AI=Ps(Rs().mark((function e(t,n,r){var i,a;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=II(t,!0).put((U(i={},_I,n),U(i,"value",r),i)),e.abrupt("return",new SI(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function OI(e,t){return PI.apply(this,arguments)}function PI(){return PI=Ps(Rs().mark((function e(t,n){var r,i;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=II(t,!1).get(n),e.next=3,new SI(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),PI.apply(this,arguments)}function DI(e,t){var n=II(e,!0).delete(t);return new SI(n).toPromise()}var RI=function(){function e(){Pe(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Re(e,[{key:"_openDb",value:function(){var e=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,CI();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ps(Rs().mark((function e(t){var n,r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gI()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ps(Rs().mark((function e(){var t=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=pI._getInstance(gI()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ps(Rs().mark((function e(n,r){var i;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ps(Rs().mark((function e(t,n){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ps(Rs().mark((function e(){var t,n,r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kI();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new mI(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&wI()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ps(Rs().mark((function e(){var t;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,CI();case 5:return t=e.sent,e.next=8,NI(t,sI,"1");case 8:return e.next=10,DI(t,sI);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ps(Rs().mark((function e(t){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ps(Rs().mark((function e(t,n){var r=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return NI(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return OI(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ps(Rs().mark((function e(t){var n=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return DI(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ps(Rs().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=II(e,!1).getAll();return new SI(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=pi(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ps(Rs().mark((function t(){return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();RI.type="LOCAL";var LI=RI;function jI(e,t){return x_(e,"POST","/v2/accounts/mfaSignIn:start",w_(e,t))}function MI(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=i_("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function FI(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}FI("rcb"),new m_(3e4,6e4);var UI="recaptcha";function VI(e,t,n){return BI.apply(this,arguments)}function BI(){return BI=Ps(Rs().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,s_("string"===typeof a,t,"argument-error"),s_(r.type===UI,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return s_("enroll"===s.type,t,"internal-error"),e.next=13,oI(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return s_("signin"===s.type,t,"internal-error"),s_(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,jI(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,DS(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),BI.apply(this,arguments)}var qI=function(){function e(t){Pe(this,e),this.providerId=e.PROVIDER_ID,this.auth=gS(t)}return Re(e,[{key:"verifyPhoneNumber",value:function(e,t){return VI(this.auth,e,As(t))}}],[{key:"credential",value:function(e,t){return US._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?US._fromTokenResponse(n,r):null}}]),e}();function zI(e,t){return t?f_(t):(s_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}qI.PROVIDER_ID="phone",qI.PHONE_SIGN_IN_METHOD="phone";var KI=function(e){$e(n,e);var t=nt(n);function n(e){var r;return Pe(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Re(n,[{key:"_getIdTokenResponse",value:function(e){return AS(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return AS(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return AS(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(bS);function HI(e){return nI(e.auth,new KI(e),e.bypassAuthState)}function WI(e){var t=e.auth,n=e.user;return s_(n,t,"internal-error"),eI(n,new KI(e),e.bypassAuthState)}function GI(e){return QI.apply(this,arguments)}function QI(){return(QI=Ps(Rs().mark((function e(t){var n,r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,s_(r=t.user,n,"internal-error"),e.abrupt("return",XS(r,new KI(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var YI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Pe(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Re(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ps(Rs().mark((function t(n,r){return Rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ps(Rs().mark((function e(t){var n,r,i,a,o,s,u;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HI;case"linkViaPopup":case"linkViaRedirect":return GI;case"reauthViaPopup":case"reauthViaRedirect":return WI;default:r_(this.auth,"internal-error")}}},{key:"resolve",value:function(e){c_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){c_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),JI=new m_(2e3,1e4);var $I=function(e){$e(n,e);var t=nt(n);function n(e,r,i,a,o){var s;return Pe(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=et(s),s}return Re(n,[{key:"executeNotNull",value:function(){var e=Ps(Rs().mark((function e(){var t;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return s_(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ps(Rs().mark((function e(){var t,n=this;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c_(1===this.filter.length,"Popup operations only handle one event"),t=vI(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(i_(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(i_(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(i_(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,JI.get())}()}}]),n}(YI);$I.currentPopupAction=null;var XI=new Map,ZI=function(e){$e(n,e);var t=nt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Pe(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Re(n,[{key:"execute",value:function(){var e=Ps(Rs().mark((function e(){var t,r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=XI.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,eT(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ye(Ge(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:XI.set(this.auth._key(),t);case 21:return this.bypassAuthState||XI.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ps(Rs().mark((function e(t){var r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ye(Ge(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ye(Ge(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(YI);function eT(e,t){return tT.apply(this,arguments)}function tT(){return(tT=Ps(Rs().mark((function e(t,n){var r,i,a;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rT(n),i=nT(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nT(e){return f_(e._redirectPersistence)}function rT(e){return nS("pendingRedirect",e.config.apiKey,e.name)}function iT(e,t){return aT.apply(this,arguments)}function aT(){return aT=Ps(Rs().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=gS(t),a=zI(i,n),o=new ZI(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}var oT=function(){function e(t){Pe(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Re(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uT(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!uT(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(i_(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sT(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(sT(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function sT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function uT(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function cT(e){return lT.apply(this,arguments)}function lT(){return lT=Ps(Rs().mark((function e(t){var n,r=arguments;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",x_(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),lT.apply(this,arguments)}var fT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hT=/^https?/;function dT(){return(dT=Ps(Rs().mark((function e(t){var n,r,i,a,o;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,cT(t);case 4:n=e.sent,r=n.authorizedDomains,i=pi(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!pT(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:r_(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function pT(e){var t=d_(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!hT.test(r))return!1;if(fT.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var vT=new m_(3e4,6e4);function mT(){var e=yI().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Oe(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var yT=null;function gT(e){return yT=yT||function(e){return new Promise((function(t,n){var r,i,a;function o(){mT(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){mT(),n(i_(e,"network-request-failed"))},timeout:vT.get()})}if(null===(i=null===(r=yI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=yI().gapi)||void 0===a?void 0:a.load)){var s=FI("iframefcb");return yI()[s]=function(){gapi.load?o():n(i_(e,"network-request-failed"))},MI("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw yT=null,e}))}(e),yT}var kT=new m_(5e3,15e3),bT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xT(e){var t=e.config;s_(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?y_(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:pu},i=wT.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(_s(r).slice(1))}function ET(e){return _T.apply(this,arguments)}function _T(){return _T=Ps(Rs().mark((function e(t){var n,r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gT(t);case 2:return n=e.sent,s_(r=yI().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:xT(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bT,dontclear:!0},(function(e){return new Promise(function(){var n=Ps(Rs().mark((function n(r,i){var a,o,s;return Rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){yI().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=i_(t,"network-request-failed"),o=yI().setTimeout((function(){i(a)}),kT.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),_T.apply(this,arguments)}var ST={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IT="_blank",TT="http://localhost",CT=function(){function e(t){Pe(this,e),this.window=t,this.associatedEvent=null}return Re(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(yN){}}}]),e}();function NT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},ST),{width:r.toString(),height:i.toString(),top:a,left:s}),l=fs().toLowerCase();n&&(u=sS(l)?IT:n),aS(l)&&(t=t||TT,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=o(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(dS(l)&&"_self"!==u)return AT(t||"",u),new CT(null);var h=window.open(t||"",u,f);s_(h,e,"popup-blocked");try{h.focus()}catch(yN){}return new CT(h)}function AT(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var OT="__/auth/handler",PT="emulator/auth/handler";function DT(e,t,n,r,i,a){s_(e.config.authDomain,e,"auth-domain-config-required"),s_(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:pu,eventId:i};if(t instanceof qS){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=o(c[u],2),f=l[0],h=l[1];s[f]=h}}if(t instanceof zS){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(OT);return y_(t,PT)}(e),"?").concat(_s(p).slice(1))}var RT="webStorageSupport",LT=function(){function e(){Pe(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hI,this._completeRedirectFn=iT}return Re(e,[{key:"_openPopup",value:function(){var e=Ps(Rs().mark((function e(t,n,r,i){var a,o;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c_(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=DT(t,n,r,d_(),i),e.abrupt("return",NT(t,o,vI()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ps(Rs().mark((function e(t,n,r,i){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=DT(t,n,r,d_(),i),yI().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(c_(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ps(Rs().mark((function e(t){var n,r;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ET(t);case 2:return n=e.sent,r=new oT(t),n.register("authEvent",(function(e){return s_(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(RT,{type:RT},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),r_(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return dT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return vS()||oS()||hS()}}]),e}(),jT=LT,MT=function(e){$e(n,e);var t=nt(n);function n(e){var r;return Pe(this,n),(r=t.call(this,"phone")).credential=e,r}return Re(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return x_(e,"POST","/v2/accounts/mfaEnrollment:finalize",w_(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return x_(e,"POST","/v2/accounts/mfaSignIn:finalize",w_(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Pe(this,e),this.factorId=t}return Re(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return u_("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){Pe(this,e)}return Re(e,null,[{key:"assertion",value:function(e){return MT._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var FT,UT="@firebase/auth",VT="0.19.8",BT=function(){function e(t){Pe(this,e),this.auth=t,this.internalListeners=new Map}return Re(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){s_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();FT="Browser",au(new Ls("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){s_(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),s_(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:FT,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mS(FT)},r=new yS(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(f_);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),au(new Ls("auth-internal",(function(e){return function(e){return new BT(e)}(gS(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),bu(UT,VT,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(FT)),bu(UT,VT,"esm2017");var qT=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mu(),t=ou(e,"auth");return t.isInitialized()?t.getImmediate():h_(e,{popupRedirectResolver:jT,persistence:[LI,lI,hI]})}();return function(e,t,n){return iI(As(e),BS.credential(t,n))}(e,"zaxdev59@gmail.com","password").then((function(e){var t=e.user;console.log("Logged in as",t)})).catch((function(e){e.code,e.message})),(0,W.jsx)(W.Fragment,{})},zT=["bsPrefix","variant","animation","size","as","className"],KT=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.animation,a=e.size,o=e.as,s=void 0===o?"div":o,u=e.className,c=z(e,zT);n=X(n,"spinner");var l="".concat(n,"-").concat(i);return(0,W.jsx)(s,B(B({ref:t},c),{},{className:H()(u,l,a&&"".concat(l,"-").concat(a),r&&"text-".concat(r))}))}));KT.displayName="Spinner";var HT=KT;function WT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new rd("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function GT(){if("undefined"===typeof Uint8Array)throw new rd("unimplemented","Uint8Arrays are not available in this environment.")}function QT(){if("undefined"==typeof atob)throw new rd("unimplemented","Blobs are unavailable in Firestore in this environment.")}var YT=function(){function e(t){Pe(this,e),this._delegate=t}return Re(e,[{key:"toBase64",value:function(){return QT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return GT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return QT(),new e(Ox.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return GT(),new e(Ox.fromUint8Array(t))}}]),e}();function JT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=pi(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var $T=function(){function e(){Pe(this,e)}return Re(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Nx(e=ox(e,wx));var n=xx(e),r=e._freezeSettings(),i=new Nw;return _x(n,i,new Tw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Nx(e=ox(e,wx));var t=xx(e),n=e._freezeSettings(),r=new Nw;return _x(t,r,new Cw(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new rd(nd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new id;return e._queue.enqueueAndForgetEvenWhileRestricted(Ps(Rs().mark((function n(){return Rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ps(Rs().mark((function e(t){var n;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zm.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Zm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(fg(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),XT=function(){function e(t,n,r){var i=this;Pe(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Zw||(this._appCompat=t)}return Re(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||$h("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};lx(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Sx(this._delegate)}},{key:"disableNetwork",value:function(){return Ix(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&nx("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new id;return e.asyncQueue.enqueueAndForget(Ps(Rs().mark((function n(){return Rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Gb,n.next=3,Gw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(xx(e=ox(e,wx)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return qE(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new rd("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new hC(this,px(this._delegate,e))}catch(yN){throw iC(yN,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new rC(this,vx(this._delegate,e))}catch(yN){throw iC(yN,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new cC(this,function(e,t){if(e=ox(e,cx),tx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new rd(nd.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new hx(e,null,function(e){return new _p(Sd.emptyPath(),e)}(t))}(this._delegate,e))}catch(yN){throw iC(yN,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return WE(this._delegate,(function(n){return e(new eC(t,n))}))}},{key:"batch",value:function(){var e=this;return xx(this._delegate),new tC(new RE(this._delegate,(function(t){return zE(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Tx(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Cx(this._delegate,e).then((function(e){return e?new cC(t,e):null}))}}]),e}(),ZT=function(e){$e(n,e);var t=nt(n);function n(e){var r;return Pe(this,n),(r=t.call(this)).firestore=e,r}return Re(n,[{key:"convertBytes",value:function(e){return new YT(new Ox(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return rC.forKey(t,this.firestore,null)}}]),n}(OE);var eC=function(){function e(t,n){Pe(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ZT(t)}return Re(e,[{key:"get",value:function(e){var t=this,n=dC(e);return this._delegate.get(n).then((function(e){return new sC(t._firestore,new lE(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=dC(e);return n?(WT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=dC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=dC(e);return this._delegate.delete(t),this}}]),e}(),tC=function(){function e(t){Pe(this,e),this._delegate=t}return Re(e,[{key:"set",value:function(e,t,n){var r=dC(e);return n?(WT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=dC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=dC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),nC=function(){function e(t,n,r){Pe(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Re(e,[{key:"fromFirestore",value:function(e,t){var n=new fE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ZT(t),n),i.set(n,a)),a}}]),e}();nC.INSTANCES=new WeakMap;var rC=function(){function e(t,n){Pe(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ZT(t)}return Re(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new hC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new hC(this.firestore,px(this._delegate,e))}catch(yN){throw iC(yN,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=As(e))instanceof fx&&mx(this._delegate,e)}},{key:"set",value:function(e,t){t=WT("DocumentReference.set",t);try{return t?UE(this._delegate,e,t):UE(this._delegate,e)}catch(yN){throw iC(yN,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?VE(this._delegate,e):VE.apply(void 0,[this._delegate,e,t].concat(r))}catch(yN){throw iC(yN,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return zE(ox(e.firestore,wx),[new kv(e._key,iv.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=aC(n),a=oC(n,(function(t){return new sC(e.firestore,new lE(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return BE(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ME(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ox(e,fx);var t=ox(e.firestore,wx);return Jw(xx(t),e._key,{source:"server"}).then((function(n){return KE(t,e,n)}))}(this._delegate):function(e){e=ox(e,fx);var t=ox(e.firestore,wx);return Jw(xx(t),e._key).then((function(n){return KE(t,e,n)}))}(this._delegate),t.then((function(e){return new sC(n.firestore,new lE(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new rd("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new fx(n._delegate,r,new Vd(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new fx(n._delegate,r,t))}}]),e}();function iC(e,t,n){return e.message=e.message.replace(t,n),e}function aC(e){var t,n=pi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!JT(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function oC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=JT(e[0])?e[0]:JT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var sC=function(){function e(t,n){Pe(this,e),this._firestore=t,this._delegate=n}return Re(e,[{key:"ref",get:function(){return new rC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return pE(this._delegate,e._delegate)}}]),e}(),uC=function(e){$e(n,e);var t=nt(n);function n(){return Pe(this,n),t.apply(this,arguments)}return Re(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Zh()}(void 0!==t),t}}]),n}(sC),cC=function(){function e(t,n){Pe(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ZT(t)}return Re(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,yE(this._delegate,function(e,t,n){var r=t,i=uE("where",e);return new gE(i,r,n)}(t,n,r)))}catch(yN){throw iC(yN,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,yE(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=uE("orderBy",e);return new kE(n,t)}(t,n)))}catch(yN){throw iC(yN,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,yE(this._delegate,function(e){return sx("limit",e),new bE("limit",e,"F")}(t)))}catch(yN){throw iC(yN,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,yE(this._delegate,function(e){return sx("limitToLast",e),new bE("limitToLast",e,"L")}(t)))}catch(yN){throw iC(yN,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,yE(this._delegate,xE.apply(void 0,arguments)))}catch(yN){throw iC(yN,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,yE(this._delegate,EE.apply(void 0,arguments)))}catch(yN){throw iC(yN,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,yE(this._delegate,SE.apply(void 0,arguments)))}catch(yN){throw iC(yN,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,yE(this._delegate,IE.apply(void 0,arguments)))}catch(yN){throw iC(yN,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return yx(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?FE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ox(e,hx);var t=ox(e.firestore,wx),n=xx(t),r=new jE(t);return $w(n,e._query,{source:"server"}).then((function(n){return new hE(t,r,e,n)}))}(this._delegate):function(e){e=ox(e,hx);var t=ox(e.firestore,wx),n=xx(t),r=new jE(t);return vE(e._query),$w(n,e._query).then((function(n){return new hE(t,r,e,n)}))}(this._delegate),t.then((function(e){return new fC(n.firestore,new hE(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=aC(n),a=oC(n,(function(t){return new fC(e.firestore,new hE(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return BE(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),lC=function(){function e(t,n){Pe(this,e),this._firestore=t,this._delegate=n}return Re(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new uC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),fC=function(){function e(t,n){Pe(this,e),this._firestore=t,this._delegate=n}return Re(e,[{key:"query",get:function(){return new cC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new uC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new lC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new uC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return pE(this._delegate,e._delegate)}}]),e}(),hC=function(e){$e(n,e);var t=nt(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Re(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new rC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new rC(this.firestore,void 0===e?vx(this._delegate):vx(this._delegate,e))}catch(yN){throw iC(yN,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=ox(e.firestore,wx),r=vx(e),i=PE(e.converter,t);return zE(n,[Bx(Vx(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,iv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new rC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return mx(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(nC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(cC);function dC(e){return ox(e,fx)}var pC,vC=function(){function e(){Pe(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ns(Ax,n)}return Re(e,[{key:"isEqual",value:function(e){return(e=As(e))instanceof Ax&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Td.keyField().canonicalString())}}]),e}(),mC=function(){function e(t){Pe(this,e),this._delegate=t}return Re(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Kx("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new qx("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=GE.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=QE.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Gx("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),yC={Firestore:XT,GeoPoint:Dx,Timestamp:kd,Blob:YT,Transaction:eC,WriteBatch:tC,DocumentReference:rC,DocumentSnapshot:sC,Query:cC,QueryDocumentSnapshot:uC,QuerySnapshot:fC,CollectionReference:hC,FieldPath:vC,FieldValue:mC,setLogLevel:function(e){!function(e){Gh.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function gC(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1],i=o((0,t.useState)(!0),2),a=i[0],s=i[1],u=window.location.pathname;function c(){return(c=Ps(Rs().mark((function e(){var t;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YE.firestore().collection("pages").doc(u[u.length-1]).get();case 2:t=e.sent,r(t.data()),s(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(u=u.split("/")).shift(),u.unshift("home"),window.addEventListener("load",(function(){!function(){c.apply(this,arguments)}()})),a?(0,W.jsxs)("div",{id:"spinner-id",children:[(0,W.jsx)(HT,{animation:"border",role:"status",children:(0,W.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,W.jsxs)("span",{id:"warning-text",children:[(0,W.jsx)("br",{}),"If this takes too long, try reloading the page."]})]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)($n,{id:"page-title",variant:"light",children:[u.map((function(e){return e!==u[u.length-1]?(0,W.jsxs)("span",{id:"main-title-elm",children:[e.toLocaleUpperCase()," \u2192 "]},e):(0,W.jsx)("span",{id:"main-title-elm",children:e.toLocaleUpperCase()},e)})),(0,W.jsxs)("div",{id:"related-small",children:[(0,W.jsx)(hi.Link,{href:"/".concat(n.parent_path,"/").concat(n.related_links[0]),children:"".concat(n.related_links[0].charAt(0).toUpperCase()).concat(n.related_links[0].slice(1))}),(0,W.jsx)(hi.Link,{href:"/patients/paperwork",children:"Paperwork"}),(0,W.jsx)(hi.Link,{href:"/".concat(n.parent_path,"/").concat(n.related_links[2]),children:"".concat(n.related_links[2].charAt(0).toUpperCase()).concat(n.related_links[2].slice(1))}),(0,W.jsx)(hi.Link,{href:"/".concat(n.parent_path,"/").concat(n.related_links[3]),children:"".concat(n.related_links[3].charAt(0).toUpperCase()).concat(n.related_links[3].slice(1))})]})]}),(0,W.jsxs)(zr,{id:"content-page",fluid:!0,children:[(0,W.jsxs)(On,{className:"content-left",id:"content-left",children:[(0,W.jsx)("h5",{children:"Related Links"}),(0,W.jsx)(hi.Link,{href:"/".concat(n.parent_path,"/").concat(n.related_links[0]),children:"".concat(n.related_links[0].charAt(0).toUpperCase()).concat(n.related_links[0].slice(1))}),(0,W.jsx)(hi.Link,{href:"/".concat(n.parent_path,"/").concat(n.related_links[2]),children:"".concat(n.related_links[2].charAt(0).toUpperCase()).concat(n.related_links[2].slice(1))}),(0,W.jsx)(hi.Link,{href:"/".concat(n.parent_path,"/").concat(n.related_links[3]),children:"".concat(n.related_links[3].charAt(0).toUpperCase()).concat(n.related_links[3].slice(1))})]}),(0,W.jsxs)(On,{className:"content-right",children:[(0,W.jsx)("h4",{children:n.main_title}),(0,W.jsx)(On.Body,{dangerouslySetInnerHTML:{__html:n.main_body}})]})]})]})}function kC(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1],i=o((0,t.useState)(!0),2),a=i[0],s=i[1],u=window.location.pathname;return(u=u.split("/")).shift(),u.unshift("home"),(0,t.useEffect)((function(){s(!0),YE.firestore().collection("Surgeons").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),r(t),s(!1)}))}),[]),a?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(HT,{animation:"border",role:"status",children:(0,W.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,W.jsxs)("span",{id:"warning-text",children:[(0,W.jsx)("br",{}),"If this takes too long, try reloading the page."]})]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)($n,{id:"page-title",variant:"light",children:[u.map((function(e){return e!==u[u.length-1]?(0,W.jsxs)("span",{id:"main-title-elm",children:[e.toLocaleUpperCase()," \u2192 "]},e):(0,W.jsx)("span",{id:"main-title-elm",children:e.toLocaleUpperCase()},e)})),(0,W.jsxs)("div",{id:"related-small",children:[(0,W.jsx)(hi.Link,{href:"/about",children:"About"}),(0,W.jsx)(hi.Link,{href:"/about/anesthesia",children:"Anesthesia"}),(0,W.jsx)(hi.Link,{href:"/contact",children:"Contact"}),(0,W.jsx)(hi.Link,{href:"/about/services",children:"Services"})]})]}),(0,W.jsxs)(zr,{id:"content-page",fluid:!0,children:[(0,W.jsxs)(On,{className:"content-left",id:"content-left",children:[(0,W.jsx)("h5",{children:"Related Links"}),(0,W.jsx)(hi.Link,{href:"/about",children:"About"}),(0,W.jsx)(hi.Link,{href:"/about/anesthesia",children:"Anesthesia"}),(0,W.jsx)(hi.Link,{href:"/contact",children:"Contact"}),(0,W.jsx)(hi.Link,{href:"/about/services",children:"Services"})]}),(0,W.jsxs)(On,{className:"content-right",children:[(0,W.jsx)("h4",{children:"Our Surgeons"}),n.map((function(e){return(0,W.jsxs)("div",{className:"surgeon-card",children:[(0,W.jsx)("div",{children:(0,W.jsx)("span",{id:"surgeon-card-header",children:e.surgeon.name})}),(0,W.jsx)("hr",{}),(0,W.jsx)("p",{children:e.surgeon.description}),(0,W.jsx)(ne,{variant:"primary",onClick:function(){window.open(e.surgeon.long_description,"_blank")},children:"Learn more"})]},e.surgeon.name)}))]})]})]})}(function(e,t){e.INTERNAL.registerComponent(new Ls("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},yC)))})(pC=Nu,(function(e,t){return new XT(e,t,new $T)})),pC.registerVersion("@firebase/firestore-compat","0.1.13");var bC=t.createContext({});bC.displayName="AccordionContext";var wC=bC,xC=["as","bsPrefix","className","children","eventKey"],EC=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"div":r,a=e.bsPrefix,o=e.className,s=e.children,u=e.eventKey,c=z(e,xC),l=(0,t.useContext)(wC).activeEventKey;return a=X(a,"accordion-collapse"),(0,W.jsx)(fr,B(B({ref:n,in:l===u},c),{},{className:H()(o,a),children:(0,W.jsx)(i,{children:t.Children.only(s)})}))}));EC.displayName="AccordionCollapse";var _C=EC,SC=t.createContext({eventKey:""});SC.displayName="AccordionItemContext";var IC=SC,TC=["as","bsPrefix","className"],CC=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"div":r,a=e.bsPrefix,o=e.className,s=z(e,TC);a=X(a,"accordion-body");var u=(0,t.useContext)(IC).eventKey;return(0,W.jsx)(_C,{eventKey:u,children:(0,W.jsx)(i,B(B({ref:n},s),{},{className:H()(o,a)}))})}));CC.displayName="AccordionBody";var NC=CC,AC=["as","bsPrefix","className","onClick"];var OC=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"button":r,a=e.bsPrefix,o=e.className,s=e.onClick,u=z(e,AC);a=X(a,"accordion-button");var c=(0,t.useContext)(IC).eventKey,l=function(e,n){var r=(0,t.useContext)(wC),i=r.activeEventKey,a=r.onSelect;return function(t){a&&a(e===i?null:e,t),n&&n(t)}}(c,s),f=(0,t.useContext)(wC).activeEventKey;return"button"===i&&(u.type="button"),(0,W.jsx)(i,B(B({ref:n,onClick:l},u),{},{"aria-expanded":c===f,className:H()(o,a,c!==f&&"collapsed")}))}));OC.displayName="AccordionButton";var PC=OC,DC=["as","bsPrefix","className","children","onClick"],RC=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"h2":n,i=e.bsPrefix,a=e.className,o=e.children,s=e.onClick,u=z(e,DC);return i=X(i,"accordion-header"),(0,W.jsx)(r,B(B({ref:t},u),{},{className:H()(a,i),children:(0,W.jsx)(PC,{onClick:s,children:o})}))}));RC.displayName="AccordionHeader";var LC=RC,jC=["as","bsPrefix","className","eventKey"],MC=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"div":r,a=e.bsPrefix,o=e.className,s=e.eventKey,u=z(e,jC);a=X(a,"accordion-item");var c=(0,t.useMemo)((function(){return{eventKey:s}}),[s]);return(0,W.jsx)(IC.Provider,{value:c,children:(0,W.jsx)(i,B(B({ref:n},u),{},{className:H()(o,a)}))})}));MC.displayName="AccordionItem";var FC=MC,UC=["as","activeKey","bsPrefix","className","onSelect","flush"],VC=t.forwardRef((function(e,n){var r=jn(e,{activeKey:"onSelect"}),i=r.as,a=void 0===i?"div":i,o=r.activeKey,s=r.bsPrefix,u=r.className,c=r.onSelect,l=r.flush,f=z(r,UC),h=X(s,"accordion"),d=(0,t.useMemo)((function(){return{activeEventKey:o,onSelect:c}}),[o,c]);return(0,W.jsx)(wC.Provider,{value:d,children:(0,W.jsx)(a,B(B({ref:n},f),{},{className:H()(u,h,l&&"".concat(h,"-flush"))}))})}));VC.displayName="Accordion";var BC=Object.assign(VC,{Button:PC,Collapse:_C,Item:FC,Header:LC,Body:NC});function qC(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1],i=o((0,t.useState)(!0),2),a=i[0],s=i[1],u=window.location.pathname;return(u=u.split("/")).shift(),u.unshift("home"),(0,t.useEffect)((function(){s(!0),YE.firestore().collection("services").orderBy("full_name","asc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),r(t),s(!1)}))}),[]),a?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(HT,{animation:"border",role:"status",children:(0,W.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,W.jsxs)("span",{id:"warning-text",children:[(0,W.jsx)("br",{}),"If this takes too long, try reloading the page."]})]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)($n,{id:"page-title",variant:"light",children:[u.map((function(e){return e!==u[u.length-1]?(0,W.jsxs)("span",{id:"main-title-elm",children:[e.toLocaleUpperCase()," \u2192 "]},e):(0,W.jsx)("span",{id:"main-title-elm",children:e.toLocaleUpperCase()},e)})),(0,W.jsxs)("div",{id:"related-small",children:[(0,W.jsx)(hi.Link,{href:"/about",children:"About"}),(0,W.jsx)(hi.Link,{href:"/about/anesthesia",children:"Anesthesia"}),(0,W.jsx)(hi.Link,{href:"/contact",children:"Contact"}),(0,W.jsx)(hi.Link,{href:"/about/surgeons",children:"Surgeons"})]})]}),(0,W.jsxs)(zr,{id:"content-page",fluid:!0,children:[(0,W.jsxs)(On,{className:"content-left",id:"content-left",children:[(0,W.jsx)("h5",{children:"Related Links"}),(0,W.jsx)(hi.Link,{href:"/about",children:"About"}),(0,W.jsx)(hi.Link,{href:"/about/anesthesia",children:"Anesthesia"}),(0,W.jsx)(hi.Link,{href:"/contact",children:"Contact"}),(0,W.jsx)(hi.Link,{href:"/about/surgeons",children:"Surgeons"})]}),(0,W.jsxs)(On,{className:"content-right",children:[(0,W.jsx)("h4",{children:"Services"}),(0,W.jsx)(BC,{children:n.map((function(e){return""!==e.short_name?(0,W.jsxs)(BC.Item,{eventKey:n.indexOf(e),children:[(0,W.jsx)(BC.Header,{children:e.full_name}),(0,W.jsxs)(BC.Body,{children:[(0,W.jsxs)("div",{className:"service-subheader",children:["Also known as: ",e.short_name]}),e.description]})]},e.full_name):(0,W.jsxs)(BC.Item,{eventKey:n.indexOf(e),children:[(0,W.jsx)(BC.Header,{children:e.full_name}),(0,W.jsx)(BC.Body,{children:e.description})]},e.full_name)}))})]})]})]})}function zC(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1],i=o((0,t.useState)(!0),2),a=i[0],s=i[1],u=window.location.pathname;return(u=u.split("/")).shift(),u.unshift("home"),(0,t.useEffect)((function(){s(!0),YE.firestore().collection("Anesthesia").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),r(t),s(!1)}))}),[]),a?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(HT,{animation:"border",role:"status",children:(0,W.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,W.jsxs)("span",{id:"warning-text",children:[(0,W.jsx)("br",{}),"If this takes too long, try reloading the page."]})]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)($n,{id:"page-title",variant:"light",children:[u.map((function(e){return e!==u[u.length-1]?(0,W.jsxs)("span",{id:"main-title-elm",children:[e.toLocaleUpperCase()," \u2192 "]},e):(0,W.jsx)("span",{id:"main-title-elm",children:e.toLocaleUpperCase()},e)})),(0,W.jsxs)("div",{id:"related-small",children:[(0,W.jsx)(hi.Link,{href:"/about",children:"About"}),(0,W.jsx)(hi.Link,{href:"/about/surgeons",children:"Surgeons"}),(0,W.jsx)(hi.Link,{href:"/about/services",children:"Services"})]})]}),(0,W.jsxs)(zr,{id:"content-page",fluid:!0,children:[(0,W.jsxs)(On,{className:"content-left",id:"content-left",children:[(0,W.jsx)("h5",{children:"Related Links"}),(0,W.jsx)(hi.Link,{href:"/about",children:"About"}),(0,W.jsx)(hi.Link,{href:"/about/surgeons",children:"Surgeons"}),(0,W.jsx)(hi.Link,{href:"/about/services",children:"Services"})]}),(0,W.jsxs)(On,{className:"content-right",children:[(0,W.jsx)("h4",{children:"Our Anesthesiologists"}),(0,W.jsx)("hr",{}),n.map((function(e){return(0,W.jsx)("div",{children:(0,W.jsx)("div",{children:e.name})},e.name)}))]})]})]})}var KC=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],HC=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.striped,a=e.bordered,o=e.borderless,s=e.hover,u=e.size,c=e.variant,l=e.responsive,f=z(e,KC),h=X(n,"table"),d=H()(r,h,c&&"".concat(h,"-").concat(c),u&&"".concat(h,"-").concat(u),i&&"".concat(h,"-striped"),a&&"".concat(h,"-bordered"),o&&"".concat(h,"-borderless"),s&&"".concat(h,"-hover")),p=(0,W.jsx)("table",B(B({},f),{},{className:d,ref:t}));if(l){var v="".concat(h,"-responsive");return"string"===typeof l&&(v="".concat(v,"-").concat(l)),(0,W.jsx)("div",{className:v,children:p})}return p})),WC=HC,GC=function(){return(0,W.jsxs)(fn,{id:"contact-container",children:[(0,W.jsxs)(On,{children:[(0,W.jsx)(On.Header,{children:"Contact Us"}),(0,W.jsx)(On.Subtitle,{className:"contact-subtitle",children:(0,W.jsx)("img",{id:"phone-svg",src:"Images/phone.svg",alt:"Via Phone"})}),(0,W.jsxs)(On.Body,{id:"contact-body",children:[(0,W.jsx)("div",{className:"contact-button",children:(0,W.jsx)("span",{children:(0,W.jsx)("span",{children:(0,W.jsx)("span",{children:(0,W.jsxs)("a",{href:"tel:+16233996880",children:["Phone: ",(0,W.jsx)("br",{className:"hidden-break"}),"\ud83d\udcde (623) 399-6880"]})})})})}),(0,W.jsx)("div",{className:"contact-button",children:(0,W.jsx)("span",{children:(0,W.jsx)("span",{children:(0,W.jsx)("span",{children:(0,W.jsxs)("a",{href:"fax:+16233221504",children:["Fax: ",(0,W.jsx)("br",{className:"hidden-break"}),"\ud83d\udce0 (623) 322-1504"]})})})})})]})]}),(0,W.jsxs)(On,{children:[(0,W.jsx)(On.Header,{children:"Visit Us"}),(0,W.jsx)("img",{id:"phone-svg",src:"Images/location.svg",alt:"Visit Us"}),(0,W.jsxs)(On.Body,{children:[(0,W.jsx)("div",{className:"contact-button",id:"contact-right",children:(0,W.jsx)("span",{children:(0,W.jsx)("span",{children:(0,W.jsx)("span",{children:(0,W.jsx)("a",{target:"_blank",rel:"noreferrer",href:"http://www.google.com/search?q=Four+Peaks+Surgery+Center",children:"Address: 9425 West Bell Road, Sun City, Arizona 85351"})})})})}),(0,W.jsxs)(WC,{id:"schedule-table",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[(0,W.jsx)("thead",{children:(0,W.jsxs)("tr",{children:[(0,W.jsx)("th",{children:"Monday"}),(0,W.jsx)("th",{children:"Tuesday"}),(0,W.jsx)("th",{children:"Wednesday"}),(0,W.jsx)("th",{children:"Thursday"}),(0,W.jsx)("th",{children:"Friday"})]})}),(0,W.jsx)("tbody",{children:(0,W.jsxs)("tr",{children:[(0,W.jsx)("td",{children:"8:30 AM - 5:00 PM"}),(0,W.jsx)("td",{children:"8:30 AM - 5:00 PM"}),(0,W.jsx)("td",{children:"8:30 AM - 5:00 PM"}),(0,W.jsx)("td",{children:"8:30 AM - 5:00 PM"}),(0,W.jsx)("td",{children:"8:30 AM - 5:00 PM"})]})})]})]})]})]})},QC=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],YC=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.active,i=e.disabled,a=e.eventKey,s=e.className,u=e.variant,c=e.action,l=e.as,f=z(e,QC);n=X(n,"list-group-item");var h=o(Xr(B({key:Xn(a,f.href),active:r},f)),2),d=h[0],p=h[1],v=pe((function(e){if(i)return e.preventDefault(),void e.stopPropagation();d.onClick(e)}));i&&void 0===f.tabIndex&&(f.tabIndex=-1,f["aria-disabled"]=!0);var m=l||(c?f.href?"a":"button":"div");return(0,W.jsx)(m,B(B(B({ref:t},f),d),{},{onClick:v,className:H()(s,n,p.isActive&&"active",i&&"disabled",u&&"".concat(n,"-").concat(u),c&&"".concat(n,"-action"))}))}));YC.displayName="ListGroupItem";var JC=YC,$C=["className","bsPrefix","variant","horizontal","numbered","as"],XC=t.forwardRef((function(e,t){var n,r=jn(e,{activeKey:"onSelect"}),i=r.className,a=r.bsPrefix,o=r.variant,s=r.horizontal,u=r.numbered,c=r.as,l=void 0===c?"div":c,f=z(r,$C),h=X(a,"list-group");return s&&(n=!0===s?"horizontal":"horizontal-".concat(s)),(0,W.jsx)(ai,B(B({ref:t},f),{},{as:l,className:H()(i,h,o&&"".concat(h,"-").concat(o),n&&"".concat(h,"-").concat(n),u&&"".concat(h,"-numbered"))}))}));XC.displayName="ListGroup";var ZC=Object.assign(XC,{Item:JC}),eN=["bsPrefix","bg","pill","text","className","as"],tN=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.bg,i=e.pill,a=e.text,o=e.className,s=e.as,u=void 0===s?"span":s,c=z(e,eN),l=X(n,"badge");return(0,W.jsx)(u,B(B({ref:t},c),{},{className:H()(o,l,i&&"rounded-pill",a&&"text-".concat(a),r&&"bg-".concat(r))}))}));tN.displayName="Badge",tN.defaultProps={bg:"primary",pill:!1};var nN=tN;function rN(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1],i=o((0,t.useState)(!0),2),a=i[0],s=i[1],u=window.location.pathname;function c(){return(c=Ps(Rs().mark((function e(){var t;return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YE.firestore().collection("pages").doc("paperwork_page").get();case 2:t=e.sent,r(t.data()),s(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(u=u.split("/")).shift(),u.unshift("home"),window.addEventListener("load",(function(){!function(){c.apply(this,arguments)}()})),a?(0,W.jsxs)("div",{id:"spinner-id",children:[(0,W.jsx)(HT,{animation:"border",role:"status",children:(0,W.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,W.jsxs)("span",{id:"warning-text",children:[(0,W.jsx)("br",{}),"If this takes too long, try reloading the page."]})]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)($n,{id:"page-title",variant:"light",children:[u.map((function(e){return e!==u[u.length-1]?(0,W.jsxs)("span",{id:"main-title-elm",children:[e.toLocaleUpperCase()," \u2192 "]},e):(0,W.jsx)("span",{id:"main-title-elm",children:e.toLocaleUpperCase()},e)})),(0,W.jsxs)("div",{id:"related-small",children:[(0,W.jsx)(hi.Link,{href:"/".concat(n.related_links[3]),children:"".concat(n.related_links[3].charAt(0).toUpperCase()).concat(n.related_links[3].slice(1))}),(0,W.jsx)(hi.Link,{href:"/contact",children:"Contact"}),(0,W.jsx)(hi.Link,{href:"/about/services",children:"Services"}),(0,W.jsx)(hi.Link,{href:"/testimonials",children:"Testimonials"})]})]}),(0,W.jsxs)(zr,{id:"content-page",fluid:!0,children:[(0,W.jsxs)(On,{className:"content-left",id:"content-left",children:[(0,W.jsx)("h5",{children:"Related Links"}),(0,W.jsx)(hi.Link,{href:"/".concat(n.related_links[3]),children:"".concat(n.related_links[3].charAt(0).toUpperCase()).concat(n.related_links[3].slice(1))}),(0,W.jsx)(hi.Link,{href:"/contact",children:"Contact"}),(0,W.jsx)(hi.Link,{href:"/about/services",children:"Services"}),(0,W.jsx)(hi.Link,{href:"/testimonials",children:"Testimonials"})]}),(0,W.jsxs)(On,{className:"content-right",children:[(0,W.jsxs)("h4",{children:["Patient ",n.main_title]}),(0,W.jsx)("hr",{}),(0,W.jsxs)(On.Body,{children:[(0,W.jsx)("h5",{children:"Day-of surgery papers"}),(0,W.jsxs)(ZC,{as:"ol",numbered:!0,children:[n.papers.map((function(e){return(0,W.jsxs)(ZC.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:[(0,W.jsxs)("div",{id:"paper-card",className:"ms-2 me-auto",children:[(0,W.jsx)("div",{className:"fw-bold",children:e.name}),(0,W.jsx)("span",{id:"paper-card",children:e.description})]}),(0,W.jsx)(nN,{variant:"primary",id:"link-pill",pill:!0,children:(0,W.jsx)("a",{href:e.link,target:"_blank",rel:"noreferrer",children:"View"})})]},e.name)})),(0,W.jsx)("hr",{}),(0,W.jsx)("h5",{children:"Other"}),(0,W.jsxs)(ZC.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:[(0,W.jsxs)("div",{id:"paper-card",className:"ms-2 me-auto",children:[(0,W.jsx)("div",{className:"fw-bold",children:"Save All"}),(0,W.jsx)("span",{id:"paper-card",children:"Save all forms to your device"})]}),(0,W.jsx)(nN,{variant:"success",id:"link-pill",pill:!0,children:(0,W.jsx)("a",{href:"https://firebasestorage.googleapis.com/v0/b/fourpeaks-sc.appspot.com/o/All%20Check%20In%20Forms.pdf?alt=media&token=0ac380a9-4c83-4ce7-96d2-e5b4c48fa6a6",target:"_blank",rel:"noreferrer",children:"Save All"})})]}),(0,W.jsxs)(ZC.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:[(0,W.jsxs)("div",{id:"paper-card",className:"ms-2 me-auto",children:[(0,W.jsx)("div",{className:"fw-bold",children:"Physician Ownership Declaration"}),(0,W.jsx)("span",{id:"paper-card",children:"Your physician may be an owner of this facility."})]}),(0,W.jsx)(nN,{variant:"success",id:"link-pill",pill:!0,children:(0,W.jsx)("a",{href:"https://firebasestorage.googleapis.com/v0/b/fourpeaks-sc.appspot.com/o/Patient%20Physician%20Ownership%20disclosure.pdf?alt=media&token=ba7a5c3b-72b5-480f-80bc-582063104040",target:"_blank",rel:"noreferrer",children:"View"})})]}),(0,W.jsxs)(ZC.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:[(0,W.jsxs)("div",{id:"paper-card",className:"ms-2 me-auto",children:[(0,W.jsx)("div",{className:"fw-bold",children:"No Surprises Act"}),(0,W.jsx)("span",{id:"paper-card",children:'Federal billing information regarding the "No Surprises Act".'})]}),(0,W.jsx)(nN,{variant:"success",id:"link-pill",pill:!0,children:(0,W.jsx)("a",{href:"https://firebasestorage.googleapis.com/v0/b/fourpeaks-sc.appspot.com/o/No%20Surprises%20Act%20Implementation.pdf?alt=media&token=801b1f2f-4ab2-42ab-a806-ac65c1b0493e",target:"_blank",rel:"noreferrer",children:"View"})})]})]})]})]})]})]})}function iN(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1],i=window.location.pathname;function a(){return(a=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YE.firestore().collection("Testimonials").orderBy("date","desc");case 2:e.sent.onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data()),console.log(e.data())})),r(t)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(i=i.split("/")).shift(),i.unshift("home"),(0,t.useEffect)((function(){!function(){a.apply(this,arguments)}()}),[]);for(var s=Oe(new Set(n.map((function(e){return e.date})))),u=[],c=function(e){u.push({date:s[e],occurrences:n.reduce((function(t,n){return t+(n.date===s[e])}),0)})},l=0;l<s.length;l++)c(l);return console.log(u),(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)($n,{id:"page-title",variant:"light",children:[i.map((function(e){return e!==i[i.length-1]?(0,W.jsxs)("span",{id:"main-title-elm",children:[e.toLocaleUpperCase()," \u2192 "]},e):(0,W.jsx)("span",{id:"main-title-elm",children:e.toLocaleUpperCase()},e)})),(0,W.jsxs)("div",{id:"related-small",children:[(0,W.jsx)(hi.Link,{href:"/about",children:"About"}),(0,W.jsx)(hi.Link,{href:"/contact",children:"Contact"}),(0,W.jsx)(hi.Link,{href:"/patients/paperwork",children:"Paperwork"}),(0,W.jsx)(hi.Link,{href:"/about/services",children:"Services"})]})]}),(0,W.jsxs)(zr,{id:"content-page",fluid:!0,children:[(0,W.jsxs)(On,{className:"content-left",id:"content-left",children:[(0,W.jsx)("h5",{children:"Related Links"}),(0,W.jsx)(hi.Link,{href:"/about",children:"About"}),(0,W.jsx)(hi.Link,{href:"/contact",children:"Contact"}),(0,W.jsx)(hi.Link,{href:"/patients/paperwork",children:"Paperwork"}),(0,W.jsx)(hi.Link,{href:"/about/services",children:"Services"})]}),(0,W.jsxs)(On,{className:"content-right",children:[(0,W.jsx)("h4",{children:"Patient Testimonials"}),(0,W.jsx)("div",{className:"review-card-container",children:u.map((function(e){for(var t=[],r=0;r<e.occurrences;r++)r===e.occurrences-1?t.push((0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{className:"review-card",children:(0,W.jsxs)("li",{className:"comment",children:['"',n[r].comments,'"']})}),(0,W.jsx)("hr",{})]})):t.push((0,W.jsx)("div",{className:"review-card",children:(0,W.jsxs)("li",{className:"comment",children:['"',n[r].comments,'"']})}));return(0,W.jsxs)("div",{className:"card-body",children:[(0,W.jsx)("h5",{children:e.date.substring(3,e.date.length)}),t]})}))})]})]})]})}var aN,oN=function(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1],i=o((0,t.useState)(!0),2),a=i[0],s=i[1];function u(){return u=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YE.firestore().collection("Auto Suggestions").orderBy("drType","asc");case 2:e.sent.onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),r(t),s(!1)}));case 4:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}return(0,t.useEffect)((function(){!function(){u.apply(this,arguments)}(),console.log(n)}),[]),a?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(HT,{animation:"border",role:"status",children:(0,W.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,W.jsxs)("span",{id:"warning-text",children:[(0,W.jsx)("br",{}),"If this takes too long, try reloading the page."]})]}):(0,W.jsxs)(WC,{id:"suggestion-table",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[(0,W.jsx)("thead",{children:(0,W.jsxs)("tr",{children:[(0,W.jsx)("th",{children:"Physician"}),(0,W.jsx)("th",{children:"Phone"}),(0,W.jsx)("th",{children:"Fax"})]})}),(0,W.jsxs)("tbody",{children:[n.map((function(e){return(0,W.jsxs)("tr",{children:[(0,W.jsxs)("td",{children:[e.drType.map((function(e){return String.fromCharCode(e-25)})),": ",e.dr.map((function(e){return String.fromCharCode(e-25)}))]}),(0,W.jsx)("td",{children:e.phone.map((function(e){return String.fromCharCode(e-25)}))}),(0,W.jsx)("td",{children:e.fax.map((function(e){return String.fromCharCode(e-25)}))})]})})),(0,W.jsx)("tr",{children:(0,W.jsxs)("td",{colSpan:3,children:["Total suggestions collected: ",n.length]})})]})]})},sN=new Uint8Array(16);function uN(){if(!aN&&!(aN="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return aN(sN)}var cN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var lN=function(e){return"string"===typeof e&&cN.test(e)},fN=[],hN=0;hN<256;++hN)fN.push((hN+256).toString(16).substr(1));var dN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(fN[e[t+0]]+fN[e[t+1]]+fN[e[t+2]]+fN[e[t+3]]+"-"+fN[e[t+4]]+fN[e[t+5]]+"-"+fN[e[t+6]]+fN[e[t+7]]+"-"+fN[e[t+8]]+fN[e[t+9]]+"-"+fN[e[t+10]]+fN[e[t+11]]+fN[e[t+12]]+fN[e[t+13]]+fN[e[t+14]]+fN[e[t+15]]).toLowerCase();if(!lN(n))throw TypeError("Stringified UUID is invalid");return n};var pN=function(e,t,n){var r=(e=e||{}).random||(e.rng||uN)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return dN(r)};function vN(){function e(){return(e=Ps(Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.ipify.org?format=json").then((function(e){return e.json()})).then((function(e){sessionStorage.setItem("UserIP",e.ip)})).catch((function(){return console.log("No data provided...")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}sessionStorage.UserProviderID||sessionStorage.setItem("UserProviderID",pN()),sessionStorage.CollectedPaths||sessionStorage.setItem("CollectedPaths",""),sessionStorage.UserIP||function(){e.apply(this,arguments)}();var t=sessionStorage.CollectedPaths.split(", ");function n(){return(n=Ps(Rs().mark((function e(t,n,r){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YE.firestore().collection("Analytics").doc(r).set({paths:n.split(", "),ip_addr:r,pages_visited:n.split(", ").length-1,access_time:(new Date).toLocaleString()});case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t[t.length-1]!==window.location.pathname&&(sessionStorage.CollectedPaths+=", ".concat(window.location.pathname)),window.onbeforeunload=function(e,t,r){return n.apply(this,arguments)}(sessionStorage.UserProviderID,sessionStorage.CollectedPaths,sessionStorage.UserIP),!0}var mN=function(){var e=o((0,t.useState)(!1),2),n=e[0],r=e[1],i=function(){return r(!1)};return(0,W.jsxs)(F,{children:[(0,W.jsx)(vN,{}),(0,W.jsxs)($n,{id:"covid-banner",variant:"danger",children:[(0,W.jsx)(ne,{id:"modal-button",variant:"danger",onClick:function(){return r(!0)},children:"COVID-19"}),(0,W.jsxs)(ln,{show:n,onHide:i,children:[(0,W.jsx)(ln.Header,{closeButton:!0,children:(0,W.jsx)(ln.Title,{children:"A Message from Four Peaks"})}),(0,W.jsx)(ln.Body,{children:"Four Peaks Surgery Center actively monitors CDC Guidelines and practices for the Covid-19 pandemic, please remember to bring your mask while you're with us. Please call us immediately if you are experiencing symptoms before/near your scheduled surgery."}),(0,W.jsx)(ln.Footer,{children:(0,W.jsx)(ne,{variant:"primary",onClick:i,children:"Got it, thanks!"})})]})]}),(0,W.jsx)(Uo,{}),(0,W.jsxs)(E,{children:[(0,W.jsx)(w,{path:"/",element:(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(Zo,{}),(0,W.jsx)(ts,{}),(0,W.jsx)(es,{})]})}),(0,W.jsx)(w,{path:"/about",element:(0,W.jsx)(gC,{})}),(0,W.jsx)(w,{path:"/about/surgeons",element:(0,W.jsx)(kC,{})}),(0,W.jsx)(w,{path:"/about/services",element:(0,W.jsx)(qC,{})}),(0,W.jsx)(w,{path:"/about/anesthesia",element:(0,W.jsx)(zC,{})}),(0,W.jsx)(w,{path:"/patients/paperwork",element:(0,W.jsx)(rN,{})}),(0,W.jsx)(w,{path:"/testimonials",element:(0,W.jsx)(iN,{})}),(0,W.jsx)(w,{path:"/contact",element:(0,W.jsx)(GC,{})}),(0,W.jsx)(w,{path:"/stats",element:(0,W.jsx)(oN,{})}),(0,W.jsx)(w,{path:"/secret",element:(0,W.jsx)(qT,{})})]}),(0,W.jsx)(Pn,{})]})};r.render((0,W.jsx)(t.StrictMode,{children:(0,W.jsx)(mN,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.3c71806a.js.map